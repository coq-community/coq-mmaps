<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
</div>

<div class="doc">
<a id="lab9"></a><h1 class="section">Finite Modular Maps: Functors of Properties</h1>

<div class="paragraph"> </div>

 Author: Pierre Letouzey (Université de Paris - INRIA),
    adapted from earlier works in Coq Standard Library, see README.md.
    License: LGPL-2.1-only, see file LICENSE. 
<div class="paragraph"> </div>

 This functor derives additional facts from <span class="inlinecode"><span class="id" title="var">MMaps.Interface.S</span></span>. These
  facts are mainly the specifications of <span class="inlinecode"><span class="id" title="var">MMaps.Interface.S</span></span> written using
  different styles: equivalence and boolean equalities.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Bool.Bool.html#"><span class="id" title="library">Bool</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Structures.Equalities.html#"><span class="id" title="library">Equalities</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Structures.Orders.html#"><span class="id" title="library">Orders</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Structures.OrdersFacts.html#"><span class="id" title="library">OrdersFacts</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Structures.OrdersLists.html#"><span class="id" title="library">OrdersLists</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Structures.OrdersAlt.html#"><span class="id" title="library">OrdersAlt</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#"><span class="id" title="library">Morphisms</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Sorting.Permutation.html#"><span class="id" title="library">Permutation</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidPermutation.html#"><span class="id" title="library">SetoidPermutation</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MMaps</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MMaps.Utils.html#"><span class="id" title="library">Utils</span></a> <a class="idref" href="MMaps.Comparisons.html#"><span class="id" title="library">Comparisons</span></a> <a class="idref" href="MMaps.Interface.html#"><span class="id" title="library">Interface</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="keyword">Strict</span> <span class="id" title="keyword">Implicit</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab10"></a><h2 class="section">Properties that are common to weak maps and ordered maps</h2>


<div class="paragraph"> </div>

    Thanks to subtyping, this functor can also be applied to
    <span class="inlinecode">(<span class="id" title="var">K</span>:<span class="id" title="var">OrderedType</span>)(<span class="id" title="var">M</span>:<a class="idref" href="MMaps.Raw.html#S"><span class="id" title="module">S</span></a></span> <span class="inlinecode"><span class="id" title="var">K</span>)</span>.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <a id="Properties" class="idref" href="#Properties"><span class="id" title="module">Properties</span></a> (<span class="id" title="var">K</span>:<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Structures.Equalities.html#DecidableType"><span class="id" title="module">DecidableType</span></a>)(<span class="id" title="keyword">Import</span> <span class="id" title="var">M</span>:<a class="idref" href="MMaps.Interface.html#WS"><span class="id" title="module">WS</span></a> <a class="idref" href="MMaps.Facts.html#K"><span class="id" title="module">K</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Properties.Empty" class="idref" href="#Properties.Empty"><span class="id" title="definition">Empty</span></a> {<a id="elt:1" class="idref" href="#elt:1"><span class="id" title="binder">elt</span></a>}(<a id="m:2" class="idref" href="#m:2"><span class="id" title="binder">m</span></a> : <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#elt:1"><span class="id" title="variable">elt</span></a>) := <span class="id" title="keyword">∀</span> <a id="x:3" class="idref" href="#x:3"><span class="id" title="binder">x</span></a> <a id="e:4" class="idref" href="#e:4"><span class="id" title="binder">e</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#x:3"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:4"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:2"><span class="id" title="variable">m</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Properties.eq_key_elt" class="idref" href="#Properties.eq_key_elt"><span class="id" title="definition">eq_key_elt</span></a> {<a id="elt:5" class="idref" href="#elt:5"><span class="id" title="binder">elt</span></a>} := <a class="idref" href="MMaps.Interface.html#Duo"><span class="id" title="definition">Duo</span></a> <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> (@<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a> <a class="idref" href="MMaps.Facts.html#elt:5"><span class="id" title="variable">elt</span></a>).<br/>
<span class="id" title="keyword">Definition</span> <a id="Properties.eq_key" class="idref" href="#Properties.eq_key"><span class="id" title="definition">eq_key</span></a> {<a id="elt:6" class="idref" href="#elt:6"><span class="id" title="binder">elt</span></a>} := @<a class="idref" href="MMaps.Interface.html#Fst"><span class="id" title="definition">Fst</span></a> <span class="id" title="var">_</span> <a class="idref" href="MMaps.Facts.html#elt:6"><span class="id" title="variable">elt</span></a> <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a>.<br/>

<br/>
</div>

<div class="doc">
A few things about K.eq 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.eq_refl" class="idref" href="#Properties.eq_refl"><span class="id" title="lemma">eq_refl</span></a> <a id="x:7" class="idref" href="#x:7"><span class="id" title="binder">x</span></a> : <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:7"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#x:7"><span class="id" title="variable">x</span></a>. <span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#K.eq_equiv"><span class="id" title="axiom">K.eq_equiv</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.eq_sym" class="idref" href="#Properties.eq_sym"><span class="id" title="lemma">eq_sym</span></a> <a id="x:8" class="idref" href="#x:8"><span class="id" title="binder">x</span></a> <a id="y:9" class="idref" href="#y:9"><span class="id" title="binder">y</span></a> : <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:8"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:9"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#y:9"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#x:8"><span class="id" title="variable">x</span></a>. <span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#K.eq_equiv"><span class="id" title="axiom">K.eq_equiv</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.eq_trans" class="idref" href="#Properties.eq_trans"><span class="id" title="lemma">eq_trans</span></a> <a id="x:10" class="idref" href="#x:10"><span class="id" title="binder">x</span></a> <a id="y:11" class="idref" href="#y:11"><span class="id" title="binder">y</span></a> <a id="z:12" class="idref" href="#z:12"><span class="id" title="binder">z</span></a> : <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:10"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:11"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#y:11"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#z:12"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:10"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#z:12"><span class="id" title="variable">z</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#K.eq_equiv"><span class="id" title="axiom">K.eq_equiv</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Immediate</span> <span class="id" title="var">eq_refl</span> <span class="id" title="var">eq_sym</span> : <span class="id" title="var">map</span>.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">eq_trans</span> <span class="id" title="var">eq_equivalence</span> <span class="id" title="var">K.eq_equiv</span> : <span class="id" title="var">map</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Properties.eqb" class="idref" href="#Properties.eqb"><span class="id" title="definition">eqb</span></a> <a id="x:13" class="idref" href="#x:13"><span class="id" title="binder">x</span></a> <a id="y:14" class="idref" href="#y:14"><span class="id" title="binder">y</span></a> := <span class="id" title="keyword">if</span> <a class="idref" href="MMaps.Facts.html#K.eq_dec"><span class="id" title="axiom">K.eq_dec</span></a> <a class="idref" href="MMaps.Facts.html#x:13"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:14"><span class="id" title="variable">y</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.eqb_eq" class="idref" href="#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <a id="x:15" class="idref" href="#x:15"><span class="id" title="binder">x</span></a> <a id="y:16" class="idref" href="#y:16"><span class="id" title="binder">y</span></a> : <a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> <a class="idref" href="MMaps.Facts.html#x:15"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:16"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:15"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:16"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a>; <span class="id" title="tactic">case</span> <a class="idref" href="MMaps.Facts.html#K.eq_dec"><span class="id" title="axiom">K.eq_dec</span></a>; <span class="id" title="var">now</span> <span class="id" title="tactic">intuition</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.eqb_sym" class="idref" href="#Properties.eqb_sym"><span class="id" title="lemma">eqb_sym</span></a> <a id="x:17" class="idref" href="#x:17"><span class="id" title="binder">x</span></a> <a id="y:18" class="idref" href="#y:18"><span class="id" title="binder">y</span></a> : <a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> <a class="idref" href="MMaps.Facts.html#x:17"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:18"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> <a class="idref" href="MMaps.Facts.html#y:18"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#x:17"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Utils.html#eq_bool_alt"><span class="id" title="lemma">eq_bool_alt</span></a>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#K.eq_equiv"><span class="id" title="axiom">K.eq_equiv</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Initial results about MapsTo and In 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.mapsto_fun" class="idref" href="#Properties.mapsto_fun"><span class="id" title="lemma">mapsto_fun</span></a> {<a id="elt:19" class="idref" href="#elt:19"><span class="id" title="binder">elt</span></a>} <a id="m:20" class="idref" href="#m:20"><span class="id" title="binder">m</span></a> <a id="x:21" class="idref" href="#x:21"><span class="id" title="binder">x</span></a> (<a id="e:22" class="idref" href="#e:22"><span class="id" title="binder">e</span></a> <a id="e':23" class="idref" href="#e':23"><span class="id" title="binder">e'</span></a>:<a class="idref" href="MMaps.Facts.html#elt:19"><span class="id" title="variable">elt</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#x:21"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:22"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:20"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#x:21"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e':23"><span class="id" title="variable">e'</span></a> <a class="idref" href="MMaps.Facts.html#m:20"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#e:22"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><a class="idref" href="MMaps.Facts.html#e':23"><span class="id" title="variable">e'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>. <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.in_find" class="idref" href="#Properties.in_find"><span class="id" title="lemma">in_find</span></a> {<a id="elt:24" class="idref" href="#elt:24"><span class="id" title="binder">elt</span></a>} (<a id="m:25" class="idref" href="#m:25"><span class="id" title="binder">m</span></a> : <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#elt:24"><span class="id" title="variable">elt</span></a>) <a id="x:26" class="idref" href="#x:26"><span class="id" title="binder">x</span></a> : <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:26"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:25"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:26"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:25"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;- <span class="id" title="tactic">intros</span> (<span class="id" title="var">e</span>,<span class="id" title="var">H</span>). <span class="id" title="tactic">rewrite</span> &lt;-<a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">e</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> 1.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.not_in_find" class="idref" href="#Properties.not_in_find"><span class="id" title="lemma">not_in_find</span></a> {<a id="elt:27" class="idref" href="#elt:27"><span class="id" title="binder">elt</span></a>} (<a id="m:28" class="idref" href="#m:28"><span class="id" title="binder">m</span></a> : <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#elt:27"><span class="id" title="variable">elt</span></a>) <a id="x:29" class="idref" href="#x:29"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:29"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:28"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:29"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:28"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.in_find"><span class="id" title="lemma">in_find</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span>); <span class="id" title="tactic">trivial</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="Properties.in_find_iff" class="idref" href="#Properties.in_find_iff"><span class="id" title="abbreviation">in_find_iff</span></a> := <a class="idref" href="MMaps.Facts.html#Properties.in_find"><span class="id" title="lemma">in_find</span></a> (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
<span class="id" title="keyword">Notation</span> <a id="Properties.not_find_in_iff" class="idref" href="#Properties.not_find_in_iff"><span class="id" title="abbreviation">not_find_in_iff</span></a> := <a class="idref" href="MMaps.Facts.html#Properties.not_in_find"><span class="id" title="lemma">not_in_find</span></a> (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab11"></a><h3 class="section">Equal and Eqdom are setoid equalities</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Infix</span> <a id="fcb8a577945565d2481ac60f0b5cab27" class="idref" href="#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">&quot;</span></a>==" := <a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 30).<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Properties.Equal_equiv" class="idref" href="#Properties.Equal_equiv"><span class="id" title="instance">Equal_equiv</span></a> {<a id="elt:30" class="idref" href="#elt:30"><span class="id" title="binder">elt</span></a>} : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> (@<a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a> <a class="idref" href="MMaps.Facts.html#elt:30"><span class="id" title="variable">elt</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Properties.Eqdom_equiv" class="idref" href="#Properties.Eqdom_equiv"><span class="id" title="instance">Eqdom_equiv</span></a> {<a id="elt:31" class="idref" href="#elt:31"><span class="id" title="binder">elt</span></a>} : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> (@<a class="idref" href="MMaps.Facts.html#M.Eqdom"><span class="id" title="definition">Eqdom</span></a> <a class="idref" href="MMaps.Facts.html#elt:31"><span class="id" title="variable">elt</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">split</span>.<br/>
- <span class="id" title="var">now</span> <span class="id" title="tactic">intro</span> <span class="id" title="var">m</span>.<br/>
- <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span>.<br/>
- <span class="id" title="tactic">intros</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">m3</span> <span class="id" title="var">E</span> <span class="id" title="var">E'</span> <span class="id" title="var">y</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">E</span> <span class="id" title="var">y</span>), &lt;-(<span class="id" title="var">E'</span> <span class="id" title="var">y</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Properties.Equal_Eqdom" class="idref" href="#Properties.Equal_Eqdom"><span class="id" title="instance">Equal_Eqdom</span></a> {<a id="elt:32" class="idref" href="#elt:32"><span class="id" title="binder">elt</span></a>} : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.RelationClasses.html#subrelation"><span class="id" title="class">subrelation</span></a> (@<a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a> <a class="idref" href="MMaps.Facts.html#elt:32"><span class="id" title="variable">elt</span></a>) (@<a class="idref" href="MMaps.Facts.html#M.Eqdom"><span class="id" title="definition">Eqdom</span></a> <a class="idref" href="MMaps.Facts.html#elt:32"><span class="id" title="variable">elt</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">E</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">E</span> <span class="id" title="var">k</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#Properties.in_find"><span class="id" title="lemma">in_find</span></a>, <span class="id" title="var">E</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a> {<span class="id" title="var">elt</span>} <span class="id" title="var">m</span> <span class="id" title="var">m'</span>.<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="MMaps.Facts.html#M.Eqdom"><span class="id" title="definition">Eqdom</span></a> {<span class="id" title="var">elt</span>} <span class="id" title="var">m</span> <span class="id" title="var">m'</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Properties.MapsTo_m" class="idref" href="#Properties.MapsTo_m"><span class="id" title="instance">MapsTo_m</span></a> {<a id="elt:33" class="idref" href="#elt:33"><span class="id" title="binder">elt</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) (@<a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#elt:33"><span class="id" title="variable">elt</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">k'</span> <span class="id" title="var">Hk</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span> &lt;- <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">Hm</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hk</span>.<br/>
<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>, <span class="id" title="var">Hm</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Properties.find_m" class="idref" href="#Properties.find_m"><span class="id" title="instance">find_m</span></a> {<a id="elt:34" class="idref" href="#elt:34"><span class="id" title="binder">elt</span></a>} : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a>) (@<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#elt:34"><span class="id" title="variable">elt</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">k'</span> <span class="id" title="var">Hk</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> &lt;-.<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Utils.html#eq_option_alt"><span class="id" title="lemma">eq_option_alt</span></a>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>, <span class="id" title="var">Hk</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Note : some morphisms below can be stated with <span class="inlinecode"><a class="idref" href="MMaps.GenTree.html#Props.Eqdom"><span class="id" title="definition">Eqdom</span></a></span> instead
    of <span class="inlinecode"><a class="idref" href="MMaps.GenTree.html#Props.Equal"><span class="id" title="definition">Equal</span></a></span> when only the keys are considered, not the datas.
    Since <span class="inlinecode"><a class="idref" href="MMaps.GenTree.html#Props.Equal"><span class="id" title="definition">Equal</span></a></span> implies <span class="inlinecode"><a class="idref" href="MMaps.GenTree.html#Props.Eqdom"><span class="id" title="definition">Eqdom</span></a></span>, this allows nonetheless to
    rewrite later with <span class="inlinecode"><a class="idref" href="MMaps.GenTree.html#Props.Equal"><span class="id" title="definition">Equal</span></a></span>. 
</div>
<div class="code">

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Properties.In_m" class="idref" href="#Properties.In_m"><span class="id" title="instance">In_m</span></a> {<a id="elt:35" class="idref" href="#elt:35"><span class="id" title="binder">elt</span></a>} : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#M.Eqdom"><span class="id" title="definition">Eqdom</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) (@<a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#elt:35"><span class="id" title="variable">elt</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">k'</span> <span class="id" title="var">Hk</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">Hm</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">Hm</span> <span class="id" title="var">k</span>). <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#Properties.in_find"><span class="id" title="lemma">in_find</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hk</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Properties.mem_m" class="idref" href="#Properties.mem_m"><span class="id" title="instance">mem_m</span></a> {<a id="elt:36" class="idref" href="#elt:36"><span class="id" title="binder">elt</span></a>} : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#M.Eqdom"><span class="id" title="definition">Eqdom</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a>) (@<a class="idref" href="MMaps.Facts.html#M.mem"><span class="id" title="axiom">mem</span></a> <a class="idref" href="MMaps.Facts.html#elt:36"><span class="id" title="variable">elt</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">k'</span> <span class="id" title="var">Hk</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">Hm</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Utils.html#eq_bool_alt"><span class="id" title="lemma">eq_bool_alt</span></a>, !<a class="idref" href="MMaps.Facts.html#M.mem_spec"><span class="id" title="axiom">mem_spec</span></a>, <span class="id" title="var">Hk</span>, <span class="id" title="var">Hm</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Properties.Empty_m" class="idref" href="#Properties.Empty_m"><span class="id" title="instance">Empty_m</span></a> {<a id="elt:37" class="idref" href="#elt:37"><span class="id" title="binder">elt</span></a>} : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#M.Eqdom"><span class="id" title="definition">Eqdom</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) (@<a class="idref" href="MMaps.Facts.html#Properties.Empty"><span class="id" title="definition">Empty</span></a> <a class="idref" href="MMaps.Facts.html#elt:37"><span class="id" title="variable">elt</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">∀</span> <a id="m:38" class="idref" href="#m:38"><span class="id" title="binder"><span id="m:40" class="id">m</span></span></a> <a id="m':39" class="idref" href="#m':39"><span class="id" title="binder"><span id="m':41" class="id">m'</span></span></a> : <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <span class="id" title="var">elt</span>, <a class="idref" href="MMaps.Facts.html#M.Eqdom"><span class="id" title="definition">Eqdom</span></a> <a class="idref" href="MMaps.Facts.html#m:38"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':39"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Empty"><span class="id" title="definition">Empty</span></a> <a class="idref" href="MMaps.Facts.html#m:38"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Empty"><span class="id" title="definition">Empty</span></a> <a class="idref" href="MMaps.Facts.html#m':39"><span class="id" title="variable">m'</span></a>).<br/>
{ <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">EQ</span> <span class="id" title="var">EM</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">MT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">IN</span> : <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m'</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">EQ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IN</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">IN</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e'</span> &amp; <span class="id" title="var">MT'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">MT'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">EM</span>. }<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">EQ</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Properties.is_empty_m" class="idref" href="#Properties.is_empty_m"><span class="id" title="instance">is_empty_m</span></a> {<a id="elt:42" class="idref" href="#elt:42"><span class="id" title="binder">elt</span></a>} : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#M.Eqdom"><span class="id" title="definition">Eqdom</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a>) (@<a class="idref" href="MMaps.Facts.html#M.is_empty"><span class="id" title="axiom">is_empty</span></a> <a class="idref" href="MMaps.Facts.html#elt:42"><span class="id" title="variable">elt</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">Hm</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Utils.html#eq_bool_alt"><span class="id" title="lemma">eq_bool_alt</span></a>, !<a class="idref" href="MMaps.Facts.html#M.is_empty_spec"><span class="id" title="axiom">is_empty_spec</span></a>.<br/>
<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#Properties.not_in_find"><span class="id" title="lemma">not_in_find</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Hm</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Properties.add_m" class="idref" href="#Properties.add_m"><span class="id" title="instance">add_m</span></a> {<a id="elt:43" class="idref" href="#elt:43"><span class="id" title="binder">elt</span></a>} : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a>) (@<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#elt:43"><span class="id" title="variable">elt</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">k'</span> <span class="id" title="var">Hk</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span> &lt;- <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">Hm</span> <span class="id" title="var">y</span>.<br/>
<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#K.eq_dec"><span class="id" title="axiom">K.eq_dec</span></a> <span class="id" title="var">k</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span>|<span class="id" title="var">H</span>].<br/>
- <span class="id" title="tactic">rewrite</span> &lt;-<span class="id" title="var">H</span>, <a class="idref" href="MMaps.Facts.html#M.add_spec1"><span class="id" title="axiom">add_spec1</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hk</span>, <a class="idref" href="MMaps.Facts.html#M.add_spec1"><span class="id" title="axiom">add_spec1</span></a>.<br/>
- <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#M.add_spec2"><span class="id" title="axiom">add_spec2</span></a>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hk</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Properties.remove_m" class="idref" href="#Properties.remove_m"><span class="id" title="instance">remove_m</span></a> {<a id="elt:44" class="idref" href="#elt:44"><span class="id" title="binder">elt</span></a>} : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a>) (@<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <a class="idref" href="MMaps.Facts.html#elt:44"><span class="id" title="variable">elt</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">k'</span> <span class="id" title="var">Hk</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">Hm</span> <span class="id" title="var">y</span>.<br/>
<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#K.eq_dec"><span class="id" title="axiom">K.eq_dec</span></a> <span class="id" title="var">k</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span>|<span class="id" title="var">H</span>].<br/>
- <span class="id" title="tactic">rewrite</span> &lt;-<span class="id" title="var">H</span>, <a class="idref" href="MMaps.Facts.html#M.remove_spec1"><span class="id" title="axiom">remove_spec1</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hk</span>, <a class="idref" href="MMaps.Facts.html#M.remove_spec1"><span class="id" title="axiom">remove_spec1</span></a>.<br/>
- <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#M.remove_spec2"><span class="id" title="axiom">remove_spec2</span></a>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hk</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Properties.merge_m" class="idref" href="#Properties.merge_m"><span class="id" title="instance">merge_m</span></a> {<a id="elt:45" class="idref" href="#elt:45"><span class="id" title="binder">elt</span></a> <a id="elt':46" class="idref" href="#elt':46"><span class="id" title="binder">elt'</span></a> <a id="elt'':47" class="idref" href="#elt'':47"><span class="id" title="binder">elt''</span></a>} :<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)==&gt;</span></a><a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a>)<br/>
&nbsp;&nbsp;(@<a class="idref" href="MMaps.Facts.html#M.merge"><span class="id" title="axiom">merge</span></a> <a class="idref" href="MMaps.Facts.html#elt:45"><span class="id" title="variable">elt</span></a> <a class="idref" href="MMaps.Facts.html#elt':46"><span class="id" title="variable">elt'</span></a> <a class="idref" href="MMaps.Facts.html#elt'':47"><span class="id" title="variable">elt''</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">Hf</span> <span class="id" title="var">m1</span> <span class="id" title="var">m1'</span> <span class="id" title="var">Hm1</span> <span class="id" title="var">m2</span> <span class="id" title="var">m2'</span> <span class="id" title="var">Hm2</span> <span class="id" title="var">y</span>.<br/>
<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <span class="id" title="var">y</span> <span class="id" title="var">m1</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">e1</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">H1</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H</span> : <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <span class="id" title="var">y</span> <span class="id" title="var">m1</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <span class="id" title="var">y</span> <span class="id" title="var">m2</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">left</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">e1</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.merge_spec1"><span class="id" title="axiom">merge_spec1</span></a> <span class="id" title="var">f</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">y1</span>,(<span class="id" title="var">Hy1</span>,-&gt;)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm1</span>,<span class="id" title="var">Hm2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.merge_spec1"><span class="id" title="axiom">merge_spec1</span></a> <span class="id" title="var">f'</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">y2</span>,(<span class="id" title="var">Hy2</span>,-&gt;)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hm1</span>, &lt;- <span class="id" title="var">Hm2</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hf</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">transitivity</span> <span class="id" title="var">y</span>.<br/>
- <span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <span class="id" title="var">y</span> <span class="id" title="var">m2</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">e2</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H</span> : <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <span class="id" title="var">y</span> <span class="id" title="var">m1</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <span class="id" title="var">y</span> <span class="id" title="var">m2</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">right</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">e2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.merge_spec1"><span class="id" title="axiom">merge_spec1</span></a> <span class="id" title="var">f</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">y1</span>,(<span class="id" title="var">Hy1</span>,-&gt;)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm1</span>,<span class="id" title="var">Hm2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.merge_spec1"><span class="id" title="axiom">merge_spec1</span></a> <span class="id" title="var">f'</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">y2</span>,(<span class="id" title="var">Hy2</span>,-&gt;)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hm1</span>, &lt;- <span class="id" title="var">Hm2</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hf</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">transitivity</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.not_in_find"><span class="id" title="lemma">not_in_find</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.not_in_find"><span class="id" title="lemma">not_in_find</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H</span> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <span class="id" title="var">y</span> (<a class="idref" href="MMaps.Facts.html#M.merge"><span class="id" title="axiom">merge</span></a> <span class="id" title="var">f</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.merge_spec2"><span class="id" title="axiom">merge_spec2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">intuition</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.not_in_find"><span class="id" title="lemma">not_in_find</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.not_in_find"><span class="id" title="lemma">not_in_find</span></a>. <span class="id" title="tactic">intro</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.merge_spec2"><span class="id" title="axiom">merge_spec2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hm1</span>, &lt;- <span class="id" title="var">Hm2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Later:&nbsp;compatibility&nbsp;for&nbsp;cardinal,&nbsp;fold,&nbsp;map,&nbsp;mapi...&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
<a id="lab12"></a><h3 class="section">Earlier specifications (cf. FMaps)</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="Properties.OldSpecs" class="idref" href="#Properties.OldSpecs"><span class="id" title="section">OldSpecs</span></a>.<br/>
<span class="id" title="keyword">Variable</span> <a id="Properties.OldSpecs.elt" class="idref" href="#Properties.OldSpecs.elt"><span class="id" title="variable">elt</span></a>: <span class="id" title="keyword">Type</span>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Type</span> <span class="id" title="var">m</span>: <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#Properties.OldSpecs.elt"><span class="id" title="variable">elt</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Type</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>: <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Type</span> <span class="id" title="var">e</span>: <a class="idref" href="MMaps.Facts.html#Properties.OldSpecs.elt"><span class="id" title="variable">elt</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.MapsTo_1" class="idref" href="#Properties.MapsTo_1"><span class="id" title="lemma">MapsTo_1</span></a> <a id="m:50" class="idref" href="#m:50"><span class="id" title="binder">m</span></a> <a id="x:51" class="idref" href="#x:51"><span class="id" title="binder">x</span></a> <a id="y:52" class="idref" href="#y:52"><span class="id" title="binder">y</span></a> <a id="e:53" class="idref" href="#e:53"><span class="id" title="binder">e</span></a> : <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:51"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:52"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#x:51"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:53"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:50"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#y:52"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#e:53"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:50"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> →.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.find_1" class="idref" href="#Properties.find_1"><span class="id" title="lemma">find_1</span></a> <a id="m:54" class="idref" href="#m:54"><span class="id" title="binder">m</span></a> <a id="x:55" class="idref" href="#x:55"><span class="id" title="binder">x</span></a> <a id="e:56" class="idref" href="#e:56"><span class="id" title="binder">e</span></a> : <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#x:55"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:56"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:54"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:55"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:54"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MMaps.Facts.html#e:56"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.find_2" class="idref" href="#Properties.find_2"><span class="id" title="lemma">find_2</span></a> <a id="m:57" class="idref" href="#m:57"><span class="id" title="binder">m</span></a> <a id="x:58" class="idref" href="#x:58"><span class="id" title="binder">x</span></a> <a id="e:59" class="idref" href="#e:59"><span class="id" title="binder">e</span></a> : <a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:58"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:57"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MMaps.Facts.html#e:59"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#x:58"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:59"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:57"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.mem_1" class="idref" href="#Properties.mem_1"><span class="id" title="lemma">mem_1</span></a> <a id="m:60" class="idref" href="#m:60"><span class="id" title="binder">m</span></a> <a id="x:61" class="idref" href="#x:61"><span class="id" title="binder">x</span></a> : <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:61"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:60"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.mem"><span class="id" title="axiom">mem</span></a> <a class="idref" href="MMaps.Facts.html#x:61"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:60"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.mem_spec"><span class="id" title="axiom">mem_spec</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.mem_2" class="idref" href="#Properties.mem_2"><span class="id" title="lemma">mem_2</span></a> <a id="m:62" class="idref" href="#m:62"><span class="id" title="binder">m</span></a> <a id="x:63" class="idref" href="#x:63"><span class="id" title="binder">x</span></a> : <a class="idref" href="MMaps.Facts.html#M.mem"><span class="id" title="axiom">mem</span></a> <a class="idref" href="MMaps.Facts.html#x:63"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:62"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:63"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:62"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.mem_spec"><span class="id" title="axiom">mem_spec</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.empty_1" class="idref" href="#Properties.empty_1"><span class="id" title="lemma">empty_1</span></a> : <a class="idref" href="MMaps.Facts.html#Properties.Empty"><span class="id" title="definition">Empty</span></a> (@<a class="idref" href="MMaps.Facts.html#M.empty"><span class="id" title="axiom">empty</span></a> <a class="idref" href="MMaps.Facts.html#Properties.OldSpecs.elt"><span class="id" title="variable">elt</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>, <a class="idref" href="MMaps.Facts.html#M.empty_spec"><span class="id" title="axiom">empty_spec</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.is_empty_1" class="idref" href="#Properties.is_empty_1"><span class="id" title="lemma">is_empty_1</span></a> <a id="m:64" class="idref" href="#m:64"><span class="id" title="binder">m</span></a> : <a class="idref" href="MMaps.Facts.html#Properties.Empty"><span class="id" title="definition">Empty</span></a> <a class="idref" href="MMaps.Facts.html#m:64"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.is_empty"><span class="id" title="axiom">is_empty</span></a> <a class="idref" href="MMaps.Facts.html#m:64"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.Empty"><span class="id" title="definition">Empty</span></a>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#M.is_empty_spec"><span class="id" title="axiom">is_empty_spec</span></a>. <span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">x</span>).<br/>
&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">e</span>|]; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="var">H</span> <span class="id" title="var">e</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.is_empty_2" class="idref" href="#Properties.is_empty_2"><span class="id" title="lemma">is_empty_2</span></a> <a id="m:65" class="idref" href="#m:65"><span class="id" title="binder">m</span></a> : <a class="idref" href="MMaps.Facts.html#M.is_empty"><span class="id" title="axiom">is_empty</span></a> <a class="idref" href="MMaps.Facts.html#m:65"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Empty"><span class="id" title="definition">Empty</span></a> <a class="idref" href="MMaps.Facts.html#m:65"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#M.is_empty_spec"><span class="id" title="axiom">is_empty_spec</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>, <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.add_1" class="idref" href="#Properties.add_1"><span class="id" title="lemma">add_1</span></a> <a id="m:66" class="idref" href="#m:66"><span class="id" title="binder">m</span></a> <a id="x:67" class="idref" href="#x:67"><span class="id" title="binder">x</span></a> <a id="y:68" class="idref" href="#y:68"><span class="id" title="binder">y</span></a> <a id="e:69" class="idref" href="#e:69"><span class="id" title="binder">e</span></a> : <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:67"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:68"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#y:68"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#e:69"><span class="id" title="variable">e</span></a> (<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#x:67"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:69"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:66"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> &lt;-. <span class="id" title="tactic">rewrite</span> &lt;-<a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.add_spec1"><span class="id" title="axiom">add_spec1</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.add_2" class="idref" href="#Properties.add_2"><span class="id" title="lemma">add_2</span></a> <a id="m:70" class="idref" href="#m:70"><span class="id" title="binder">m</span></a> <a id="x:71" class="idref" href="#x:71"><span class="id" title="binder">x</span></a> <a id="y:72" class="idref" href="#y:72"><span class="id" title="binder">y</span></a> <a id="e:73" class="idref" href="#e:73"><span class="id" title="binder">e</span></a> <a id="e':74" class="idref" href="#e':74"><span class="id" title="binder">e'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:71"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:72"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#y:72"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#e:73"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:70"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#y:72"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#e:73"><span class="id" title="variable">e</span></a> (<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#x:71"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e':74"><span class="id" title="variable">e'</span></a> <a class="idref" href="MMaps.Facts.html#m:70"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>, <a class="idref" href="MMaps.Facts.html#M.add_spec2"><span class="id" title="axiom">add_spec2</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.add_3" class="idref" href="#Properties.add_3"><span class="id" title="lemma">add_3</span></a> <a id="m:75" class="idref" href="#m:75"><span class="id" title="binder">m</span></a> <a id="x:76" class="idref" href="#x:76"><span class="id" title="binder">x</span></a> <a id="y:77" class="idref" href="#y:77"><span class="id" title="binder">y</span></a> <a id="e:78" class="idref" href="#e:78"><span class="id" title="binder">e</span></a> <a id="e':79" class="idref" href="#e':79"><span class="id" title="binder">e'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:76"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:77"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#y:77"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#e:78"><span class="id" title="variable">e</span></a> (<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#x:76"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e':79"><span class="id" title="variable">e'</span></a> <a class="idref" href="MMaps.Facts.html#m:75"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#y:77"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#e:78"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:75"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>, <a class="idref" href="MMaps.Facts.html#M.add_spec2"><span class="id" title="axiom">add_spec2</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.remove_1" class="idref" href="#Properties.remove_1"><span class="id" title="lemma">remove_1</span></a> <a id="m:80" class="idref" href="#m:80"><span class="id" title="binder">m</span></a> <a id="x:81" class="idref" href="#x:81"><span class="id" title="binder">x</span></a> <a id="y:82" class="idref" href="#y:82"><span class="id" title="binder">y</span></a> : <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:81"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:82"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#y:82"><span class="id" title="variable">y</span></a> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <a class="idref" href="MMaps.Facts.html#x:81"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:80"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> &lt;-. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.not_in_find"><span class="id" title="lemma">not_in_find</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.remove_spec1"><span class="id" title="axiom">remove_spec1</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.remove_2" class="idref" href="#Properties.remove_2"><span class="id" title="lemma">remove_2</span></a> <a id="m:83" class="idref" href="#m:83"><span class="id" title="binder">m</span></a> <a id="x:84" class="idref" href="#x:84"><span class="id" title="binder">x</span></a> <a id="y:85" class="idref" href="#y:85"><span class="id" title="binder">y</span></a> <a id="e:86" class="idref" href="#e:86"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:84"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:85"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#y:85"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#e:86"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:83"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#y:85"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#e:86"><span class="id" title="variable">e</span></a> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <a class="idref" href="MMaps.Facts.html#x:84"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:83"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>, <a class="idref" href="MMaps.Facts.html#M.remove_spec2"><span class="id" title="axiom">remove_spec2</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.remove_3bis" class="idref" href="#Properties.remove_3bis"><span class="id" title="lemma">remove_3bis</span></a> <a id="m:87" class="idref" href="#m:87"><span class="id" title="binder">m</span></a> <a id="x:88" class="idref" href="#x:88"><span class="id" title="binder">x</span></a> <a id="y:89" class="idref" href="#y:89"><span class="id" title="binder">y</span></a> <a id="e:90" class="idref" href="#e:90"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#y:89"><span class="id" title="variable">y</span></a> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <a class="idref" href="MMaps.Facts.html#x:88"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:87"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MMaps.Facts.html#e:90"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#y:89"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#m:87"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MMaps.Facts.html#e:90"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#K.eq_dec"><span class="id" title="axiom">K.eq_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> [&lt;-|<span class="id" title="var">H</span>].<br/>
&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#M.remove_spec1"><span class="id" title="axiom">remove_spec1</span></a>.<br/>
&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#M.remove_spec2"><span class="id" title="axiom">remove_spec2</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.remove_3" class="idref" href="#Properties.remove_3"><span class="id" title="lemma">remove_3</span></a> <a id="m:91" class="idref" href="#m:91"><span class="id" title="binder">m</span></a> <a id="x:92" class="idref" href="#x:92"><span class="id" title="binder">x</span></a> <a id="y:93" class="idref" href="#y:93"><span class="id" title="binder">y</span></a> <a id="e:94" class="idref" href="#e:94"><span class="id" title="binder">e</span></a> : <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#y:93"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#e:94"><span class="id" title="variable">e</span></a> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <a class="idref" href="MMaps.Facts.html#x:92"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:91"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#y:93"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#e:94"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:91"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> &lt;-!<a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.remove_3bis"><span class="id" title="lemma">remove_3bis</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.bindings_1" class="idref" href="#Properties.bindings_1"><span class="id" title="lemma">bindings_1</span></a> <a id="m:95" class="idref" href="#m:95"><span class="id" title="binder">m</span></a> <a id="x:96" class="idref" href="#x:96"><span class="id" title="binder">x</span></a> <a id="e:97" class="idref" href="#e:97"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#x:96"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:97"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:95"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eq_key_elt"><span class="id" title="definition">eq_key_elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#x:96"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.Facts.html#e:97"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#m:95"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.bindings_spec1"><span class="id" title="axiom">bindings_spec1</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.bindings_2" class="idref" href="#Properties.bindings_2"><span class="id" title="lemma">bindings_2</span></a> <a id="m:98" class="idref" href="#m:98"><span class="id" title="binder">m</span></a> <a id="x:99" class="idref" href="#x:99"><span class="id" title="binder">x</span></a> <a id="e:100" class="idref" href="#e:100"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eq_key_elt"><span class="id" title="definition">eq_key_elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#x:99"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.Facts.html#e:100"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#m:98"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#x:99"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:100"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:98"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.bindings_spec1"><span class="id" title="axiom">bindings_spec1</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.bindings_3w" class="idref" href="#Properties.bindings_3w"><span class="id" title="lemma">bindings_3w</span></a> <a id="m:101" class="idref" href="#m:101"><span class="id" title="binder">m</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#NoDupA"><span class="id" title="inductive">NoDupA</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eq_key"><span class="id" title="definition">eq_key</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#m:101"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.bindings_spec2w"><span class="id" title="axiom">bindings_spec2w</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.cardinal_1" class="idref" href="#Properties.cardinal_1"><span class="id" title="lemma">cardinal_1</span></a> <a id="m:102" class="idref" href="#m:102"><span class="id" title="binder">m</span></a> : <a class="idref" href="MMaps.Facts.html#M.cardinal"><span class="id" title="axiom">cardinal</span></a> <a class="idref" href="MMaps.Facts.html#m:102"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#m:102"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.cardinal_spec"><span class="id" title="axiom">cardinal_spec</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.fold_1" class="idref" href="#Properties.fold_1"><span class="id" title="lemma">fold_1</span></a> <a id="m:103" class="idref" href="#m:103"><span class="id" title="binder">m</span></a> (<a id="A:104" class="idref" href="#A:104"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>) (<a id="i:105" class="idref" href="#i:105"><span class="id" title="binder">i</span></a> : <a class="idref" href="MMaps.Facts.html#A:104"><span class="id" title="variable">A</span></a>) (<a id="f:106" class="idref" href="#f:106"><span class="id" title="binder">f</span></a> : <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#Properties.OldSpecs.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#A:104"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#A:104"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <a class="idref" href="MMaps.Facts.html#f:106"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:103"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#i:105"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> (<span class="id" title="keyword">fun</span> <a id="a:107" class="idref" href="#a:107"><span class="id" title="binder">a</span></a> <a id="p:108" class="idref" href="#p:108"><span class="id" title="binder">p</span></a> ⇒ <a class="idref" href="MMaps.Facts.html#f:106"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MMaps.Facts.html#p:108"><span class="id" title="variable">p</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MMaps.Facts.html#p:108"><span class="id" title="variable">p</span></a>) <a class="idref" href="MMaps.Facts.html#a:107"><span class="id" title="variable">a</span></a>) (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#m:103"><span class="id" title="variable">m</span></a>) <a class="idref" href="MMaps.Facts.html#i:105"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.fold_spec"><span class="id" title="axiom">fold_spec</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.equal_1" class="idref" href="#Properties.equal_1"><span class="id" title="lemma">equal_1</span></a> <a id="m:109" class="idref" href="#m:109"><span class="id" title="binder">m</span></a> <a id="m':110" class="idref" href="#m':110"><span class="id" title="binder">m'</span></a> <a id="cmp:111" class="idref" href="#cmp:111"><span class="id" title="binder">cmp</span></a> : <a class="idref" href="MMaps.Facts.html#M.Equivb"><span class="id" title="definition">Equivb</span></a> <a class="idref" href="MMaps.Facts.html#cmp:111"><span class="id" title="variable">cmp</span></a> <a class="idref" href="MMaps.Facts.html#m:109"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':110"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.equal"><span class="id" title="axiom">equal</span></a> <a class="idref" href="MMaps.Facts.html#cmp:111"><span class="id" title="variable">cmp</span></a> <a class="idref" href="MMaps.Facts.html#m:109"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':110"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.equal_spec"><span class="id" title="axiom">equal_spec</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.equal_2" class="idref" href="#Properties.equal_2"><span class="id" title="lemma">equal_2</span></a> <a id="m:112" class="idref" href="#m:112"><span class="id" title="binder">m</span></a> <a id="m':113" class="idref" href="#m':113"><span class="id" title="binder">m'</span></a> <a id="cmp:114" class="idref" href="#cmp:114"><span class="id" title="binder">cmp</span></a> : <a class="idref" href="MMaps.Facts.html#M.equal"><span class="id" title="axiom">equal</span></a> <a class="idref" href="MMaps.Facts.html#cmp:114"><span class="id" title="variable">cmp</span></a> <a class="idref" href="MMaps.Facts.html#m:112"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':113"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.Equivb"><span class="id" title="definition">Equivb</span></a> <a class="idref" href="MMaps.Facts.html#cmp:114"><span class="id" title="variable">cmp</span></a> <a class="idref" href="MMaps.Facts.html#m:112"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':113"><span class="id" title="variable">m'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.equal_spec"><span class="id" title="axiom">equal_spec</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MMaps.Facts.html#Properties.OldSpecs"><span class="id" title="section">OldSpecs</span></a>.<br/>

<br/>
</div>

<div class="doc">
Earlier spec about <span class="inlinecode"><a class="idref" href="MMaps.GenTree.html#Ops.map"><span class="id" title="definition">map</span></a></span>, now subsumed by a more precise one
    via <span class="inlinecode"><a class="idref" href="MMaps.GenTree.html#Ops.bindings"><span class="id" title="definition">bindings</span></a></span> 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.map_find" class="idref" href="#Properties.map_find"><span class="id" title="lemma">map_find</span></a> {<a id="elt:115" class="idref" href="#elt:115"><span class="id" title="binder">elt</span></a> <a id="elt':116" class="idref" href="#elt':116"><span class="id" title="binder">elt'</span></a>}(<a id="f:117" class="idref" href="#f:117"><span class="id" title="binder">f</span></a>:<a class="idref" href="MMaps.Facts.html#elt:115"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#elt':116"><span class="id" title="variable">elt'</span></a>) <a id="m:118" class="idref" href="#m:118"><span class="id" title="binder">m</span></a> <a id="x:119" class="idref" href="#x:119"><span class="id" title="binder">x</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:119"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.Facts.html#M.map"><span class="id" title="axiom">map</span></a> <a class="idref" href="MMaps.Facts.html#f:117"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:118"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option_map"><span class="id" title="definition">option_map</span></a> <a class="idref" href="MMaps.Facts.html#f:117"><span class="id" title="variable">f</span></a> (<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:119"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:118"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">E</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>, &lt;- <a class="idref" href="MMaps.Facts.html#M.bindings_spec1"><span class="id" title="axiom">bindings_spec1</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">E</span> <span class="id" title="keyword">as</span> ((<span class="id" title="var">y</span>,<span class="id" title="var">e'</span>) &amp; (<span class="id" title="var">E1</span>,<span class="id" title="var">E2</span>) &amp; <span class="id" title="var">IN</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">subst</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">f</span> <span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">split</span>; [<span class="id" title="var">easy</span>| ].<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#M.map_spec"><span class="id" title="axiom">map_spec</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#Properties.not_in_find"><span class="id" title="lemma">not_in_find</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#Properties.not_in_find"><span class="id" title="lemma">not_in_find</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">E</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">E</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e</span>,<span class="id" title="var">M</span>).<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#M.bindings_spec1"><span class="id" title="axiom">bindings_spec1</span></a>, <a class="idref" href="MMaps.Facts.html#M.map_spec"><span class="id" title="axiom">map_spec</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">M</span> <span class="id" title="keyword">as</span> ((<span class="id" title="var">y</span>,<span class="id" title="var">e'</span>) &amp; (<span class="id" title="var">E1</span>,<span class="id" title="var">E2</span>) &amp; <span class="id" title="var">IN</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IN</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">IN</span> <span class="id" title="keyword">as</span> ((<span class="id" title="var">z</span>,<span class="id" title="var">e0</span>) &amp; [= &lt;- <span class="id" title="var">_</span>] &amp; <span class="id" title="var">IN</span>).<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e0</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#M.bindings_spec1"><span class="id" title="axiom">bindings_spec1</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a>. <span class="id" title="tactic">firstorder</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Same for <span class="inlinecode"><a class="idref" href="MMaps.GenTree.html#Ops.mapi"><span class="id" title="definition">mapi</span></a></span> 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.mapi_find" class="idref" href="#Properties.mapi_find"><span class="id" title="lemma">mapi_find</span></a> {<a id="elt:120" class="idref" href="#elt:120"><span class="id" title="binder">elt</span></a> <a id="elt':121" class="idref" href="#elt':121"><span class="id" title="binder">elt'</span></a>}(<a id="f:122" class="idref" href="#f:122"><span class="id" title="binder">f</span></a>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#elt:120"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#elt':121"><span class="id" title="variable">elt'</span></a>) <a id="m:123" class="idref" href="#m:123"><span class="id" title="binder">m</span></a> <a id="x:124" class="idref" href="#x:124"><span class="id" title="binder">x</span></a> :<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="y:125" class="idref" href="#y:125"><span class="id" title="binder">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#y:125"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#x:124"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:124"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.Facts.html#M.mapi"><span class="id" title="axiom">mapi</span></a> <a class="idref" href="MMaps.Facts.html#f:122"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:123"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option_map"><span class="id" title="definition">option_map</span></a> (<a class="idref" href="MMaps.Facts.html#f:122"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#y:125"><span class="id" title="variable">y</span></a>) (<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:124"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:123"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">E</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>, &lt;- <a class="idref" href="MMaps.Facts.html#M.bindings_spec1"><span class="id" title="axiom">bindings_spec1</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">E</span> <span class="id" title="keyword">as</span> ((<span class="id" title="var">y</span>,<span class="id" title="var">e'</span>) &amp; (<span class="id" title="var">E1</span>,<span class="id" title="var">E2</span>) &amp; <span class="id" title="var">IN</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">subst</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="var">easy</span>| ].<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>, &lt;- <a class="idref" href="MMaps.Facts.html#M.bindings_spec1"><span class="id" title="axiom">bindings_spec1</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">f</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">split</span>; [<span class="id" title="var">easy</span>| ].<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#M.mapi_spec"><span class="id" title="axiom">mapi_spec</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;- <span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="var">easy</span>| ].<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#Properties.not_in_find"><span class="id" title="lemma">not_in_find</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#Properties.not_in_find"><span class="id" title="lemma">not_in_find</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">E</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">E</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e</span>,<span class="id" title="var">M</span>).<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#M.bindings_spec1"><span class="id" title="axiom">bindings_spec1</span></a>, <a class="idref" href="MMaps.Facts.html#M.mapi_spec"><span class="id" title="axiom">mapi_spec</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">M</span> <span class="id" title="keyword">as</span> ((<span class="id" title="var">y</span>,<span class="id" title="var">e'</span>) &amp; (<span class="id" title="var">E1</span>,<span class="id" title="var">E2</span>) &amp; <span class="id" title="var">IN</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IN</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">IN</span> <span class="id" title="keyword">as</span> ((<span class="id" title="var">z</span>,<span class="id" title="var">e0</span>) &amp; [= &lt;- <span class="id" title="var">_</span>] &amp; <span class="id" title="var">IN</span>).<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e0</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#M.bindings_spec1"><span class="id" title="axiom">bindings_spec1</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a>. <span class="id" title="tactic">firstorder</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Properties.map_m" class="idref" href="#Properties.map_m"><span class="id" title="instance">map_m</span></a> {<a id="elt:126" class="idref" href="#elt:126"><span class="id" title="binder">elt</span></a> <a id="elt':127" class="idref" href="#elt':127"><span class="id" title="binder">elt'</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)==&gt;</span></a><a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a>) (@<a class="idref" href="MMaps.Facts.html#M.map"><span class="id" title="axiom">map</span></a> <a class="idref" href="MMaps.Facts.html#elt:126"><span class="id" title="variable">elt</span></a> <a class="idref" href="MMaps.Facts.html#elt':127"><span class="id" title="variable">elt'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">Hf</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">Hm</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#Properties.map_find"><span class="id" title="lemma">map_find</span></a>, <span class="id" title="var">Hm</span>.<br/>
<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <span class="id" title="var">y</span> <span class="id" title="var">m'</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hf</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Properties.mapi_m" class="idref" href="#Properties.mapi_m"><span class="id" title="instance">mapi_m</span></a> {<a id="elt:128" class="idref" href="#elt:128"><span class="id" title="binder">elt</span></a> <a id="elt':129" class="idref" href="#elt':129"><span class="id" title="binder">elt'</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)==&gt;</span></a><a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a>) (@<a class="idref" href="MMaps.Facts.html#M.mapi"><span class="id" title="axiom">mapi</span></a> <a class="idref" href="MMaps.Facts.html#elt:128"><span class="id" title="variable">elt</span></a> <a class="idref" href="MMaps.Facts.html#elt':129"><span class="id" title="variable">elt'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">Hf</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">Hm</span> <span class="id" title="var">y</span>.<br/>
<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#Properties.mapi_find"><span class="id" title="lemma">mapi_find</span></a> <span class="id" title="var">f</span> <span class="id" title="var">m</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">x</span>,(<span class="id" title="var">Hx</span>,-&gt;)).<br/>
<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#Properties.mapi_find"><span class="id" title="lemma">mapi_find</span></a> <span class="id" title="var">f'</span> <span class="id" title="var">m'</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">x'</span>,(<span class="id" title="var">Hx'</span>,-&gt;)).<br/>
<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hm</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <span class="id" title="var">y</span> <span class="id" title="var">m</span>); <span class="id" title="tactic">trivial</span>. <span class="id" title="tactic">simpl</span>.<br/>
<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hf</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hx</span>, <span class="id" title="var">Hx'</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.map_1" class="idref" href="#Properties.map_1"><span class="id" title="lemma">map_1</span></a> {<a id="elt:130" class="idref" href="#elt:130"><span class="id" title="binder">elt</span></a> <a id="elt':131" class="idref" href="#elt':131"><span class="id" title="binder">elt'</span></a>}(<a id="m:132" class="idref" href="#m:132"><span class="id" title="binder">m</span></a>: <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#elt:130"><span class="id" title="variable">elt</span></a>)(<a id="x:133" class="idref" href="#x:133"><span class="id" title="binder">x</span></a>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a>)(<a id="e:134" class="idref" href="#e:134"><span class="id" title="binder">e</span></a>:<a class="idref" href="MMaps.Facts.html#elt:130"><span class="id" title="variable">elt</span></a>)(<a id="f:135" class="idref" href="#f:135"><span class="id" title="binder">f</span></a>:<a class="idref" href="MMaps.Facts.html#elt:130"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#elt':131"><span class="id" title="variable">elt'</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#x:133"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:134"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:132"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#x:133"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.Facts.html#f:135"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#e:134"><span class="id" title="variable">e</span></a>) (<a class="idref" href="MMaps.Facts.html#M.map"><span class="id" title="axiom">map</span></a> <a class="idref" href="MMaps.Facts.html#f:135"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:132"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.map_find"><span class="id" title="lemma">map_find</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> →.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.map_2" class="idref" href="#Properties.map_2"><span class="id" title="lemma">map_2</span></a> {<a id="elt:136" class="idref" href="#elt:136"><span class="id" title="binder">elt</span></a> <a id="elt':137" class="idref" href="#elt':137"><span class="id" title="binder">elt'</span></a>}(<a id="m:138" class="idref" href="#m:138"><span class="id" title="binder">m</span></a>: <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#elt:136"><span class="id" title="variable">elt</span></a>)(<a id="x:139" class="idref" href="#x:139"><span class="id" title="binder">x</span></a>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a>)(<a id="f:140" class="idref" href="#f:140"><span class="id" title="binder">f</span></a>:<a class="idref" href="MMaps.Facts.html#elt:136"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#elt':137"><span class="id" title="variable">elt'</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:139"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.Facts.html#M.map"><span class="id" title="axiom">map</span></a> <a class="idref" href="MMaps.Facts.html#f:140"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:138"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:139"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:138"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#Properties.in_find"><span class="id" title="lemma">in_find</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.map_find"><span class="id" title="lemma">map_find</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Utils.html#option_map_some"><span class="id" title="lemma">option_map_some</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.mapi_1" class="idref" href="#Properties.mapi_1"><span class="id" title="lemma">mapi_1</span></a> {<a id="elt:141" class="idref" href="#elt:141"><span class="id" title="binder">elt</span></a> <a id="elt':142" class="idref" href="#elt':142"><span class="id" title="binder">elt'</span></a>}(<a id="m:143" class="idref" href="#m:143"><span class="id" title="binder">m</span></a>: <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#elt:141"><span class="id" title="variable">elt</span></a>)(<a id="x:144" class="idref" href="#x:144"><span class="id" title="binder">x</span></a>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a>)(<a id="e:145" class="idref" href="#e:145"><span class="id" title="binder">e</span></a>:<a class="idref" href="MMaps.Facts.html#elt:141"><span class="id" title="variable">elt</span></a>)(<a id="f:146" class="idref" href="#f:146"><span class="id" title="binder">f</span></a>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#elt:141"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#elt':142"><span class="id" title="variable">elt'</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#x:144"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:145"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:143"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="y:147" class="idref" href="#y:147"><span class="id" title="binder">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#y:147"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#x:144"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#x:144"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.Facts.html#f:146"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#y:147"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#e:145"><span class="id" title="variable">e</span></a>) (<a class="idref" href="MMaps.Facts.html#M.mapi"><span class="id" title="axiom">mapi</span></a> <a class="idref" href="MMaps.Facts.html#f:146"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:143"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#Properties.mapi_find"><span class="id" title="lemma">mapi_find</span></a> <span class="id" title="var">f</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">y</span>,(<span class="id" title="var">Hy</span>,<span class="id" title="var">Eq</span>)).<br/>
&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> &lt;-<a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eq</span>, <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.mapi_2" class="idref" href="#Properties.mapi_2"><span class="id" title="lemma">mapi_2</span></a> {<a id="elt:148" class="idref" href="#elt:148"><span class="id" title="binder">elt</span></a> <a id="elt':149" class="idref" href="#elt':149"><span class="id" title="binder">elt'</span></a>}(<a id="m:150" class="idref" href="#m:150"><span class="id" title="binder">m</span></a>: <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#elt:148"><span class="id" title="variable">elt</span></a>)(<a id="x:151" class="idref" href="#x:151"><span class="id" title="binder">x</span></a>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a>)(<a id="f:152" class="idref" href="#f:152"><span class="id" title="binder">f</span></a>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#elt:148"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#elt':149"><span class="id" title="variable">elt'</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:151"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.Facts.html#M.mapi"><span class="id" title="axiom">mapi</span></a> <a class="idref" href="MMaps.Facts.html#f:152"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:150"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:151"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:150"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#Properties.mapi_find"><span class="id" title="lemma">mapi_find</span></a> <span class="id" title="var">f</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">y</span>,(<span class="id" title="var">Hy</span>,<span class="id" title="var">Eq</span>)).<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#Properties.in_find"><span class="id" title="lemma">in_find</span></a>. <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>; <span class="id" title="var">contradict</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eq</span>, <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The ancestor <span class="inlinecode"><a class="idref" href="MMaps.demo.html#map2"><span class="id" title="definition">map2</span></a></span> of the current <span class="inlinecode"><a class="idref" href="MMaps.RBT.html#MakeRaw.merge"><span class="id" title="definition">merge</span></a></span> was dealing with functions
    on datas only, not on keys. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="Properties.map2" class="idref" href="#Properties.map2"><span class="id" title="definition">map2</span></a> {<a id="elt:153" class="idref" href="#elt:153"><span class="id" title="binder">elt</span></a> <a id="elt':154" class="idref" href="#elt':154"><span class="id" title="binder">elt'</span></a> <a id="elt'':155" class="idref" href="#elt'':155"><span class="id" title="binder">elt''</span></a>} (<a id="f:156" class="idref" href="#f:156"><span class="id" title="binder">f</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.Facts.html#elt:153"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.Facts.html#elt':154"><span class="id" title="variable">elt'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.Facts.html#elt'':155"><span class="id" title="variable">elt''</span></a>)<br/>
&nbsp;:= <a class="idref" href="MMaps.Facts.html#M.merge"><span class="id" title="axiom">merge</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MMaps.Facts.html#f:156"><span class="id" title="variable">f</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.map2_1" class="idref" href="#Properties.map2_1"><span class="id" title="lemma">map2_1</span></a> {<a id="elt:157" class="idref" href="#elt:157"><span class="id" title="binder">elt</span></a> <a id="elt':158" class="idref" href="#elt':158"><span class="id" title="binder">elt'</span></a> <a id="elt'':159" class="idref" href="#elt'':159"><span class="id" title="binder">elt''</span></a>}(<a id="m:160" class="idref" href="#m:160"><span class="id" title="binder">m</span></a>: <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#elt:157"><span class="id" title="variable">elt</span></a>)(<a id="m':161" class="idref" href="#m':161"><span class="id" title="binder">m'</span></a>: <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#elt':158"><span class="id" title="variable">elt'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="x:162" class="idref" href="#x:162"><span class="id" title="binder">x</span></a>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a>)(<a id="f:163" class="idref" href="#f:163"><span class="id" title="binder">f</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.Facts.html#elt:157"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.Facts.html#elt':158"><span class="id" title="variable">elt'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.Facts.html#elt'':159"><span class="id" title="variable">elt''</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:162"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:160"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:162"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m':161"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:162"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MMaps.Facts.html#f:163"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:160"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':161"><span class="id" title="variable">m'</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.Facts.html#f:163"><span class="id" title="variable">f</span></a> (<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:162"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:160"><span class="id" title="variable">m</span></a>) (<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:162"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m':161"><span class="id" title="variable">m'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.map2"><span class="id" title="definition">map2</span></a>.<br/>
&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.merge_spec1"><span class="id" title="axiom">merge_spec1</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">f</span>) <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">y</span>,(<span class="id" title="var">_</span>,-&gt;)).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.map2_2" class="idref" href="#Properties.map2_2"><span class="id" title="lemma">map2_2</span></a> {<a id="elt:164" class="idref" href="#elt:164"><span class="id" title="binder">elt</span></a> <a id="elt':165" class="idref" href="#elt':165"><span class="id" title="binder">elt'</span></a> <a id="elt'':166" class="idref" href="#elt'':166"><span class="id" title="binder">elt''</span></a>}(<a id="m:167" class="idref" href="#m:167"><span class="id" title="binder">m</span></a>: <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#elt:164"><span class="id" title="variable">elt</span></a>)(<a id="m':168" class="idref" href="#m':168"><span class="id" title="binder">m'</span></a>: <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#elt':165"><span class="id" title="variable">elt'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="x:169" class="idref" href="#x:169"><span class="id" title="binder">x</span></a>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a>)(<a id="f:170" class="idref" href="#f:170"><span class="id" title="binder">f</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.Facts.html#elt:164"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.Facts.html#elt':165"><span class="id" title="variable">elt'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.Facts.html#elt'':166"><span class="id" title="variable">elt''</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:169"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="MMaps.Facts.html#f:170"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:167"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':168"><span class="id" title="variable">m'</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:169"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:167"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:169"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m':168"><span class="id" title="variable">m'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.merge_spec2"><span class="id" title="axiom">merge_spec2</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Immediate</span> <span class="id" title="var">MapsTo_1</span> <span class="id" title="var">mem_2</span> <span class="id" title="var">is_empty_2</span> : <span class="id" title="var">map</span>.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Immediate</span> <span class="id" title="var">map_2</span> <span class="id" title="var">mapi_2</span> <span class="id" title="var">add_3</span> <span class="id" title="var">remove_3</span> <span class="id" title="var">find_2</span> : <span class="id" title="var">map</span>.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">mem_1</span> <span class="id" title="var">is_empty_1</span> <span class="id" title="var">is_empty_2</span> <span class="id" title="var">add_1</span> <span class="id" title="var">add_2</span> <span class="id" title="var">remove_1</span> : <span class="id" title="var">map</span>.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">remove_2</span> <span class="id" title="var">find_1</span> <span class="id" title="var">fold_1</span> <span class="id" title="var">map_1</span> <span class="id" title="var">mapi_1</span> <span class="id" title="var">mapi_2</span> : <span class="id" title="var">map</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab13"></a><h3 class="section">Specifications written using equivalences</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="Properties.IffSpec" class="idref" href="#Properties.IffSpec"><span class="id" title="section">IffSpec</span></a>.<br/>
<span class="id" title="keyword">Variable</span> <a id="Properties.IffSpec.elt" class="idref" href="#Properties.IffSpec.elt"><span class="id" title="variable">elt</span></a>: <span class="id" title="keyword">Type</span>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Type</span> <span class="id" title="var">m</span>: <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#Properties.IffSpec.elt"><span class="id" title="variable">elt</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Type</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>: <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Type</span> <span class="id" title="var">e</span>: <a class="idref" href="MMaps.Facts.html#Properties.IffSpec.elt"><span class="id" title="variable">elt</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.in_iff" class="idref" href="#Properties.in_iff"><span class="id" title="lemma">in_iff</span></a> <a id="m:173" class="idref" href="#m:173"><span class="id" title="binder">m</span></a> <a id="x:174" class="idref" href="#x:174"><span class="id" title="binder">x</span></a> <a id="y:175" class="idref" href="#y:175"><span class="id" title="binder">y</span></a> : <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:174"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:175"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:174"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:173"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#y:175"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#m:173"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> →. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.mapsto_iff" class="idref" href="#Properties.mapsto_iff"><span class="id" title="lemma">mapsto_iff</span></a> <a id="m:176" class="idref" href="#m:176"><span class="id" title="binder">m</span></a> <a id="x:177" class="idref" href="#x:177"><span class="id" title="binder">x</span></a> <a id="y:178" class="idref" href="#y:178"><span class="id" title="binder">y</span></a> <a id="e:179" class="idref" href="#e:179"><span class="id" title="binder">e</span></a> : <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:177"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:178"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#x:177"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:179"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:176"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#y:178"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#e:179"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:176"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> →. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.mem_in_iff" class="idref" href="#Properties.mem_in_iff"><span class="id" title="lemma">mem_in_iff</span></a> <a id="m:180" class="idref" href="#m:180"><span class="id" title="binder">m</span></a> <a id="x:181" class="idref" href="#x:181"><span class="id" title="binder">x</span></a> : <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:181"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:180"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.mem"><span class="id" title="axiom">mem</span></a> <a class="idref" href="MMaps.Facts.html#x:181"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:180"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.mem_spec"><span class="id" title="axiom">mem_spec</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.not_mem_in_iff" class="idref" href="#Properties.not_mem_in_iff"><span class="id" title="lemma">not_mem_in_iff</span></a> <a id="m:182" class="idref" href="#m:182"><span class="id" title="binder">m</span></a> <a id="x:183" class="idref" href="#x:183"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:183"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:182"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.mem"><span class="id" title="axiom">mem</span></a> <a class="idref" href="MMaps.Facts.html#x:183"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:182"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.mem_in_iff"><span class="id" title="lemma">mem_in_iff</span></a>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.mem"><span class="id" title="axiom">mem</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span>); <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">discriminate</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.mem_find" class="idref" href="#Properties.mem_find"><span class="id" title="lemma">mem_find</span></a> <a id="m:184" class="idref" href="#m:184"><span class="id" title="binder">m</span></a> <a id="x:185" class="idref" href="#x:185"><span class="id" title="binder">x</span></a> : <a class="idref" href="MMaps.Facts.html#M.mem"><span class="id" title="axiom">mem</span></a> <a class="idref" href="MMaps.Facts.html#x:185"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:184"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:185"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:184"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#Properties.mem_in_iff"><span class="id" title="lemma">mem_in_iff</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.in_find"><span class="id" title="lemma">in_find</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.not_mem_find" class="idref" href="#Properties.not_mem_find"><span class="id" title="lemma">not_mem_find</span></a> <a id="m:186" class="idref" href="#m:186"><span class="id" title="binder">m</span></a> <a id="x:187" class="idref" href="#x:187"><span class="id" title="binder">x</span></a> : <a class="idref" href="MMaps.Facts.html#M.mem"><span class="id" title="axiom">mem</span></a> <a class="idref" href="MMaps.Facts.html#x:187"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:186"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:187"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:186"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#Properties.not_mem_in_iff"><span class="id" title="lemma">not_mem_in_iff</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.not_in_find"><span class="id" title="lemma">not_in_find</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.In_dec" class="idref" href="#Properties.In_dec"><span class="id" title="lemma">In_dec</span></a> <a id="m:188" class="idref" href="#m:188"><span class="id" title="binder">m</span></a> <a id="x:189" class="idref" href="#x:189"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a> <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:189"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:188"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:189"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:188"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MMaps.Facts.html#Properties.mem_in_iff"><span class="id" title="lemma">mem_in_iff</span></a> <span class="id" title="var">m</span> <span class="id" title="var">x</span>).<br/>
&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.mem"><span class="id" title="axiom">mem</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span>); [<span class="id" title="tactic">left</span>|<span class="id" title="tactic">right</span>]; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">discriminate</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.find_mapsto_iff" class="idref" href="#Properties.find_mapsto_iff"><span class="id" title="lemma">find_mapsto_iff</span></a> <a id="m:190" class="idref" href="#m:190"><span class="id" title="binder">m</span></a> <a id="x:191" class="idref" href="#x:191"><span class="id" title="binder">x</span></a> <a id="e:192" class="idref" href="#e:192"><span class="id" title="binder">e</span></a> : <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#x:191"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:192"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:190"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:191"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:190"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MMaps.Facts.html#e:192"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.equal_iff" class="idref" href="#Properties.equal_iff"><span class="id" title="lemma">equal_iff</span></a> <a id="m:193" class="idref" href="#m:193"><span class="id" title="binder">m</span></a> <a id="m':194" class="idref" href="#m':194"><span class="id" title="binder">m'</span></a> <a id="cmp:195" class="idref" href="#cmp:195"><span class="id" title="binder">cmp</span></a> : <a class="idref" href="MMaps.Facts.html#M.Equivb"><span class="id" title="definition">Equivb</span></a> <a class="idref" href="MMaps.Facts.html#cmp:195"><span class="id" title="variable">cmp</span></a> <a class="idref" href="MMaps.Facts.html#m:193"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':194"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.equal"><span class="id" title="axiom">equal</span></a> <a class="idref" href="MMaps.Facts.html#cmp:195"><span class="id" title="variable">cmp</span></a> <a class="idref" href="MMaps.Facts.html#m:193"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':194"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.equal_spec"><span class="id" title="axiom">equal_spec</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.empty_mapsto_iff" class="idref" href="#Properties.empty_mapsto_iff"><span class="id" title="lemma">empty_mapsto_iff</span></a> <a id="x:196" class="idref" href="#x:196"><span class="id" title="binder">x</span></a> <a id="e:197" class="idref" href="#e:197"><span class="id" title="binder">e</span></a> : <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#x:196"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:197"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#M.empty"><span class="id" title="axiom">empty</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>, <a class="idref" href="MMaps.Facts.html#M.empty_spec"><span class="id" title="axiom">empty_spec</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">split</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.not_in_empty" class="idref" href="#Properties.not_in_empty"><span class="id" title="lemma">not_in_empty</span></a> <a id="x:198" class="idref" href="#x:198"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:198"><span class="id" title="variable">x</span></a> (@<a class="idref" href="MMaps.Facts.html#M.empty"><span class="id" title="axiom">empty</span></a> <a class="idref" href="MMaps.Facts.html#Properties.IffSpec.elt"><span class="id" title="variable">elt</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> (<span class="id" title="var">e</span>,<span class="id" title="var">H</span>). <span class="id" title="var">revert</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.empty_mapsto_iff"><span class="id" title="lemma">empty_mapsto_iff</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.empty_in_iff" class="idref" href="#Properties.empty_in_iff"><span class="id" title="lemma">empty_in_iff</span></a> <a id="x:199" class="idref" href="#x:199"><span class="id" title="binder">x</span></a> : <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:199"><span class="id" title="variable">x</span></a> (@<a class="idref" href="MMaps.Facts.html#M.empty"><span class="id" title="axiom">empty</span></a> <a class="idref" href="MMaps.Facts.html#Properties.IffSpec.elt"><span class="id" title="variable">elt</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">split</span>; [ <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.not_in_empty"><span class="id" title="lemma">not_in_empty</span></a> | <span class="id" title="tactic">destruct</span> 1 ].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.is_empty_iff" class="idref" href="#Properties.is_empty_iff"><span class="id" title="lemma">is_empty_iff</span></a> <a id="m:200" class="idref" href="#m:200"><span class="id" title="binder">m</span></a> : <a class="idref" href="MMaps.Facts.html#Properties.Empty"><span class="id" title="definition">Empty</span></a> <a class="idref" href="MMaps.Facts.html#m:200"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.is_empty"><span class="id" title="axiom">is_empty</span></a> <a class="idref" href="MMaps.Facts.html#m:200"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.is_empty_1"><span class="id" title="lemma">is_empty_1</span></a> | <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.is_empty_2"><span class="id" title="lemma">is_empty_2</span></a> ]. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.add_mapsto_iff" class="idref" href="#Properties.add_mapsto_iff"><span class="id" title="lemma">add_mapsto_iff</span></a> <a id="m:201" class="idref" href="#m:201"><span class="id" title="binder">m</span></a> <a id="x:202" class="idref" href="#x:202"><span class="id" title="binder">x</span></a> <a id="y:203" class="idref" href="#y:203"><span class="id" title="binder">y</span></a> <a id="e:204" class="idref" href="#e:204"><span class="id" title="binder">e</span></a> <a id="e':205" class="idref" href="#e':205"><span class="id" title="binder">e'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#y:203"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#e':205"><span class="id" title="variable">e'</span></a> (<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#x:202"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:204"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:201"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:202"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:203"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MMaps.Facts.html#e:204"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><a class="idref" href="MMaps.Facts.html#e':205"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:202"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:203"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#y:203"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#e':205"><span class="id" title="variable">e'</span></a> <a class="idref" href="MMaps.Facts.html#m:201"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">split</span>.<br/>
- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#K.eq_dec"><span class="id" title="axiom">K.eq_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>); [<span class="id" title="tactic">left</span>|<span class="id" title="tactic">right</span>]; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="MMaps.Facts.html#Properties.mapsto_fun"><span class="id" title="lemma">mapsto_fun</span></a> <span class="id" title="var">H</span>); <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.add_3"><span class="id" title="lemma">add_3</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span>.<br/>
- <span class="id" title="tactic">destruct</span> 1 <span class="id" title="keyword">as</span> [(<span class="id" title="var">H</span>,<span class="id" title="var">H'</span>)|(<span class="id" title="var">H</span>,<span class="id" title="var">H'</span>)]; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.add_mapsto_new" class="idref" href="#Properties.add_mapsto_new"><span class="id" title="lemma">add_mapsto_new</span></a> <a id="m:206" class="idref" href="#m:206"><span class="id" title="binder">m</span></a> <a id="x:207" class="idref" href="#x:207"><span class="id" title="binder">x</span></a> <a id="y:208" class="idref" href="#y:208"><span class="id" title="binder">y</span></a> <a id="e:209" class="idref" href="#e:209"><span class="id" title="binder">e</span></a> <a id="e':210" class="idref" href="#e':210"><span class="id" title="binder">e'</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:207"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:206"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#y:208"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#e':210"><span class="id" title="variable">e'</span></a> (<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#x:207"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:209"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:206"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:207"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:208"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MMaps.Facts.html#e:209"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><a class="idref" href="MMaps.Facts.html#e':210"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#y:208"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#e':210"><span class="id" title="variable">e'</span></a> <a class="idref" href="MMaps.Facts.html#m:206"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.add_mapsto_iff"><span class="id" title="lemma">add_mapsto_iff</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">contradict</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">e'</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.in_add" class="idref" href="#Properties.in_add"><span class="id" title="lemma">in_add</span></a> <a id="m:211" class="idref" href="#m:211"><span class="id" title="binder">m</span></a> <a id="x:212" class="idref" href="#x:212"><span class="id" title="binder">x</span></a> <a id="y:213" class="idref" href="#y:213"><span class="id" title="binder">y</span></a> <a id="e:214" class="idref" href="#e:214"><span class="id" title="binder">e</span></a> : <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#y:213"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#m:211"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#y:213"><span class="id" title="variable">y</span></a> (<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#x:212"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:214"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:211"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#K.eq_dec"><span class="id" title="axiom">K.eq_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> [&lt;-|<span class="id" title="var">H'</span>].<br/>
&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#Properties.in_find"><span class="id" title="lemma">in_find</span></a>, <a class="idref" href="MMaps.Facts.html#M.add_spec1"><span class="id" title="axiom">add_spec1</span></a>.<br/>
&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#Properties.in_find"><span class="id" title="lemma">in_find</span></a>, <a class="idref" href="MMaps.Facts.html#M.add_spec2"><span class="id" title="axiom">add_spec2</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.add_in_iff" class="idref" href="#Properties.add_in_iff"><span class="id" title="lemma">add_in_iff</span></a> <a id="m:215" class="idref" href="#m:215"><span class="id" title="binder">m</span></a> <a id="x:216" class="idref" href="#x:216"><span class="id" title="binder">x</span></a> <a id="y:217" class="idref" href="#y:217"><span class="id" title="binder">y</span></a> <a id="e:218" class="idref" href="#e:218"><span class="id" title="binder">e</span></a> : <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#y:217"><span class="id" title="variable">y</span></a> (<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#x:216"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:218"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:215"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:216"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:217"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#y:217"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#m:215"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">split</span>.<br/>
- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#K.eq_dec"><span class="id" title="axiom">K.eq_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>); [<span class="id" title="var">now</span> <span class="id" title="tactic">left</span>|<span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.in_find"><span class="id" title="lemma">in_find</span></a>, <a class="idref" href="MMaps.Facts.html#M.add_spec2"><span class="id" title="axiom">add_spec2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.in_find"><span class="id" title="lemma">in_find</span></a>.<br/>
- <span class="id" title="tactic">intros</span> [&lt;-|<span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.add_1"><span class="id" title="lemma">add_1</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.in_add"><span class="id" title="lemma">in_add</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.add_neq_mapsto_iff" class="idref" href="#Properties.add_neq_mapsto_iff"><span class="id" title="lemma">add_neq_mapsto_iff</span></a> <a id="m:219" class="idref" href="#m:219"><span class="id" title="binder">m</span></a> <a id="x:220" class="idref" href="#x:220"><span class="id" title="binder">x</span></a> <a id="y:221" class="idref" href="#y:221"><span class="id" title="binder">y</span></a> <a id="e:222" class="idref" href="#e:222"><span class="id" title="binder">e</span></a> <a id="e':223" class="idref" href="#e':223"><span class="id" title="binder">e'</span></a> :<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:220"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:221"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#y:221"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#e':223"><span class="id" title="variable">e'</span></a> (<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#x:220"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:222"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:219"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#y:221"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#e':223"><span class="id" title="variable">e'</span></a> <a class="idref" href="MMaps.Facts.html#m:219"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.add_3"><span class="id" title="lemma">add_3</span></a>|<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.add_2"><span class="id" title="lemma">add_2</span></a>]; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.add_neq_in_iff" class="idref" href="#Properties.add_neq_in_iff"><span class="id" title="lemma">add_neq_in_iff</span></a> <a id="m:224" class="idref" href="#m:224"><span class="id" title="binder">m</span></a> <a id="x:225" class="idref" href="#x:225"><span class="id" title="binder">x</span></a> <a id="y:226" class="idref" href="#y:226"><span class="id" title="binder">y</span></a> <a id="e:227" class="idref" href="#e:227"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:225"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:226"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#y:226"><span class="id" title="variable">y</span></a> (<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#x:225"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:227"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:224"><span class="id" title="variable">m</span></a>)  <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#y:226"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#m:224"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> (<span class="id" title="var">e'</span>,<span class="id" title="var">H0</span>); <span class="id" title="tactic">∃</span> <span class="id" title="var">e'</span>.<br/>
- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.add_3"><span class="id" title="lemma">add_3</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span>.<br/>
- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.add_2"><span class="id" title="lemma">add_2</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.remove_mapsto_iff" class="idref" href="#Properties.remove_mapsto_iff"><span class="id" title="lemma">remove_mapsto_iff</span></a> <a id="m:228" class="idref" href="#m:228"><span class="id" title="binder">m</span></a> <a id="x:229" class="idref" href="#x:229"><span class="id" title="binder">x</span></a> <a id="y:230" class="idref" href="#y:230"><span class="id" title="binder">y</span></a> <a id="e:231" class="idref" href="#e:231"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#y:230"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#e:231"><span class="id" title="variable">e</span></a> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <a class="idref" href="MMaps.Facts.html#x:229"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:228"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:229"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:230"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#y:230"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#e:231"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:228"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">split</span>|<span class="id" title="tactic">destruct</span> 1].<br/>
- <span class="id" title="tactic">intro</span> <span class="id" title="var">E</span>. <span class="id" title="var">revert</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;-<span class="id" title="var">E</span>, &lt;- <a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>, <a class="idref" href="MMaps.Facts.html#M.remove_spec1"><span class="id" title="axiom">remove_spec1</span></a>.<br/>
- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.remove_3"><span class="id" title="lemma">remove_3</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">x</span>.<br/>
- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.remove_2"><span class="id" title="lemma">remove_2</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.remove_in_iff" class="idref" href="#Properties.remove_in_iff"><span class="id" title="lemma">remove_in_iff</span></a> <a id="m:232" class="idref" href="#m:232"><span class="id" title="binder">m</span></a> <a id="x:233" class="idref" href="#x:233"><span class="id" title="binder">x</span></a> <a id="y:234" class="idref" href="#y:234"><span class="id" title="binder">y</span></a> : <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#y:234"><span class="id" title="variable">y</span></a> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <a class="idref" href="MMaps.Facts.html#x:233"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:232"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:233"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:234"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#y:234"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#m:232"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a>; <span class="id" title="tactic">split</span>; [ <span class="id" title="tactic">intros</span> (<span class="id" title="var">e</span>,<span class="id" title="var">H</span>) | <span class="id" title="tactic">intros</span> (<span class="id" title="var">E</span>,(<span class="id" title="var">e</span>,<span class="id" title="var">H</span>)) ].<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.remove_mapsto_iff"><span class="id" title="lemma">remove_mapsto_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>.<br/>
- <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.remove_2"><span class="id" title="lemma">remove_2</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.remove_neq_mapsto_iff" class="idref" href="#Properties.remove_neq_mapsto_iff"><span class="id" title="lemma">remove_neq_mapsto_iff</span></a> : <span class="id" title="keyword">∀</span> <a id="m:235" class="idref" href="#m:235"><span class="id" title="binder">m</span></a> <a id="x:236" class="idref" href="#x:236"><span class="id" title="binder">x</span></a> <a id="y:237" class="idref" href="#y:237"><span class="id" title="binder">y</span></a> <a id="e:238" class="idref" href="#e:238"><span class="id" title="binder">e</span></a>,<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:236"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:237"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#y:237"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#e:238"><span class="id" title="variable">e</span></a> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <a class="idref" href="MMaps.Facts.html#x:236"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:235"><span class="id" title="variable">m</span></a>)  <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#y:237"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#e:238"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:235"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.remove_3"><span class="id" title="lemma">remove_3</span></a>|<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.remove_2"><span class="id" title="lemma">remove_2</span></a>]; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.remove_neq_in_iff" class="idref" href="#Properties.remove_neq_in_iff"><span class="id" title="lemma">remove_neq_in_iff</span></a> : <span class="id" title="keyword">∀</span> <a id="m:239" class="idref" href="#m:239"><span class="id" title="binder">m</span></a> <a id="x:240" class="idref" href="#x:240"><span class="id" title="binder">x</span></a> <a id="y:241" class="idref" href="#y:241"><span class="id" title="binder">y</span></a>,<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:240"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:241"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#y:241"><span class="id" title="variable">y</span></a> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <a class="idref" href="MMaps.Facts.html#x:240"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:239"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#y:241"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#m:239"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> (<span class="id" title="var">e'</span>,<span class="id" title="var">H0</span>); <span class="id" title="tactic">∃</span> <span class="id" title="var">e'</span>.<br/>
- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.remove_3"><span class="id" title="lemma">remove_3</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">x</span>.<br/>
- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.remove_2"><span class="id" title="lemma">remove_2</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.bindings_mapsto_iff" class="idref" href="#Properties.bindings_mapsto_iff"><span class="id" title="lemma">bindings_mapsto_iff</span></a> <a id="m:242" class="idref" href="#m:242"><span class="id" title="binder">m</span></a> <a id="x:243" class="idref" href="#x:243"><span class="id" title="binder">x</span></a> <a id="e:244" class="idref" href="#e:244"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#x:243"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:244"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:242"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eq_key_elt"><span class="id" title="definition">eq_key_elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#x:243"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.Facts.html#e:244"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#m:242"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.bindings_spec1"><span class="id" title="axiom">bindings_spec1</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.bindings_in_iff" class="idref" href="#Properties.bindings_in_iff"><span class="id" title="lemma">bindings_in_iff</span></a> <a id="m:245" class="idref" href="#m:245"><span class="id" title="binder">m</span></a> <a id="x:246" class="idref" href="#x:246"><span class="id" title="binder">x</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:246"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:245"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="e:247" class="idref" href="#e:247"><span class="id" title="binder">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eq_key_elt"><span class="id" title="definition">eq_key_elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#x:246"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.Facts.html#e:247"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#m:245"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> (<span class="id" title="var">e</span>,<span class="id" title="var">H</span>); <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.bindings_spec1"><span class="id" title="axiom">bindings_spec1</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.singleton_mapsto_iff" class="idref" href="#Properties.singleton_mapsto_iff"><span class="id" title="lemma">singleton_mapsto_iff</span></a> <a id="x:248" class="idref" href="#x:248"><span class="id" title="binder">x</span></a> <a id="y:249" class="idref" href="#y:249"><span class="id" title="binder">y</span></a> <a id="e:250" class="idref" href="#e:250"><span class="id" title="binder">e</span></a> <a id="e':251" class="idref" href="#e':251"><span class="id" title="binder">e'</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#y:249"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#e':251"><span class="id" title="variable">e'</span></a> (<a class="idref" href="MMaps.Facts.html#M.singleton"><span class="id" title="axiom">singleton</span></a> <a class="idref" href="MMaps.Facts.html#x:248"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:250"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:248"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:249"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MMaps.Facts.html#e:250"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.Facts.html#e':251"><span class="id" title="variable">e'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#M.bindings_spec1"><span class="id" title="axiom">bindings_spec1</span></a>, <a class="idref" href="MMaps.Facts.html#M.singleton_spec"><span class="id" title="axiom">singleton_spec</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_cons"><span class="id" title="lemma">InA_cons</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_nil"><span class="id" title="lemma">InA_nil</span></a>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Interface.html#Duo"><span class="id" title="definition">Duo</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intuition</span> (<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MMaps.Facts.html#Properties.IffSpec"><span class="id" title="section">IffSpec</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.map_mapsto_iff" class="idref" href="#Properties.map_mapsto_iff"><span class="id" title="lemma">map_mapsto_iff</span></a> {<a id="elt:252" class="idref" href="#elt:252"><span class="id" title="binder">elt</span></a> <a id="elt':253" class="idref" href="#elt':253"><span class="id" title="binder">elt'</span></a>} <a id="m:254" class="idref" href="#m:254"><span class="id" title="binder">m</span></a> <a id="x:255" class="idref" href="#x:255"><span class="id" title="binder">x</span></a> <a id="b:256" class="idref" href="#b:256"><span class="id" title="binder">b</span></a> (<a id="f:257" class="idref" href="#f:257"><span class="id" title="binder">f</span></a> : <a class="idref" href="MMaps.Facts.html#elt:252"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#elt':253"><span class="id" title="variable">elt'</span></a>) :<br/>
&nbsp;<a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#x:255"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#b:256"><span class="id" title="variable">b</span></a> (<a class="idref" href="MMaps.Facts.html#M.map"><span class="id" title="axiom">map</span></a> <a class="idref" href="MMaps.Facts.html#f:257"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:254"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="a:258" class="idref" href="#a:258"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MMaps.Facts.html#b:256"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.Facts.html#f:257"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#a:258"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#x:255"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#a:258"><span class="id" title="variable">a</span></a> <a class="idref" href="MMaps.Facts.html#m:254"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">rewrite</span> &lt;-<a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.map_find"><span class="id" title="lemma">map_find</span></a>. <span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>.<br/>
<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">split</span>.<br/>
- <span class="id" title="tactic">injection</span> 1. <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>.<br/>
- <span class="id" title="tactic">intros</span> (<span class="id" title="var">a</span>,(-&gt;,<span class="id" title="var">H</span>)). <span class="id" title="var">now</span> <span class="id" title="tactic">injection</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> →.<br/>
- <span class="id" title="tactic">discriminate</span>.<br/>
- <span class="id" title="tactic">intros</span> (<span class="id" title="var">a</span>,(<span class="id" title="var">_</span>,<span class="id" title="var">H</span>)); <span class="id" title="tactic">discriminate</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.map_in_iff" class="idref" href="#Properties.map_in_iff"><span class="id" title="lemma">map_in_iff</span></a> {<a id="elt:259" class="idref" href="#elt:259"><span class="id" title="binder">elt</span></a> <a id="elt':260" class="idref" href="#elt':260"><span class="id" title="binder">elt'</span></a>} <a id="m:261" class="idref" href="#m:261"><span class="id" title="binder">m</span></a> <a id="x:262" class="idref" href="#x:262"><span class="id" title="binder">x</span></a> (<a id="f:263" class="idref" href="#f:263"><span class="id" title="binder">f</span></a> : <a class="idref" href="MMaps.Facts.html#elt:259"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#elt':260"><span class="id" title="variable">elt'</span></a>) :<br/>
&nbsp;<a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:262"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.Facts.html#M.map"><span class="id" title="axiom">map</span></a> <a class="idref" href="MMaps.Facts.html#f:263"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:261"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:262"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:261"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#Properties.in_find"><span class="id" title="lemma">in_find</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.map_find"><span class="id" title="lemma">map_find</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Utils.html#option_map_some"><span class="id" title="lemma">option_map_some</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.mapi_in_iff" class="idref" href="#Properties.mapi_in_iff"><span class="id" title="lemma">mapi_in_iff</span></a> {<a id="elt:264" class="idref" href="#elt:264"><span class="id" title="binder">elt</span></a> <a id="elt':265" class="idref" href="#elt':265"><span class="id" title="binder">elt'</span></a>} <a id="m:266" class="idref" href="#m:266"><span class="id" title="binder">m</span></a> <a id="x:267" class="idref" href="#x:267"><span class="id" title="binder">x</span></a> (<a id="f:268" class="idref" href="#f:268"><span class="id" title="binder">f</span></a>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#elt:264"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#elt':265"><span class="id" title="variable">elt'</span></a>) :<br/>
&nbsp;<a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:267"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.Facts.html#M.mapi"><span class="id" title="axiom">mapi</span></a> <a class="idref" href="MMaps.Facts.html#f:268"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:266"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:267"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:266"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#Properties.in_find"><span class="id" title="lemma">in_find</span></a>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#Properties.mapi_find"><span class="id" title="lemma">mapi_find</span></a> <span class="id" title="var">f</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">y</span>,(<span class="id" title="var">_</span>,-&gt;)).<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Utils.html#option_map_some"><span class="id" title="lemma">option_map_some</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Unfortunately, we don't have simple equivalences for <span class="inlinecode"><a class="idref" href="MMaps.GenTree.html#Ops.mapi"><span class="id" title="definition">mapi</span></a></span>
  and <span class="inlinecode"><a class="idref" href="MMaps.GenTree.html#Props.MapsTo"><span class="id" title="definition">MapsTo</span></a></span>. The only correct one needs compatibility of <span class="inlinecode"><a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.f"><span class="id" title="variable">f</span></a></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.mapi_inv" class="idref" href="#Properties.mapi_inv"><span class="id" title="lemma">mapi_inv</span></a> {<a id="elt:269" class="idref" href="#elt:269"><span class="id" title="binder">elt</span></a> <a id="elt':270" class="idref" href="#elt':270"><span class="id" title="binder">elt'</span></a>} <a id="m:271" class="idref" href="#m:271"><span class="id" title="binder">m</span></a> <a id="x:272" class="idref" href="#x:272"><span class="id" title="binder">x</span></a> <a id="b:273" class="idref" href="#b:273"><span class="id" title="binder">b</span></a> (<a id="f:274" class="idref" href="#f:274"><span class="id" title="binder">f</span></a> : <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#elt:269"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#elt':270"><span class="id" title="variable">elt'</span></a>) :<br/>
&nbsp;<a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#x:272"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#b:273"><span class="id" title="variable">b</span></a> (<a class="idref" href="MMaps.Facts.html#M.mapi"><span class="id" title="axiom">mapi</span></a> <a class="idref" href="MMaps.Facts.html#f:274"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:271"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="a:275" class="idref" href="#a:275"><span class="id" title="binder">a</span></a> <a id="y:276" class="idref" href="#y:276"><span class="id" title="binder">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#y:276"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#x:272"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MMaps.Facts.html#b:273"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.Facts.html#f:274"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#y:276"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#a:275"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#x:272"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#a:275"><span class="id" title="variable">a</span></a> <a class="idref" href="MMaps.Facts.html#m:271"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>. <span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>.<br/>
<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#Properties.mapi_find"><span class="id" title="lemma">mapi_find</span></a> <span class="id" title="var">f</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">y</span>,(<span class="id" title="var">E</span>,-&gt;)).<br/>
<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span>); <span class="id" title="tactic">simpl</span>.<br/>
- <span class="id" title="tactic">injection</span> 1 <span class="id" title="keyword">as</span> &lt;-. <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>, <span class="id" title="var">y</span>.<br/>
- <span class="id" title="tactic">discriminate</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.mapi_find'" class="idref" href="#Properties.mapi_find'"><span class="id" title="lemma">mapi_find'</span></a> {<a id="elt:277" class="idref" href="#elt:277"><span class="id" title="binder">elt</span></a> <a id="elt':278" class="idref" href="#elt':278"><span class="id" title="binder">elt'</span></a>} (<a id="f:279" class="idref" href="#f:279"><span class="id" title="binder">f</span></a>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#elt:277"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#elt':278"><span class="id" title="variable">elt'</span></a>) :<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a>) <a class="idref" href="MMaps.Facts.html#f:279"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;<span class="id" title="keyword">∀</span> <a id="m:280" class="idref" href="#m:280"><span class="id" title="binder">m</span></a> <a id="x:281" class="idref" href="#x:281"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:281"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.Facts.html#M.mapi"><span class="id" title="axiom">mapi</span></a> <a class="idref" href="MMaps.Facts.html#f:279"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:280"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option_map"><span class="id" title="definition">option_map</span></a> (<a class="idref" href="MMaps.Facts.html#f:279"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#x:281"><span class="id" title="variable">x</span></a>) (<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:281"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:280"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#Properties.mapi_find"><span class="id" title="lemma">mapi_find</span></a> <span class="id" title="var">f</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">y</span>,(<span class="id" title="var">Hy</span>,-&gt;)).<br/>
&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hy</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.mapi_1bis" class="idref" href="#Properties.mapi_1bis"><span class="id" title="lemma">mapi_1bis</span></a> {<a id="elt:282" class="idref" href="#elt:282"><span class="id" title="binder">elt</span></a> <a id="elt':283" class="idref" href="#elt':283"><span class="id" title="binder">elt'</span></a>} <a id="m:284" class="idref" href="#m:284"><span class="id" title="binder">m</span></a> <a id="x:285" class="idref" href="#x:285"><span class="id" title="binder">x</span></a> <a id="e:286" class="idref" href="#e:286"><span class="id" title="binder">e</span></a> (<a id="f:287" class="idref" href="#f:287"><span class="id" title="binder">f</span></a>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#elt:282"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#elt':283"><span class="id" title="variable">elt'</span></a>) :<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a>) <a class="idref" href="MMaps.Facts.html#f:287"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;<a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#x:285"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:286"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:284"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#x:285"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.Facts.html#f:287"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#x:285"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:286"><span class="id" title="variable">e</span></a>) (<a class="idref" href="MMaps.Facts.html#M.mapi"><span class="id" title="axiom">mapi</span></a> <a class="idref" href="MMaps.Facts.html#f:287"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:284"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#Properties.mapi_1"><span class="id" title="lemma">mapi_1</span></a> <span class="id" title="var">f</span> <span class="id" title="var">H0</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">y</span>,(-&gt;,<span class="id" title="var">H2</span>)). <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.mapi_mapsto_iff" class="idref" href="#Properties.mapi_mapsto_iff"><span class="id" title="lemma">mapi_mapsto_iff</span></a> {<a id="elt:288" class="idref" href="#elt:288"><span class="id" title="binder">elt</span></a> <a id="elt':289" class="idref" href="#elt':289"><span class="id" title="binder">elt'</span></a>} <a id="m:290" class="idref" href="#m:290"><span class="id" title="binder">m</span></a> <a id="x:291" class="idref" href="#x:291"><span class="id" title="binder">x</span></a> <a id="b:292" class="idref" href="#b:292"><span class="id" title="binder">b</span></a> (<a id="f:293" class="idref" href="#f:293"><span class="id" title="binder">f</span></a>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#elt:288"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#elt':289"><span class="id" title="variable">elt'</span></a>) :<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a>) <a class="idref" href="MMaps.Facts.html#f:293"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#x:291"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#b:292"><span class="id" title="variable">b</span></a> (<a class="idref" href="MMaps.Facts.html#M.mapi"><span class="id" title="axiom">mapi</span></a> <a class="idref" href="MMaps.Facts.html#f:293"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:290"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="a:294" class="idref" href="#a:294"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MMaps.Facts.html#b:292"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.Facts.html#f:293"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#x:291"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#a:294"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#x:291"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#a:294"><span class="id" title="variable">a</span></a> <a class="idref" href="MMaps.Facts.html#m:290"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">rewrite</span> &lt;-<a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>. <span class="id" title="tactic">setoid_rewrite</span> &lt;-<a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">Pr</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.mapi_find'"><span class="id" title="lemma">mapi_find'</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">split</span>.<br/>
- <span class="id" title="tactic">injection</span> 1 <span class="id" title="keyword">as</span> &lt;-. <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>.<br/>
- <span class="id" title="tactic">intros</span> (<span class="id" title="var">a</span>,(-&gt;,<span class="id" title="var">H</span>)). <span class="id" title="var">now</span> <span class="id" title="tactic">injection</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> &lt;-.<br/>
- <span class="id" title="tactic">discriminate</span>.<br/>
- <span class="id" title="tactic">intros</span> (<span class="id" title="var">a</span>,(<span class="id" title="var">_</span>,<span class="id" title="var">H</span>)). <span class="id" title="tactic">discriminate</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Things are even worse for <span class="inlinecode"><a class="idref" href="MMaps.RBT.html#MakeRaw.merge"><span class="id" title="definition">merge</span></a></span> : we don't try to state any
 equivalence, see instead boolean results below. 
<div class="paragraph"> </div>

 The usual operations are compatible with <span class="inlinecode"><a class="idref" href="MMaps.GenTree.html#Props.Eqdom"><span class="id" title="definition">Eqdom</span></a></span> :
    same domain before, same domain after, regardless of what happens
    to the datas. 
</div>
<div class="code">

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Properties.add_m'" class="idref" href="#Properties.add_m'"><span class="id" title="instance">add_m'</span></a> {<a id="elt:295" class="idref" href="#elt:295"><span class="id" title="binder">elt</span></a>} : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#M.Eqdom"><span class="id" title="definition">Eqdom</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#M.Eqdom"><span class="id" title="definition">Eqdom</span></a>) (@<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#elt:295"><span class="id" title="variable">elt</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">k'</span> <span class="id" title="var">Hk</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span> &lt;- <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">Hm</span> <span class="id" title="var">y</span>.<br/>
<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#Properties.add_in_iff"><span class="id" title="lemma">add_in_iff</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hk</span>, <span class="id" title="var">Hm</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Properties.remove_m'" class="idref" href="#Properties.remove_m'"><span class="id" title="instance">remove_m'</span></a> {<a id="elt:296" class="idref" href="#elt:296"><span class="id" title="binder">elt</span></a>} : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#M.Eqdom"><span class="id" title="definition">Eqdom</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#M.Eqdom"><span class="id" title="definition">Eqdom</span></a>) (@<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <a class="idref" href="MMaps.Facts.html#elt:296"><span class="id" title="variable">elt</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">k'</span> <span class="id" title="var">Hk</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">Hm</span> <span class="id" title="var">y</span>.<br/>
<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#Properties.remove_in_iff"><span class="id" title="lemma">remove_in_iff</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hk</span>, <span class="id" title="var">Hm</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Note : We could even use completely differents functions below,
    not equal ones 
</div>
<div class="code">

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Properties.map_m'" class="idref" href="#Properties.map_m'"><span class="id" title="instance">map_m'</span></a> {<a id="elt:297" class="idref" href="#elt:297"><span class="id" title="binder">elt</span></a> <a id="elt':298" class="idref" href="#elt':298"><span class="id" title="binder">elt'</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#M.Eqdom"><span class="id" title="definition">Eqdom</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#M.Eqdom"><span class="id" title="definition">Eqdom</span></a>) (@<a class="idref" href="MMaps.Facts.html#M.map"><span class="id" title="axiom">map</span></a> <a class="idref" href="MMaps.Facts.html#elt:297"><span class="id" title="variable">elt</span></a> <a class="idref" href="MMaps.Facts.html#elt':298"><span class="id" title="variable">elt'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> &lt;- <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">Hm</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#Properties.map_in_iff"><span class="id" title="lemma">map_in_iff</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hm</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Properties.mapi_m'" class="idref" href="#Properties.mapi_m'"><span class="id" title="instance">mapi_m'</span></a> {<a id="elt:299" class="idref" href="#elt:299"><span class="id" title="binder">elt</span></a> <a id="elt':300" class="idref" href="#elt':300"><span class="id" title="binder">elt'</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#M.Eqdom"><span class="id" title="definition">Eqdom</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#M.Eqdom"><span class="id" title="definition">Eqdom</span></a>) (@<a class="idref" href="MMaps.Facts.html#M.mapi"><span class="id" title="axiom">mapi</span></a> <a class="idref" href="MMaps.Facts.html#elt:299"><span class="id" title="variable">elt</span></a> <a class="idref" href="MMaps.Facts.html#elt':300"><span class="id" title="variable">elt'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> &lt;- <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">Hm</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#Properties.mapi_in_iff"><span class="id" title="lemma">mapi_in_iff</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hm</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Useful tactic for simplifying expressions like
   <span class="inlinecode"><a class="idref" href="MMaps.GenTree.html#Props.In"><span class="id" title="definition">In</span></a></span> <span class="inlinecode"><a class="idref" href="MMaps.Raw.html#WS.Specs.y"><span class="id" title="variable">y</span></a></span> <span class="inlinecode">(<a class="idref" href="MMaps.RBT.html#MakeRaw.add"><span class="id" title="definition">add</span></a></span> <span class="inlinecode"><a class="idref" href="MMaps.Raw.html#WS.Specs.x"><span class="id" title="variable">x</span></a></span> <span class="inlinecode"><a class="idref" href="MMaps.Raw.html#WS.Specs.e"><span class="id" title="variable">e</span></a></span> <span class="inlinecode">(<a class="idref" href="MMaps.RBT.html#MakeRaw.remove"><span class="id" title="definition">remove</span></a></span> <span class="inlinecode"><span class="id" title="var">z</span></span> <span class="inlinecode"><a class="idref" href="MMaps.Raw.html#WS.Specs.m"><span class="id" title="variable">m</span></a>))</span> 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">map_iff</span> :=<br/>
&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">progress</span> (<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.add_mapsto_iff"><span class="id" title="lemma">add_mapsto_iff</span></a> || <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.add_in_iff"><span class="id" title="lemma">add_in_iff</span></a> ||<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.remove_mapsto_iff"><span class="id" title="lemma">remove_mapsto_iff</span></a> || <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.remove_in_iff"><span class="id" title="lemma">remove_in_iff</span></a> ||<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.empty_mapsto_iff"><span class="id" title="lemma">empty_mapsto_iff</span></a> || <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.empty_in_iff"><span class="id" title="lemma">empty_in_iff</span></a> ||<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.map_mapsto_iff"><span class="id" title="lemma">map_mapsto_iff</span></a> || <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.map_in_iff"><span class="id" title="lemma">map_in_iff</span></a> ||<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.mapi_in_iff"><span class="id" title="lemma">mapi_in_iff</span></a>)).<br/>

<br/>
</div>

<div class="doc">
<a id="lab14"></a><h3 class="section">Specifications via the reflect predicate</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.is_empty_spec'" class="idref" href="#Properties.is_empty_spec'"><span class="id" title="lemma">is_empty_spec'</span></a> {<a id="elt:301" class="idref" href="#elt:301"><span class="id" title="binder">elt</span></a>}(<a id="m:302" class="idref" href="#m:302"><span class="id" title="binder">m</span></a>:<a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#elt:301"><span class="id" title="variable">elt</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Bool.Bool.html#reflect"><span class="id" title="inductive">reflect</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.Empty"><span class="id" title="definition">Empty</span></a> <a class="idref" href="MMaps.Facts.html#m:302"><span class="id" title="variable">m</span></a>) (<a class="idref" href="MMaps.Facts.html#M.is_empty"><span class="id" title="axiom">is_empty</span></a> <a class="idref" href="MMaps.Facts.html#m:302"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Bool.Bool.html#iff_reflect"><span class="id" title="lemma">iff_reflect</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.is_empty_iff"><span class="id" title="lemma">is_empty_iff</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.mem_spec'" class="idref" href="#Properties.mem_spec'"><span class="id" title="lemma">mem_spec'</span></a> {<a id="elt:303" class="idref" href="#elt:303"><span class="id" title="binder">elt</span></a>} <a id="x:304" class="idref" href="#x:304"><span class="id" title="binder">x</span></a> (<a id="m:305" class="idref" href="#m:305"><span class="id" title="binder">m</span></a>:<a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#elt:303"><span class="id" title="variable">elt</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Bool.Bool.html#reflect"><span class="id" title="inductive">reflect</span></a> (<a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:304"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:305"><span class="id" title="variable">m</span></a>) (<a class="idref" href="MMaps.Facts.html#M.mem"><span class="id" title="axiom">mem</span></a> <a class="idref" href="MMaps.Facts.html#x:304"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:305"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Bool.Bool.html#iff_reflect"><span class="id" title="lemma">iff_reflect</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.mem_in_iff"><span class="id" title="lemma">mem_in_iff</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab15"></a><h3 class="section">Specifications written using boolean predicates</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="Properties.BoolSpec" class="idref" href="#Properties.BoolSpec"><span class="id" title="section">BoolSpec</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.mem_find_b" class="idref" href="#Properties.mem_find_b"><span class="id" title="lemma">mem_find_b</span></a> {<a id="elt:306" class="idref" href="#elt:306"><span class="id" title="binder">elt</span></a>}(<a id="m:307" class="idref" href="#m:307"><span class="id" title="binder">m</span></a>:<a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#elt:306"><span class="id" title="variable">elt</span></a>)(<a id="x:308" class="idref" href="#x:308"><span class="id" title="binder">x</span></a>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.mem"><span class="id" title="axiom">mem</span></a> <a class="idref" href="MMaps.Facts.html#x:308"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:307"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="keyword">if</span> <a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:308"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:307"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Utils.html#eq_bool_alt"><span class="id" title="lemma">eq_bool_alt</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.mem_find"><span class="id" title="lemma">mem_find</span></a>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span>).<br/>
- <span class="id" title="var">now</span> <span class="id" title="tactic">split</span>.<br/>
- <span class="id" title="tactic">split</span>; (<span class="id" title="tactic">discriminate</span> || <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> 1).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a id="Properties.BoolSpec.elt" class="idref" href="#Properties.BoolSpec.elt"><span class="id" title="variable">elt</span></a> <a id="Properties.BoolSpec.elt'" class="idref" href="#Properties.BoolSpec.elt'"><span class="id" title="variable">elt'</span></a> <a id="Properties.BoolSpec.elt''" class="idref" href="#Properties.BoolSpec.elt''"><span class="id" title="variable">elt''</span></a> : <span class="id" title="keyword">Type</span>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">m</span> : <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#Properties.BoolSpec.elt"><span class="id" title="variable">elt</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">e</span> : <a class="idref" href="MMaps.Facts.html#Properties.BoolSpec.elt"><span class="id" title="variable">elt</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.mem_b" class="idref" href="#Properties.mem_b"><span class="id" title="lemma">mem_b</span></a> <a id="m:315" class="idref" href="#m:315"><span class="id" title="binder">m</span></a> <a id="x:316" class="idref" href="#x:316"><span class="id" title="binder">x</span></a> <a id="y:317" class="idref" href="#y:317"><span class="id" title="binder">y</span></a> : <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:316"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:317"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.mem"><span class="id" title="axiom">mem</span></a> <a class="idref" href="MMaps.Facts.html#x:316"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:315"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.Facts.html#M.mem"><span class="id" title="axiom">mem</span></a> <a class="idref" href="MMaps.Facts.html#y:317"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#m:315"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> →. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.find_o" class="idref" href="#Properties.find_o"><span class="id" title="lemma">find_o</span></a> <a id="m:318" class="idref" href="#m:318"><span class="id" title="binder">m</span></a> <a id="x:319" class="idref" href="#x:319"><span class="id" title="binder">x</span></a> <a id="y:320" class="idref" href="#y:320"><span class="id" title="binder">y</span></a> : <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:319"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:320"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:319"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:318"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#y:320"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#m:318"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> →. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.empty_o" class="idref" href="#Properties.empty_o"><span class="id" title="lemma">empty_o</span></a> <a id="x:321" class="idref" href="#x:321"><span class="id" title="binder">x</span></a> : <a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:321"><span class="id" title="variable">x</span></a> (@<a class="idref" href="MMaps.Facts.html#M.empty"><span class="id" title="axiom">empty</span></a> <a class="idref" href="MMaps.Facts.html#Properties.BoolSpec.elt"><span class="id" title="variable">elt</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.empty_spec"><span class="id" title="axiom">empty_spec</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.empty_a" class="idref" href="#Properties.empty_a"><span class="id" title="lemma">empty_a</span></a> <a id="x:322" class="idref" href="#x:322"><span class="id" title="binder">x</span></a> : <a class="idref" href="MMaps.Facts.html#M.mem"><span class="id" title="axiom">mem</span></a> <a class="idref" href="MMaps.Facts.html#x:322"><span class="id" title="variable">x</span></a> (@<a class="idref" href="MMaps.Facts.html#M.empty"><span class="id" title="axiom">empty</span></a> <a class="idref" href="MMaps.Facts.html#Properties.BoolSpec.elt"><span class="id" title="variable">elt</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.not_mem_find"><span class="id" title="lemma">not_mem_find</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.empty_spec"><span class="id" title="axiom">empty_spec</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.add_eq_o" class="idref" href="#Properties.add_eq_o"><span class="id" title="lemma">add_eq_o</span></a> <a id="m:323" class="idref" href="#m:323"><span class="id" title="binder">m</span></a> <a id="x:324" class="idref" href="#x:324"><span class="id" title="binder">x</span></a> <a id="y:325" class="idref" href="#y:325"><span class="id" title="binder">y</span></a> <a id="e:326" class="idref" href="#e:326"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:324"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:325"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#y:325"><span class="id" title="variable">y</span></a> (<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#x:324"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:326"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:323"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MMaps.Facts.html#e:326"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> &lt;-. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.add_spec1"><span class="id" title="axiom">add_spec1</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.add_neq_o" class="idref" href="#Properties.add_neq_o"><span class="id" title="lemma">add_neq_o</span></a> <a id="m:327" class="idref" href="#m:327"><span class="id" title="binder">m</span></a> <a id="x:328" class="idref" href="#x:328"><span class="id" title="binder">x</span></a> <a id="y:329" class="idref" href="#y:329"><span class="id" title="binder">y</span></a> <a id="e:330" class="idref" href="#e:330"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:328"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:329"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#y:329"><span class="id" title="variable">y</span></a> (<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#x:328"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:330"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:327"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#y:329"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#m:327"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.add_spec2"><span class="id" title="axiom">add_spec2</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">add_neq_o</span> : <span class="id" title="var">map</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.add_o" class="idref" href="#Properties.add_o"><span class="id" title="lemma">add_o</span></a> <a id="m:331" class="idref" href="#m:331"><span class="id" title="binder">m</span></a> <a id="x:332" class="idref" href="#x:332"><span class="id" title="binder">x</span></a> <a id="y:333" class="idref" href="#y:333"><span class="id" title="binder">y</span></a> <a id="e:334" class="idref" href="#e:334"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#y:333"><span class="id" title="variable">y</span></a> (<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#x:332"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:334"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:331"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="keyword">if</span> <a class="idref" href="MMaps.Facts.html#K.eq_dec"><span class="id" title="axiom">K.eq_dec</span></a> <a class="idref" href="MMaps.Facts.html#x:332"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:333"><span class="id" title="variable">y</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MMaps.Facts.html#e:334"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#y:333"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#m:331"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#K.eq_dec"><span class="id" title="axiom">K.eq_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>); <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.add_eq_b" class="idref" href="#Properties.add_eq_b"><span class="id" title="lemma">add_eq_b</span></a> <a id="m:335" class="idref" href="#m:335"><span class="id" title="binder">m</span></a> <a id="x:336" class="idref" href="#x:336"><span class="id" title="binder">x</span></a> <a id="y:337" class="idref" href="#y:337"><span class="id" title="binder">y</span></a> <a id="e:338" class="idref" href="#e:338"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:336"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:337"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.mem"><span class="id" title="axiom">mem</span></a> <a class="idref" href="MMaps.Facts.html#y:337"><span class="id" title="variable">y</span></a> (<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#x:336"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:338"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:335"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> &lt;-. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.mem_spec"><span class="id" title="axiom">mem_spec</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.add_in_iff"><span class="id" title="lemma">add_in_iff</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.add_neq_b" class="idref" href="#Properties.add_neq_b"><span class="id" title="lemma">add_neq_b</span></a> <a id="m:339" class="idref" href="#m:339"><span class="id" title="binder">m</span></a> <a id="x:340" class="idref" href="#x:340"><span class="id" title="binder">x</span></a> <a id="y:341" class="idref" href="#y:341"><span class="id" title="binder">y</span></a> <a id="e:342" class="idref" href="#e:342"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:340"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:341"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.mem"><span class="id" title="axiom">mem</span></a> <a class="idref" href="MMaps.Facts.html#y:341"><span class="id" title="variable">y</span></a> (<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#x:340"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:342"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:339"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.Facts.html#M.mem"><span class="id" title="axiom">mem</span></a> <a class="idref" href="MMaps.Facts.html#y:341"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#m:339"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#Properties.mem_find_b"><span class="id" title="lemma">mem_find_b</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.add_neq_o"><span class="id" title="lemma">add_neq_o</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.add_b" class="idref" href="#Properties.add_b"><span class="id" title="lemma">add_b</span></a> <a id="m:343" class="idref" href="#m:343"><span class="id" title="binder">m</span></a> <a id="x:344" class="idref" href="#x:344"><span class="id" title="binder">x</span></a> <a id="y:345" class="idref" href="#y:345"><span class="id" title="binder">y</span></a> <a id="e:346" class="idref" href="#e:346"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.Facts.html#M.mem"><span class="id" title="axiom">mem</span></a> <a class="idref" href="MMaps.Facts.html#y:345"><span class="id" title="variable">y</span></a> (<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#x:344"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:346"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:343"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> <a class="idref" href="MMaps.Facts.html#x:344"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:345"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="MMaps.Facts.html#M.mem"><span class="id" title="axiom">mem</span></a> <a class="idref" href="MMaps.Facts.html#y:345"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#m:343"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#Properties.mem_find_b"><span class="id" title="lemma">mem_find_b</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.add_o"><span class="id" title="lemma">add_o</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a>.<br/>
<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#K.eq_dec"><span class="id" title="axiom">K.eq_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.remove_eq_o" class="idref" href="#Properties.remove_eq_o"><span class="id" title="lemma">remove_eq_o</span></a> <a id="m:347" class="idref" href="#m:347"><span class="id" title="binder">m</span></a> <a id="x:348" class="idref" href="#x:348"><span class="id" title="binder">x</span></a> <a id="y:349" class="idref" href="#y:349"><span class="id" title="binder">y</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:348"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:349"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#y:349"><span class="id" title="variable">y</span></a> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <a class="idref" href="MMaps.Facts.html#x:348"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:347"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> →. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.remove_spec1"><span class="id" title="axiom">remove_spec1</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.remove_neq_o" class="idref" href="#Properties.remove_neq_o"><span class="id" title="lemma">remove_neq_o</span></a> <a id="m:350" class="idref" href="#m:350"><span class="id" title="binder">m</span></a> <a id="x:351" class="idref" href="#x:351"><span class="id" title="binder">x</span></a> <a id="y:352" class="idref" href="#y:352"><span class="id" title="binder">y</span></a> :<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:351"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:352"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#y:352"><span class="id" title="variable">y</span></a> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <a class="idref" href="MMaps.Facts.html#x:351"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:350"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#y:352"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#m:350"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.remove_spec2"><span class="id" title="axiom">remove_spec2</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">remove_eq_o</span> <span class="id" title="var">remove_neq_o</span> : <span class="id" title="var">map</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.remove_o" class="idref" href="#Properties.remove_o"><span class="id" title="lemma">remove_o</span></a> <a id="m:353" class="idref" href="#m:353"><span class="id" title="binder">m</span></a> <a id="x:354" class="idref" href="#x:354"><span class="id" title="binder">x</span></a> <a id="y:355" class="idref" href="#y:355"><span class="id" title="binder">y</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#y:355"><span class="id" title="variable">y</span></a> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <a class="idref" href="MMaps.Facts.html#x:354"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:353"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="keyword">if</span> <a class="idref" href="MMaps.Facts.html#K.eq_dec"><span class="id" title="axiom">K.eq_dec</span></a> <a class="idref" href="MMaps.Facts.html#x:354"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:355"><span class="id" title="variable">y</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#y:355"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#m:353"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#K.eq_dec"><span class="id" title="axiom">K.eq_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>); <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.remove_eq_b" class="idref" href="#Properties.remove_eq_b"><span class="id" title="lemma">remove_eq_b</span></a> <a id="m:356" class="idref" href="#m:356"><span class="id" title="binder">m</span></a> <a id="x:357" class="idref" href="#x:357"><span class="id" title="binder">x</span></a> <a id="y:358" class="idref" href="#y:358"><span class="id" title="binder">y</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:357"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:358"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.mem"><span class="id" title="axiom">mem</span></a> <a class="idref" href="MMaps.Facts.html#y:358"><span class="id" title="variable">y</span></a> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <a class="idref" href="MMaps.Facts.html#x:357"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:356"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> &lt;-. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.mem_find_b"><span class="id" title="lemma">mem_find_b</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.remove_eq_o"><span class="id" title="lemma">remove_eq_o</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.remove_neq_b" class="idref" href="#Properties.remove_neq_b"><span class="id" title="lemma">remove_neq_b</span></a> <a id="m:359" class="idref" href="#m:359"><span class="id" title="binder">m</span></a> <a id="x:360" class="idref" href="#x:360"><span class="id" title="binder">x</span></a> <a id="y:361" class="idref" href="#y:361"><span class="id" title="binder">y</span></a> :<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:360"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:361"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.mem"><span class="id" title="axiom">mem</span></a> <a class="idref" href="MMaps.Facts.html#y:361"><span class="id" title="variable">y</span></a> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <a class="idref" href="MMaps.Facts.html#x:360"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:359"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.Facts.html#M.mem"><span class="id" title="axiom">mem</span></a> <a class="idref" href="MMaps.Facts.html#y:361"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#m:359"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#Properties.mem_find_b"><span class="id" title="lemma">mem_find_b</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.remove_neq_o"><span class="id" title="lemma">remove_neq_o</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.remove_b" class="idref" href="#Properties.remove_b"><span class="id" title="lemma">remove_b</span></a> <a id="m:362" class="idref" href="#m:362"><span class="id" title="binder">m</span></a> <a id="x:363" class="idref" href="#x:363"><span class="id" title="binder">x</span></a> <a id="y:364" class="idref" href="#y:364"><span class="id" title="binder">y</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.Facts.html#M.mem"><span class="id" title="axiom">mem</span></a> <a class="idref" href="MMaps.Facts.html#y:364"><span class="id" title="variable">y</span></a> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <a class="idref" href="MMaps.Facts.html#x:363"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:362"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> <a class="idref" href="MMaps.Facts.html#x:363"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:364"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="MMaps.Facts.html#M.mem"><span class="id" title="axiom">mem</span></a> <a class="idref" href="MMaps.Facts.html#y:364"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#m:362"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#Properties.mem_find_b"><span class="id" title="lemma">mem_find_b</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.remove_o"><span class="id" title="lemma">remove_o</span></a>; <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a>.<br/>
<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#K.eq_dec"><span class="id" title="axiom">K.eq_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.singleton_o1" class="idref" href="#Properties.singleton_o1"><span class="id" title="lemma">singleton_o1</span></a> <a id="x:365" class="idref" href="#x:365"><span class="id" title="binder">x</span></a> <a id="e:366" class="idref" href="#e:366"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:365"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.Facts.html#M.singleton"><span class="id" title="axiom">singleton</span></a> <a class="idref" href="MMaps.Facts.html#x:365"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:366"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MMaps.Facts.html#e:366"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.singleton_mapsto_iff"><span class="id" title="lemma">singleton_mapsto_iff</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.singleton_o2" class="idref" href="#Properties.singleton_o2"><span class="id" title="lemma">singleton_o2</span></a> <a id="x:367" class="idref" href="#x:367"><span class="id" title="binder">x</span></a> <a id="y:368" class="idref" href="#y:368"><span class="id" title="binder">y</span></a> <a id="e:369" class="idref" href="#e:369"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:367"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:368"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#y:368"><span class="id" title="variable">y</span></a> (<a class="idref" href="MMaps.Facts.html#M.singleton"><span class="id" title="axiom">singleton</span></a> <a class="idref" href="MMaps.Facts.html#x:367"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:369"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#Properties.not_in_find"><span class="id" title="lemma">not_in_find</span></a>. <span class="id" title="var">contradict</span> <span class="id" title="var">H</span>.<br/>
&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e'</span> &amp; <span class="id" title="var">H</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.singleton_mapsto_iff"><span class="id" title="lemma">singleton_mapsto_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.singleton_o" class="idref" href="#Properties.singleton_o"><span class="id" title="lemma">singleton_o</span></a> <a id="x:370" class="idref" href="#x:370"><span class="id" title="binder">x</span></a> <a id="y:371" class="idref" href="#y:371"><span class="id" title="binder">y</span></a> <a id="e:372" class="idref" href="#e:372"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#y:371"><span class="id" title="variable">y</span></a> (<a class="idref" href="MMaps.Facts.html#M.singleton"><span class="id" title="axiom">singleton</span></a> <a class="idref" href="MMaps.Facts.html#x:370"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:372"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="keyword">if</span> <a class="idref" href="MMaps.Facts.html#K.eq_dec"><span class="id" title="axiom">K.eq_dec</span></a> <a class="idref" href="MMaps.Facts.html#x:370"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:371"><span class="id" title="variable">y</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MMaps.Facts.html#e:372"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#K.eq_dec"><span class="id" title="axiom">K.eq_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> [&lt;-|<span class="id" title="var">NE</span>];<br/>
&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MMaps.Facts.html#Properties.singleton_o1"><span class="id" title="lemma">singleton_o1</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.singleton_o2"><span class="id" title="lemma">singleton_o2</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.map_o" class="idref" href="#Properties.map_o"><span class="id" title="lemma">map_o</span></a> <a id="m:373" class="idref" href="#m:373"><span class="id" title="binder">m</span></a> <a id="x:374" class="idref" href="#x:374"><span class="id" title="binder">x</span></a> (<a id="f:375" class="idref" href="#f:375"><span class="id" title="binder">f</span></a>:<a class="idref" href="MMaps.Facts.html#Properties.BoolSpec.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#Properties.BoolSpec.elt'"><span class="id" title="variable">elt'</span></a>) :<br/>
&nbsp;<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:374"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.Facts.html#M.map"><span class="id" title="axiom">map</span></a> <a class="idref" href="MMaps.Facts.html#f:375"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:373"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option_map"><span class="id" title="definition">option_map</span></a> <a class="idref" href="MMaps.Facts.html#f:375"><span class="id" title="variable">f</span></a> (<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:374"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:373"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.map_find"><span class="id" title="lemma">map_find</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.map_b" class="idref" href="#Properties.map_b"><span class="id" title="lemma">map_b</span></a> <a id="m:376" class="idref" href="#m:376"><span class="id" title="binder">m</span></a> <a id="x:377" class="idref" href="#x:377"><span class="id" title="binder">x</span></a> (<a id="f:378" class="idref" href="#f:378"><span class="id" title="binder">f</span></a>:<a class="idref" href="MMaps.Facts.html#Properties.BoolSpec.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#Properties.BoolSpec.elt'"><span class="id" title="variable">elt'</span></a>) :<br/>
&nbsp;<a class="idref" href="MMaps.Facts.html#M.mem"><span class="id" title="axiom">mem</span></a> <a class="idref" href="MMaps.Facts.html#x:377"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.Facts.html#M.map"><span class="id" title="axiom">map</span></a> <a class="idref" href="MMaps.Facts.html#f:378"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:376"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.Facts.html#M.mem"><span class="id" title="axiom">mem</span></a> <a class="idref" href="MMaps.Facts.html#x:377"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:376"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#Properties.mem_find_b"><span class="id" title="lemma">mem_find_b</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.map_o"><span class="id" title="lemma">map_o</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.mapi_b" class="idref" href="#Properties.mapi_b"><span class="id" title="lemma">mapi_b</span></a> <a id="m:379" class="idref" href="#m:379"><span class="id" title="binder">m</span></a> <a id="x:380" class="idref" href="#x:380"><span class="id" title="binder">x</span></a> (<a id="f:381" class="idref" href="#f:381"><span class="id" title="binder">f</span></a>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#Properties.BoolSpec.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#Properties.BoolSpec.elt'"><span class="id" title="variable">elt'</span></a>) :<br/>
&nbsp;<a class="idref" href="MMaps.Facts.html#M.mem"><span class="id" title="axiom">mem</span></a> <a class="idref" href="MMaps.Facts.html#x:380"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.Facts.html#M.mapi"><span class="id" title="axiom">mapi</span></a> <a class="idref" href="MMaps.Facts.html#f:381"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:379"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.Facts.html#M.mem"><span class="id" title="axiom">mem</span></a> <a class="idref" href="MMaps.Facts.html#x:380"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:379"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Utils.html#eq_bool_alt"><span class="id" title="lemma">eq_bool_alt</span></a>; <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#M.mem_spec"><span class="id" title="axiom">mem_spec</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.mapi_in_iff"><span class="id" title="lemma">mapi_in_iff</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.mapi_o" class="idref" href="#Properties.mapi_o"><span class="id" title="lemma">mapi_o</span></a> <a id="m:382" class="idref" href="#m:382"><span class="id" title="binder">m</span></a> <a id="x:383" class="idref" href="#x:383"><span class="id" title="binder">x</span></a> (<a id="f:384" class="idref" href="#f:384"><span class="id" title="binder">f</span></a>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#Properties.BoolSpec.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#Properties.BoolSpec.elt'"><span class="id" title="variable">elt'</span></a>) :<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a>) <a class="idref" href="MMaps.Facts.html#f:384"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:383"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.Facts.html#M.mapi"><span class="id" title="axiom">mapi</span></a> <a class="idref" href="MMaps.Facts.html#f:384"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:382"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option_map"><span class="id" title="definition">option_map</span></a> (<a class="idref" href="MMaps.Facts.html#f:384"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#x:383"><span class="id" title="variable">x</span></a>) (<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:383"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:382"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.mapi_find'"><span class="id" title="lemma">mapi_find'</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Specification of <span class="inlinecode"><a class="idref" href="MMaps.RBT.html#MakeRaw.merge"><span class="id" title="definition">merge</span></a></span> when more is known on <span class="inlinecode"><a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.f"><span class="id" title="variable">f</span></a></span>. 
<div class="paragraph"> </div>

 If <span class="inlinecode"><a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.f"><span class="id" title="variable">f</span></a></span> is a morphism w.r.t <span class="inlinecode"><span class="id" title="var">K.eq</span></span>, then we can get rid of the
    <span class="inlinecode"><span class="id" title="tactic">∃</span></span> <span class="inlinecode"><a class="idref" href="MMaps.Raw.html#WS.Specs.y"><span class="id" title="variable">y</span></a></span> in <span class="inlinecode"><a class="idref" href="MMaps.RBT.html#MakeRaw.merge_spec1"><span class="id" title="lemma">merge_spec1</span></a></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.merge_spec1m" class="idref" href="#Properties.merge_spec1m"><span class="id" title="lemma">merge_spec1m</span></a> (<a id="f:385" class="idref" href="#f:385"><span class="id" title="binder">f</span></a>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.Facts.html#Properties.BoolSpec.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.Facts.html#Properties.BoolSpec.elt'"><span class="id" title="variable">elt'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.Facts.html#Properties.BoolSpec.elt''"><span class="id" title="variable">elt''</span></a>) :<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a>) <a class="idref" href="MMaps.Facts.html#f:385"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;<span class="id" title="keyword">∀</span> (<a id="m:386" class="idref" href="#m:386"><span class="id" title="binder">m</span></a>:<a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#Properties.BoolSpec.elt"><span class="id" title="variable">elt</span></a>)(<a id="m':387" class="idref" href="#m':387"><span class="id" title="binder">m'</span></a>:<a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#Properties.BoolSpec.elt'"><span class="id" title="variable">elt'</span></a>) <a id="x:388" class="idref" href="#x:388"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:388"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:386"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:388"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m':387"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:388"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.Facts.html#M.merge"><span class="id" title="axiom">merge</span></a> <a class="idref" href="MMaps.Facts.html#f:385"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:386"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':387"><span class="id" title="variable">m'</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.Facts.html#f:385"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#x:388"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:388"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:386"><span class="id" title="variable">m</span></a>) (<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:388"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m':387"><span class="id" title="variable">m'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hf</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">x</span> <span class="id" title="var">H</span>.<br/>
&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.merge_spec1"><span class="id" title="axiom">merge_spec1</span></a> <span class="id" title="var">f</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">y</span>,(-&gt;,-&gt;)).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If <span class="inlinecode"><a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a></span> <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a></span> <span class="inlinecode">=</span> <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a></span>, then we can get rid of the
    <span class="inlinecode"><a class="idref" href="MMaps.GenTree.html#Props.In"><span class="id" title="definition">In</span></a></span> <span class="inlinecode">...</span> <span class="inlinecode">∨</span> <span class="inlinecode"><a class="idref" href="MMaps.GenTree.html#Props.In"><span class="id" title="definition">In</span></a></span> <span class="inlinecode">...</span> condition in <span class="inlinecode"><a class="idref" href="MMaps.RBT.html#MakeRaw.merge_spec1"><span class="id" title="lemma">merge_spec1</span></a></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.merge_spec1n" class="idref" href="#Properties.merge_spec1n"><span class="id" title="lemma">merge_spec1n</span></a> (<a id="f:389" class="idref" href="#f:389"><span class="id" title="binder">f</span></a>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.Facts.html#Properties.BoolSpec.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.Facts.html#Properties.BoolSpec.elt'"><span class="id" title="variable">elt'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.Facts.html#Properties.BoolSpec.elt''"><span class="id" title="variable">elt''</span></a>) :<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:390" class="idref" href="#x:390"><span class="id" title="binder">x</span></a>, <a class="idref" href="MMaps.Facts.html#f:389"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#x:390"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;<span class="id" title="keyword">∀</span> (<a id="m:391" class="idref" href="#m:391"><span class="id" title="binder">m</span></a>: <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#Properties.BoolSpec.elt"><span class="id" title="variable">elt</span></a>)(<a id="m':392" class="idref" href="#m':392"><span class="id" title="binder">m'</span></a>: <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#Properties.BoolSpec.elt'"><span class="id" title="variable">elt'</span></a>) <a id="x:393" class="idref" href="#x:393"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="y:394" class="idref" href="#y:394"><span class="id" title="binder">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#y:394"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#x:393"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:393"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.Facts.html#M.merge"><span class="id" title="axiom">merge</span></a> <a class="idref" href="MMaps.Facts.html#f:389"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:391"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':392"><span class="id" title="variable">m'</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.Facts.html#f:389"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#y:394"><span class="id" title="variable">y</span></a> (<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:393"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:391"><span class="id" title="variable">m</span></a>) (<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:393"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m':392"><span class="id" title="variable">m'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">Hf</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">x</span>.<br/>
<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">e</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hm</span>.<br/>
- <span class="id" title="tactic">assert</span> (<span class="id" title="var">H</span> : <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m'</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">left</span>; <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.merge_spec1"><span class="id" title="axiom">merge_spec1</span></a> <span class="id" title="var">f</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">y</span>,(<span class="id" title="var">Hy</span>,-&gt;)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm</span>.<br/>
- <span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">e</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hm'</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<span class="id" title="var">H</span> : <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m'</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">right</span>; <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.merge_spec1"><span class="id" title="axiom">merge_spec1</span></a> <span class="id" title="var">f</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">y</span>,(<span class="id" title="var">Hy</span>,-&gt;)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm</span>, <span class="id" title="var">Hm'</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.not_in_find"><span class="id" title="lemma">not_in_find</span></a>. <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.merge_spec2"><span class="id" title="axiom">merge_spec2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.not_in_find"><span class="id" title="lemma">not_in_find</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.not_in_find"><span class="id" title="lemma">not_in_find</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
And if <span class="inlinecode"><a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.f"><span class="id" title="variable">f</span></a></span> is both a morphism and satisfies <span class="inlinecode"><a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a></span> <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a></span> <span class="inlinecode">=</span> <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a></span> : 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.merge_spec1mn" class="idref" href="#Properties.merge_spec1mn"><span class="id" title="lemma">merge_spec1mn</span></a> (<a id="f:395" class="idref" href="#f:395"><span class="id" title="binder">f</span></a>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.Facts.html#Properties.BoolSpec.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.Facts.html#Properties.BoolSpec.elt'"><span class="id" title="variable">elt'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.Facts.html#Properties.BoolSpec.elt''"><span class="id" title="variable">elt''</span></a>) :<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a>) <a class="idref" href="MMaps.Facts.html#f:395"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:396" class="idref" href="#x:396"><span class="id" title="binder">x</span></a>, <a class="idref" href="MMaps.Facts.html#f:395"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#x:396"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;<span class="id" title="keyword">∀</span> (<a id="m:397" class="idref" href="#m:397"><span class="id" title="binder">m</span></a>: <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#Properties.BoolSpec.elt"><span class="id" title="variable">elt</span></a>)(<a id="m':398" class="idref" href="#m':398"><span class="id" title="binder">m'</span></a>: <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#Properties.BoolSpec.elt'"><span class="id" title="variable">elt'</span></a>) <a id="x:399" class="idref" href="#x:399"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:399"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.Facts.html#M.merge"><span class="id" title="axiom">merge</span></a> <a class="idref" href="MMaps.Facts.html#f:395"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:397"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':398"><span class="id" title="variable">m'</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.Facts.html#f:395"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#x:399"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:399"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:397"><span class="id" title="variable">m</span></a>) (<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:399"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m':398"><span class="id" title="variable">m'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hf'</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">x</span>.<br/>
&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#Properties.merge_spec1n"><span class="id" title="lemma">merge_spec1n</span></a> <span class="id" title="var">Hf'</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">y</span>,(-&gt;,-&gt;)).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.bindings_o" class="idref" href="#Properties.bindings_o"><span class="id" title="lemma">bindings_o</span></a> : <span class="id" title="keyword">∀</span> <a id="m:400" class="idref" href="#m:400"><span class="id" title="binder">m</span></a> <a id="x:401" class="idref" href="#x:401"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:401"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:400"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#findA"><span class="id" title="definition">findA</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> <a class="idref" href="MMaps.Facts.html#x:401"><span class="id" title="variable">x</span></a>) (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#m:400"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Utils.html#eq_option_alt"><span class="id" title="lemma">eq_option_alt</span></a>. <span class="id" title="tactic">intro</span> <span class="id" title="var">e</span>.<br/>
<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#Properties.find_mapsto_iff"><span class="id" title="lemma">find_mapsto_iff</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.bindings_mapsto_iff"><span class="id" title="lemma">bindings_mapsto_iff</span></a>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a>.<br/>
<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#findA_NoDupA"><span class="id" title="lemma">findA_NoDupA</span></a>; <span class="id" title="var">dintuition</span> <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.bindings_3w"><span class="id" title="lemma">bindings_3w</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.bindings_b" class="idref" href="#Properties.bindings_b"><span class="id" title="lemma">bindings_b</span></a> : <span class="id" title="keyword">∀</span> <a id="m:402" class="idref" href="#m:402"><span class="id" title="binder">m</span></a> <a id="x:403" class="idref" href="#x:403"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;<a class="idref" href="MMaps.Facts.html#M.mem"><span class="id" title="axiom">mem</span></a> <a class="idref" href="MMaps.Facts.html#x:403"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:402"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#existsb"><span class="id" title="definition">existsb</span></a> (<span class="id" title="keyword">fun</span> <a id="p:404" class="idref" href="#p:404"><span class="id" title="binder">p</span></a> ⇒ <a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> <a class="idref" href="MMaps.Facts.html#x:403"><span class="id" title="variable">x</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MMaps.Facts.html#p:404"><span class="id" title="variable">p</span></a>)) (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#m:402"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Utils.html#eq_bool_alt"><span class="id" title="lemma">eq_bool_alt</span></a>.<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#M.mem_spec"><span class="id" title="axiom">mem_spec</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.bindings_in_iff"><span class="id" title="lemma">bindings_in_iff</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#existsb_exists"><span class="id" title="lemma">existsb_exists</span></a>.<br/>
<span class="id" title="tactic">split</span>.<br/>
- <span class="id" title="tactic">intros</span> (<span class="id" title="var">e</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> ((<span class="id" title="var">k</span>,<span class="id" title="var">e'</span>),((<span class="id" title="var">H1</span>,<span class="id" title="var">H2</span>),<span class="id" title="var">H'</span>)); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">k</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a>.<br/>
- <span class="id" title="tactic">intros</span> ((<span class="id" title="var">k</span>,<span class="id" title="var">e</span>),(<span class="id" title="var">H</span>,<span class="id" title="var">H'</span>)); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a>. <span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">k</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MMaps.Facts.html#Properties.BoolSpec"><span class="id" title="section">BoolSpec</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="Properties.Equalities" class="idref" href="#Properties.Equalities"><span class="id" title="section">Equalities</span></a>.<br/>
<span class="id" title="keyword">Variable</span> <a id="Properties.Equalities.elt" class="idref" href="#Properties.Equalities.elt"><span class="id" title="variable">elt</span></a>:<span class="id" title="keyword">Type</span>.<br/>

<br/>
</div>

<div class="doc">
A few basic equalities 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.singleton_add" class="idref" href="#Properties.singleton_add"><span class="id" title="lemma">singleton_add</span></a> <a id="x:407" class="idref" href="#x:407"><span class="id" title="binder">x</span></a> (<a id="e:408" class="idref" href="#e:408"><span class="id" title="binder">e</span></a>:<a class="idref" href="MMaps.Facts.html#Properties.Equalities.elt"><span class="id" title="variable">elt</span></a>) : <a class="idref" href="MMaps.Facts.html#M.singleton"><span class="id" title="axiom">singleton</span></a> <a class="idref" href="MMaps.Facts.html#x:407"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:408"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#x:407"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:408"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#M.empty"><span class="id" title="axiom">empty</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.singleton_o"><span class="id" title="lemma">singleton_o</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.add_o"><span class="id" title="lemma">add_o</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.empty_o"><span class="id" title="lemma">empty_o</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Properties.singleton_m" class="idref" href="#Properties.singleton_m"><span class="id" title="instance">singleton_m</span></a> :<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a>) (@<a class="idref" href="MMaps.Facts.html#M.singleton"><span class="id" title="axiom">singleton</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Equalities.elt"><span class="id" title="variable">elt</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">Hx</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span> &lt;-. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#Properties.singleton_add"><span class="id" title="lemma">singleton_add</span></a>. <span class="id" title="var">now</span> <span class="id" title="var">f_equiv</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.eq_empty" class="idref" href="#Properties.eq_empty"><span class="id" title="lemma">eq_empty</span></a> (<a id="m:409" class="idref" href="#m:409"><span class="id" title="binder">m</span></a>: <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Equalities.elt"><span class="id" title="variable">elt</span></a>) : <a class="idref" href="MMaps.Facts.html#m:409"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.Facts.html#M.empty"><span class="id" title="axiom">empty</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.is_empty"><span class="id" title="axiom">is_empty</span></a> <a class="idref" href="MMaps.Facts.html#m:409"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#M.is_empty_spec"><span class="id" title="axiom">is_empty_spec</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MMaps.Facts.html#M.empty_spec"><span class="id" title="axiom">empty_spec</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.add_id" class="idref" href="#Properties.add_id"><span class="id" title="lemma">add_id</span></a> (<a id="m:410" class="idref" href="#m:410"><span class="id" title="binder">m</span></a>: <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Equalities.elt"><span class="id" title="variable">elt</span></a>) <a id="x:411" class="idref" href="#x:411"><span class="id" title="binder">x</span></a> <a id="e:412" class="idref" href="#e:412"><span class="id" title="binder">e</span></a> : <a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#x:411"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:412"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:410"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.Facts.html#m:410"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:411"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:410"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MMaps.Facts.html#e:412"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">H</span> <span class="id" title="var">x</span>). <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.add_spec1"><span class="id" title="axiom">add_spec1</span></a>.<br/>
&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#Properties.add_o"><span class="id" title="lemma">add_o</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <a class="idref" href="MMaps.Facts.html#K.eq_dec"><span class="id" title="axiom">K.eq_dec</span></a> <span class="id" title="keyword">as</span> [&lt;-|<span class="id" title="var">E</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.add_add_1" class="idref" href="#Properties.add_add_1"><span class="id" title="lemma">add_add_1</span></a> (<a id="m:413" class="idref" href="#m:413"><span class="id" title="binder">m</span></a>: <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Equalities.elt"><span class="id" title="variable">elt</span></a>) <a id="x:414" class="idref" href="#x:414"><span class="id" title="binder">x</span></a> <a id="e:415" class="idref" href="#e:415"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#x:414"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:415"><span class="id" title="variable">e</span></a> (<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#x:414"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:415"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:413"><span class="id" title="variable">m</span></a>) <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#x:414"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:415"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:413"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#Properties.add_o"><span class="id" title="lemma">add_o</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="MMaps.Facts.html#K.eq_dec"><span class="id" title="axiom">K.eq_dec</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.add_add_2" class="idref" href="#Properties.add_add_2"><span class="id" title="lemma">add_add_2</span></a> (<a id="m:416" class="idref" href="#m:416"><span class="id" title="binder">m</span></a>: <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Equalities.elt"><span class="id" title="variable">elt</span></a>) <a id="x:417" class="idref" href="#x:417"><span class="id" title="binder">x</span></a> <a id="x':418" class="idref" href="#x':418"><span class="id" title="binder">x'</span></a> <a id="e:419" class="idref" href="#e:419"><span class="id" title="binder">e</span></a> <a id="e':420" class="idref" href="#e':420"><span class="id" title="binder">e'</span></a> :<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:417"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#x':418"><span class="id" title="variable">x'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#x:417"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:419"><span class="id" title="variable">e</span></a> (<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#x':418"><span class="id" title="variable">x'</span></a> <a class="idref" href="MMaps.Facts.html#e':420"><span class="id" title="variable">e'</span></a> <a class="idref" href="MMaps.Facts.html#m:416"><span class="id" title="variable">m</span></a>) <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#x':418"><span class="id" title="variable">x'</span></a> <a class="idref" href="MMaps.Facts.html#e':420"><span class="id" title="variable">e'</span></a> (<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#x:417"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:419"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:416"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#Properties.add_o"><span class="id" title="lemma">add_o</span></a>.<br/>
&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">destruct</span> <a class="idref" href="MMaps.Facts.html#K.eq_dec"><span class="id" title="axiom">K.eq_dec</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;<span class="id" title="tactic">elim</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">transitivity</span> <span class="id" title="var">y</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.remove_id" class="idref" href="#Properties.remove_id"><span class="id" title="lemma">remove_id</span></a> (<a id="m:421" class="idref" href="#m:421"><span class="id" title="binder">m</span></a>: <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Equalities.elt"><span class="id" title="variable">elt</span></a>) <a id="x:422" class="idref" href="#x:422"><span class="id" title="binder">x</span></a> : <a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <a class="idref" href="MMaps.Facts.html#x:422"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:421"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.Facts.html#m:421"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:422"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:421"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.not_in_find"><span class="id" title="lemma">not_in_find</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">H</span> <span class="id" title="var">x</span>). <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.remove_spec1"><span class="id" title="axiom">remove_spec1</span></a>.<br/>
&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#Properties.remove_o"><span class="id" title="lemma">remove_o</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <a class="idref" href="MMaps.Facts.html#K.eq_dec"><span class="id" title="axiom">K.eq_dec</span></a> <span class="id" title="keyword">as</span> [&lt;-|<span class="id" title="var">E</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.remove_remove_1" class="idref" href="#Properties.remove_remove_1"><span class="id" title="lemma">remove_remove_1</span></a> (<a id="m:423" class="idref" href="#m:423"><span class="id" title="binder">m</span></a>: <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Equalities.elt"><span class="id" title="variable">elt</span></a>) <a id="x:424" class="idref" href="#x:424"><span class="id" title="binder">x</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <a class="idref" href="MMaps.Facts.html#x:424"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <a class="idref" href="MMaps.Facts.html#x:424"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:423"><span class="id" title="variable">m</span></a>) <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <a class="idref" href="MMaps.Facts.html#x:424"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:423"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#Properties.remove_o"><span class="id" title="lemma">remove_o</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="MMaps.Facts.html#K.eq_dec"><span class="id" title="axiom">K.eq_dec</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.remove_remove_2" class="idref" href="#Properties.remove_remove_2"><span class="id" title="lemma">remove_remove_2</span></a> (<a id="m:425" class="idref" href="#m:425"><span class="id" title="binder">m</span></a>: <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Equalities.elt"><span class="id" title="variable">elt</span></a>) <a id="x:426" class="idref" href="#x:426"><span class="id" title="binder">x</span></a> <a id="x':427" class="idref" href="#x':427"><span class="id" title="binder">x'</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <a class="idref" href="MMaps.Facts.html#x:426"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <a class="idref" href="MMaps.Facts.html#x':427"><span class="id" title="variable">x'</span></a> <a class="idref" href="MMaps.Facts.html#m:425"><span class="id" title="variable">m</span></a>) <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <a class="idref" href="MMaps.Facts.html#x':427"><span class="id" title="variable">x'</span></a> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <a class="idref" href="MMaps.Facts.html#x:426"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:425"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#Properties.remove_o"><span class="id" title="lemma">remove_o</span></a>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">destruct</span> <a class="idref" href="MMaps.Facts.html#K.eq_dec"><span class="id" title="axiom">K.eq_dec</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.remove_add_1" class="idref" href="#Properties.remove_add_1"><span class="id" title="lemma">remove_add_1</span></a> (<a id="m:428" class="idref" href="#m:428"><span class="id" title="binder">m</span></a>: <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Equalities.elt"><span class="id" title="variable">elt</span></a>) <a id="x:429" class="idref" href="#x:429"><span class="id" title="binder">x</span></a> <a id="e:430" class="idref" href="#e:430"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <a class="idref" href="MMaps.Facts.html#x:429"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#x:429"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:430"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:428"><span class="id" title="variable">m</span></a>) <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <a class="idref" href="MMaps.Facts.html#x:429"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:428"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#Properties.remove_o"><span class="id" title="lemma">remove_o</span></a>, !<a class="idref" href="MMaps.Facts.html#Properties.add_o"><span class="id" title="lemma">add_o</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <a class="idref" href="MMaps.Facts.html#K.eq_dec"><span class="id" title="axiom">K.eq_dec</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.remove_add_2" class="idref" href="#Properties.remove_add_2"><span class="id" title="lemma">remove_add_2</span></a> (<a id="m:431" class="idref" href="#m:431"><span class="id" title="binder">m</span></a>: <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Equalities.elt"><span class="id" title="variable">elt</span></a>) <a id="x:432" class="idref" href="#x:432"><span class="id" title="binder">x</span></a> <a id="x':433" class="idref" href="#x':433"><span class="id" title="binder">x'</span></a> <a id="e:434" class="idref" href="#e:434"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:432"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#x':433"><span class="id" title="variable">x'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <a class="idref" href="MMaps.Facts.html#x':433"><span class="id" title="variable">x'</span></a> (<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#x:432"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:434"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:431"><span class="id" title="variable">m</span></a>) <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#x:432"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:434"><span class="id" title="variable">e</span></a> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <a class="idref" href="MMaps.Facts.html#x':433"><span class="id" title="variable">x'</span></a> <a class="idref" href="MMaps.Facts.html#m:431"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#Properties.remove_o"><span class="id" title="lemma">remove_o</span></a>, !<a class="idref" href="MMaps.Facts.html#Properties.add_o"><span class="id" title="lemma">add_o</span></a>.<br/>
&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">destruct</span> <a class="idref" href="MMaps.Facts.html#K.eq_dec"><span class="id" title="axiom">K.eq_dec</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;- <span class="id" title="tactic">elim</span> <span class="id" title="var">H</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">transitivity</span> <span class="id" title="var">y</span>.<br/>
&nbsp;- <span class="id" title="tactic">symmetry</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.remove_eq_o"><span class="id" title="lemma">remove_eq_o</span></a>.<br/>
&nbsp;- <span class="id" title="tactic">symmetry</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.remove_neq_o"><span class="id" title="lemma">remove_neq_o</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.add_remove_1" class="idref" href="#Properties.add_remove_1"><span class="id" title="lemma">add_remove_1</span></a> (<a id="m:435" class="idref" href="#m:435"><span class="id" title="binder">m</span></a>: <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Equalities.elt"><span class="id" title="variable">elt</span></a>) <a id="x:436" class="idref" href="#x:436"><span class="id" title="binder">x</span></a> <a id="e:437" class="idref" href="#e:437"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#x:436"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:437"><span class="id" title="variable">e</span></a> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <a class="idref" href="MMaps.Facts.html#x:436"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:435"><span class="id" title="variable">m</span></a>) <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#x:436"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:437"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:435"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#Properties.add_o"><span class="id" title="lemma">add_o</span></a>, !<a class="idref" href="MMaps.Facts.html#Properties.remove_o"><span class="id" title="lemma">remove_o</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <a class="idref" href="MMaps.Facts.html#K.eq_dec"><span class="id" title="axiom">K.eq_dec</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Another characterisation of <span class="inlinecode"><a class="idref" href="MMaps.GenTree.html#Props.Equal"><span class="id" title="definition">Equal</span></a></span> 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.Equal_mapsto_iff" class="idref" href="#Properties.Equal_mapsto_iff"><span class="id" title="lemma">Equal_mapsto_iff</span></a> : <span class="id" title="keyword">∀</span> <a id="m1:438" class="idref" href="#m1:438"><span class="id" title="binder">m1</span></a> <a id="m2:439" class="idref" href="#m2:439"><span class="id" title="binder">m2</span></a> : <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Equalities.elt"><span class="id" title="variable">elt</span></a>,<br/>
&nbsp;<a class="idref" href="MMaps.Facts.html#m1:438"><span class="id" title="variable">m1</span></a> <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.Facts.html#m2:439"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="k:440" class="idref" href="#k:440"><span class="id" title="binder">k</span></a> <a id="e:441" class="idref" href="#e:441"><span class="id" title="binder">e</span></a>, <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#k:440"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:441"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m1:438"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#k:440"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:441"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m2:439"><span class="id" title="variable">m2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">intros</span> <span class="id" title="var">Heq</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span>|<span class="id" title="tactic">intros</span> <span class="id" title="var">Hiff</span>].<br/>
<span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="MMaps.Facts.html#Properties.find_mapsto_iff"><span class="id" title="lemma">find_mapsto_iff</span></a>, <span class="id" title="var">Heq</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Utils.html#eq_option_alt"><span class="id" title="lemma">eq_option_alt</span></a>. <span class="id" title="tactic">intro</span> <span class="id" title="var">e</span>.<br/>
<span class="id" title="tactic">rewrite</span> &lt;- 2 <a class="idref" href="MMaps.Facts.html#Properties.find_mapsto_iff"><span class="id" title="lemma">find_mapsto_iff</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab16"></a><h3 class="section">Relations between Equal, Eqdom, Equiv and Equivb</h3>

<div class="paragraph"> </div>

 First, <span class="inlinecode"><a class="idref" href="MMaps.GenTree.html#Props.Equal"><span class="id" title="definition">Equal</span></a></span> is <span class="inlinecode"><a class="idref" href="MMaps.GenTree.html#Props.Equiv"><span class="id" title="definition">Equiv</span></a></span> with Leibniz on elements. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.Equal_Equiv" class="idref" href="#Properties.Equal_Equiv"><span class="id" title="lemma">Equal_Equiv</span></a> (<a id="m:442" class="idref" href="#m:442"><span class="id" title="binder">m</span></a> <a id="m':443" class="idref" href="#m':443"><span class="id" title="binder">m'</span></a> : <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Equalities.elt"><span class="id" title="variable">elt</span></a>) : <a class="idref" href="MMaps.Facts.html#m:442"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.Facts.html#m':443"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.Equiv"><span class="id" title="definition">Equiv</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a> <a class="idref" href="MMaps.Facts.html#m:442"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':443"><span class="id" title="variable">m'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.Equal_mapsto_iff"><span class="id" title="lemma">Equal_mapsto_iff</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> (<span class="id" title="var">e</span>,<span class="id" title="var">Hin</span>); <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>; [<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>|<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.mapsto_fun"><span class="id" title="lemma">mapsto_fun</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">m</span> <span class="id" title="var">k</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
- <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hin</span> : <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <span class="id" title="var">k</span> <span class="id" title="var">m'</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>; <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e'</span>,<span class="id" title="var">He'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">H0</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hin</span> : <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <span class="id" title="var">k</span> <span class="id" title="var">m</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e'</span>,<span class="id" title="var">He'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">H0</span> <span class="id" title="var">k</span> <span class="id" title="var">e'</span> <span class="id" title="var">e</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="MMaps.GenTree.html#Props.Eqdom"><span class="id" title="definition">Eqdom</span></a></span> is <span class="inlinecode"><a class="idref" href="MMaps.GenTree.html#Props.Equiv"><span class="id" title="definition">Equiv</span></a></span> with a trivial relation on elements. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.Eqdom_Equiv" class="idref" href="#Properties.Eqdom_Equiv"><span class="id" title="lemma">Eqdom_Equiv</span></a> (<a id="m:444" class="idref" href="#m:444"><span class="id" title="binder">m</span></a> <a id="m':445" class="idref" href="#m':445"><span class="id" title="binder">m'</span></a> : <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Equalities.elt"><span class="id" title="variable">elt</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.Eqdom"><span class="id" title="definition">Eqdom</span></a> <a class="idref" href="MMaps.Facts.html#m:444"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':445"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.Equiv"><span class="id" title="definition">Equiv</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>) <a class="idref" href="MMaps.Facts.html#m:444"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':445"><span class="id" title="variable">m'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#M.Equiv"><span class="id" title="definition">Equiv</span></a>. <span class="id" title="tactic">firstorder</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="MMaps.GenTree.html#Props.Equivb"><span class="id" title="definition">Equivb</span></a></span> and <span class="inlinecode"><a class="idref" href="MMaps.GenTree.html#Props.Equiv"><span class="id" title="definition">Equiv</span></a></span> and equivalent when <span class="inlinecode"><a class="idref" href="MMaps.Facts.html#Properties.Equalities.Cmp.eq_elt"><span class="id" title="variable">eq_elt</span></a></span> and <span class="inlinecode"><a class="idref" href="MMaps.GenTree.html#Props.Elt.cmp"><span class="id" title="variable">cmp</span></a></span>
    are related. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="Properties.Equalities.Cmp" class="idref" href="#Properties.Equalities.Cmp"><span class="id" title="section">Cmp</span></a>.<br/>
<span class="id" title="keyword">Variable</span> <a id="Properties.Equalities.Cmp.eq_elt" class="idref" href="#Properties.Equalities.Cmp.eq_elt"><span class="id" title="variable">eq_elt</span></a> : <a class="idref" href="MMaps.Facts.html#Properties.Equalities.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#Properties.Equalities.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><span class="id" title="keyword">Prop</span>.<br/>
<span class="id" title="keyword">Variable</span> <a id="Properties.Equalities.Cmp.cmp" class="idref" href="#Properties.Equalities.Cmp.cmp"><span class="id" title="variable">cmp</span></a> : <a class="idref" href="MMaps.Facts.html#Properties.Equalities.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#Properties.Equalities.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Properties.compat_cmp" class="idref" href="#Properties.compat_cmp"><span class="id" title="definition">compat_cmp</span></a> :=<br/>
&nbsp;<span class="id" title="keyword">∀</span> <a id="e:450" class="idref" href="#e:450"><span class="id" title="binder">e</span></a> <a id="e':451" class="idref" href="#e':451"><span class="id" title="binder">e'</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.Equalities.Cmp.cmp"><span class="id" title="variable">cmp</span></a> <a class="idref" href="MMaps.Facts.html#e:450"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#e':451"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Equalities.Cmp.eq_elt"><span class="id" title="variable">eq_elt</span></a> <a class="idref" href="MMaps.Facts.html#e:450"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#e':451"><span class="id" title="variable">e'</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.Equiv_Equivb" class="idref" href="#Properties.Equiv_Equivb"><span class="id" title="lemma">Equiv_Equivb</span></a> : <a class="idref" href="MMaps.Facts.html#Properties.compat_cmp"><span class="id" title="definition">compat_cmp</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;<span class="id" title="keyword">∀</span> <a id="m:452" class="idref" href="#m:452"><span class="id" title="binder">m</span></a> <a id="m':453" class="idref" href="#m':453"><span class="id" title="binder">m'</span></a>, <a class="idref" href="MMaps.Facts.html#M.Equiv"><span class="id" title="definition">Equiv</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Equalities.Cmp.eq_elt"><span class="id" title="variable">eq_elt</span></a> <a class="idref" href="MMaps.Facts.html#m:452"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':453"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.Equivb"><span class="id" title="definition">Equivb</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Equalities.Cmp.cmp"><span class="id" title="variable">cmp</span></a> <a class="idref" href="MMaps.Facts.html#m:452"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':453"><span class="id" title="variable">m'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#M.Equivb"><span class="id" title="definition">Equivb</span></a>, <a class="idref" href="MMaps.Facts.html#M.Equiv"><span class="id" title="definition">Equiv</span></a>, <a class="idref" href="MMaps.Interface.html#Cmp"><span class="id" title="definition">Cmp</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">rewrite</span> &lt;-<span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MMaps.Facts.html#Properties.Equalities.Cmp"><span class="id" title="section">Cmp</span></a>.<br/>

<br/>
</div>

<div class="doc">
If <span class="inlinecode"><a class="idref" href="MMaps.RBTproofs.html#BalanceProps.Elt.elt"><span class="id" title="variable">elt</span></a></span> admits a boolean equality <span class="inlinecode"><a class="idref" href="MMaps.GenTree.html#Props.Elt.eqb"><span class="id" title="variable">eqb</span></a></span>, then
    <span class="inlinecode"><a class="idref" href="MMaps.GenTree.html#Props.Equal"><span class="id" title="definition">Equal</span></a></span> is decidable by <span class="inlinecode"><a class="idref" href="MMaps.GenTree.html#Ops.equal"><span class="id" title="definition">equal</span></a></span> <span class="inlinecode"><a class="idref" href="MMaps.GenTree.html#Props.Elt.eqb"><span class="id" title="variable">eqb</span></a></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.Equal_Equivb" class="idref" href="#Properties.Equal_Equivb"><span class="id" title="lemma">Equal_Equivb</span></a> : <span class="id" title="keyword">∀</span> <a id="eqb:454" class="idref" href="#eqb:454"><span class="id" title="binder">eqb</span></a>,<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e:455" class="idref" href="#e:455"><span class="id" title="binder">e</span></a> <a id="e':456" class="idref" href="#e':456"><span class="id" title="binder">e'</span></a>, <a class="idref" href="MMaps.Facts.html#eqb:454"><span class="id" title="variable">eqb</span></a> <a class="idref" href="MMaps.Facts.html#e:455"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#e':456"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#e:455"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.Facts.html#e':456"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;<span class="id" title="keyword">∀</span> (<a id="m:457" class="idref" href="#m:457"><span class="id" title="binder">m</span></a> <a id="m':458" class="idref" href="#m':458"><span class="id" title="binder">m'</span></a>:<a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Equalities.elt"><span class="id" title="variable">elt</span></a>), <a class="idref" href="MMaps.Facts.html#m:457"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.Facts.html#m':458"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.Equivb"><span class="id" title="definition">Equivb</span></a> <a class="idref" href="MMaps.Facts.html#eqb:454"><span class="id" title="variable">eqb</span></a> <a class="idref" href="MMaps.Facts.html#m:457"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':458"><span class="id" title="variable">m'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.Equal_Equiv"><span class="id" title="lemma">Equal_Equiv</span></a>.<br/>
&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.Equiv_Equivb"><span class="id" title="lemma">Equiv_Equivb</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.Equal_equal" class="idref" href="#Properties.Equal_equal"><span class="id" title="lemma">Equal_equal</span></a> : <span class="id" title="keyword">∀</span> <a id="eqb:459" class="idref" href="#eqb:459"><span class="id" title="binder">eqb</span></a>,<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e:460" class="idref" href="#e:460"><span class="id" title="binder">e</span></a> <a id="e':461" class="idref" href="#e':461"><span class="id" title="binder">e'</span></a>, <a class="idref" href="MMaps.Facts.html#eqb:459"><span class="id" title="variable">eqb</span></a> <a class="idref" href="MMaps.Facts.html#e:460"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#e':461"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#e:460"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.Facts.html#e':461"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;<span class="id" title="keyword">∀</span> (<a id="m:462" class="idref" href="#m:462"><span class="id" title="binder">m</span></a> <a id="m':463" class="idref" href="#m':463"><span class="id" title="binder">m'</span></a>:<a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Equalities.elt"><span class="id" title="variable">elt</span></a>), <a class="idref" href="MMaps.Facts.html#m:462"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.Facts.html#m':463"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.equal"><span class="id" title="axiom">equal</span></a> <a class="idref" href="MMaps.Facts.html#eqb:459"><span class="id" title="variable">eqb</span></a> <a class="idref" href="MMaps.Facts.html#m:462"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':463"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#M.equal_spec"><span class="id" title="axiom">equal_spec</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.Equal_Equivb"><span class="id" title="lemma">Equal_Equivb</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="MMaps.GenTree.html#Props.Eqdom"><span class="id" title="definition">Eqdom</span></a></span> is decidable by <span class="inlinecode"><a class="idref" href="MMaps.GenTree.html#Ops.equal"><span class="id" title="definition">equal</span></a></span> <span class="inlinecode">(<span class="id" title="keyword">fun</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode">⇒</span> <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>)</span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.Eqdom_equal" class="idref" href="#Properties.Eqdom_equal"><span class="id" title="lemma">Eqdom_equal</span></a> (<a id="m:464" class="idref" href="#m:464"><span class="id" title="binder">m</span></a> <a id="m':465" class="idref" href="#m':465"><span class="id" title="binder">m'</span></a> : <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Equalities.elt"><span class="id" title="variable">elt</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.Eqdom"><span class="id" title="definition">Eqdom</span></a> <a class="idref" href="MMaps.Facts.html#m:464"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':465"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.equal"><span class="id" title="axiom">equal</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="MMaps.Facts.html#m:464"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':465"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#M.equal_spec"><span class="id" title="axiom">equal_spec</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#M.Equivb"><span class="id" title="definition">Equivb</span></a>, <a class="idref" href="MMaps.Interface.html#Cmp"><span class="id" title="definition">Cmp</span></a>, <a class="idref" href="MMaps.Facts.html#M.Equiv"><span class="id" title="definition">Equiv</span></a>. <span class="id" title="tactic">firstorder</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MMaps.Facts.html#Properties.Equalities"><span class="id" title="section">Equalities</span></a>.<br/>

<br/>
</div>

<div class="doc">
Results about fold, bindings, and induction principles 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="Properties.Elt" class="idref" href="#Properties.Elt"><span class="id" title="section">Elt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="Properties.Elt.elt" class="idref" href="#Properties.Elt.elt"><span class="id" title="variable">elt</span></a>:<span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">m</span> : <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">e</span> : <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Properties.Add" class="idref" href="#Properties.Add"><span class="id" title="definition">Add</span></a> <a id="x:468" class="idref" href="#x:468"><span class="id" title="binder">x</span></a> <a id="e:469" class="idref" href="#e:469"><span class="id" title="binder">e</span></a> <a id="m:470" class="idref" href="#m:470"><span class="id" title="binder">m</span></a> <a id="m':471" class="idref" href="#m':471"><span class="id" title="binder">m'</span></a> := <a class="idref" href="MMaps.Facts.html#m':471"><span class="id" title="variable">m'</span></a> <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#x:468"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:469"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:470"><span class="id" title="variable">m</span></a><a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.Add_add" class="idref" href="#Properties.Add_add"><span class="id" title="lemma">Add_add</span></a> <a id="x:472" class="idref" href="#x:472"><span class="id" title="binder">x</span></a> <a id="e:473" class="idref" href="#e:473"><span class="id" title="binder">e</span></a> <a id="m:474" class="idref" href="#m:474"><span class="id" title="binder">m</span></a> : <a class="idref" href="MMaps.Facts.html#Properties.Add"><span class="id" title="definition">Add</span></a> <a class="idref" href="MMaps.Facts.html#x:472"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:473"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:474"><span class="id" title="variable">m</span></a> (<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#x:472"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:473"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:474"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="Properties.eqke" class="idref" href="#Properties.eqke"><span class="id" title="abbreviation">eqke</span></a> := (@<a class="idref" href="MMaps.Facts.html#Properties.eq_key_elt"><span class="id" title="definition">eq_key_elt</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="Properties.eqk" class="idref" href="#Properties.eqk"><span class="id" title="abbreviation">eqk</span></a> := (@<a class="idref" href="MMaps.Facts.html#Properties.eq_key"><span class="id" title="definition">eq_key</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a>).<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Properties.eqk_equiv" class="idref" href="#Properties.eqk_equiv"><span class="id" title="instance">eqk_equiv</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eqk"><span class="id" title="abbreviation">eqk</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.eq_key"><span class="id" title="definition">eq_key</span></a>, <a class="idref" href="MMaps.Interface.html#Fst"><span class="id" title="definition">Fst</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="MMaps.Facts.html#K.eq_equiv"><span class="id" title="axiom">K.eq_equiv</span></a>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Properties.eqke_equiv" class="idref" href="#Properties.eqke_equiv"><span class="id" title="instance">eqke_equiv</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eqke"><span class="id" title="abbreviation">eqke</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.eq_key_elt"><span class="id" title="definition">eq_key_elt</span></a>, <a class="idref" href="MMaps.Interface.html#Duo"><span class="id" title="definition">Duo</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Complements about InA, NoDupA and findA 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.InA_eqke_eqk" class="idref" href="#Properties.InA_eqke_eqk"><span class="id" title="lemma">InA_eqke_eqk</span></a> <a id="k:475" class="idref" href="#k:475"><span class="id" title="binder">k</span></a> <a id="k':476" class="idref" href="#k':476"><span class="id" title="binder">k'</span></a> <a id="e:477" class="idref" href="#e:477"><span class="id" title="binder">e</span></a> <a id="e':478" class="idref" href="#e':478"><span class="id" title="binder">e'</span></a> <a id="l:479" class="idref" href="#l:479"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#k:475"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#k':476"><span class="id" title="variable">k'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eqke"><span class="id" title="abbreviation">eqke</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#k:475"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.Facts.html#e:477"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MMaps.Facts.html#l:479"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eqk"><span class="id" title="abbreviation">eqk</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#k':476"><span class="id" title="variable">k'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.Facts.html#e':478"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MMaps.Facts.html#l:479"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hk</span>. <span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ((<span class="id" title="var">k''</span>,<span class="id" title="var">e''</span>) &amp; (<span class="id" title="var">Hk''</span>,<span class="id" title="var">He''</span>) &amp; <span class="id" title="var">H</span>); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span> <span class="id" title="var">e''</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">k''</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">compute</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">transitivity</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.InA_eqk_eqke" class="idref" href="#Properties.InA_eqk_eqke"><span class="id" title="lemma">InA_eqk_eqke</span></a> <a id="k:480" class="idref" href="#k:480"><span class="id" title="binder">k</span></a> <a id="e:481" class="idref" href="#e:481"><span class="id" title="binder">e</span></a> <a id="l:482" class="idref" href="#l:482"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eqk"><span class="id" title="abbreviation">eqk</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#k:480"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.Facts.html#e:481"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MMaps.Facts.html#l:482"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="e':483" class="idref" href="#e':483"><span class="id" title="binder">e'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eqke"><span class="id" title="abbreviation">eqke</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#k:480"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.Facts.html#e':483"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MMaps.Facts.html#l:482"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a>. <span class="id" title="tactic">intros</span> ((<span class="id" title="var">k'</span>,<span class="id" title="var">e'</span>) &amp; <span class="id" title="var">E</span> &amp; <span class="id" title="var">IN</span>). <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e'</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a>. <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.NoDupA_incl" class="idref" href="#Properties.NoDupA_incl"><span class="id" title="lemma">NoDupA_incl</span></a> {<a id="A:484" class="idref" href="#A:484"><span class="id" title="binder">A</span></a>} (<a id="R:485" class="idref" href="#R:485"><span class="id" title="binder">R</span></a> <a id="R':486" class="idref" href="#R':486"><span class="id" title="binder">R'</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="MMaps.Facts.html#A:484"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:487" class="idref" href="#x:487"><span class="id" title="binder">x</span></a> <a id="y:488" class="idref" href="#y:488"><span class="id" title="binder">y</span></a>, <a class="idref" href="MMaps.Facts.html#R:485"><span class="id" title="variable">R</span></a> <a class="idref" href="MMaps.Facts.html#x:487"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:488"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#R':486"><span class="id" title="variable">R'</span></a> <a class="idref" href="MMaps.Facts.html#x:487"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:488"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="l:489" class="idref" href="#l:489"><span class="id" title="binder">l</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#NoDupA"><span class="id" title="inductive">NoDupA</span></a> <a class="idref" href="MMaps.Facts.html#R':486"><span class="id" title="variable">R'</span></a> <a class="idref" href="MMaps.Facts.html#l:489"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#NoDupA"><span class="id" title="inductive">NoDupA</span></a> <a class="idref" href="MMaps.Facts.html#R:485"><span class="id" title="variable">R</span></a> <a class="idref" href="MMaps.Facts.html#l:489"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Incl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1 <span class="id" title="keyword">as</span> [ | <span class="id" title="var">a</span> <span class="id" title="var">l</span> <span class="id" title="var">E</span> <span class="id" title="var">_</span> <span class="id" title="var">IH</span> ]; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">E</span>. <span class="id" title="var">revert</span> <span class="id" title="var">E</span>. <span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a>. <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.NoDupA_eqk_eqke" class="idref" href="#Properties.NoDupA_eqk_eqke"><span class="id" title="lemma">NoDupA_eqk_eqke</span></a> <a id="l:490" class="idref" href="#l:490"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#NoDupA"><span class="id" title="inductive">NoDupA</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eqk"><span class="id" title="abbreviation">eqk</span></a> <a class="idref" href="MMaps.Facts.html#l:490"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#NoDupA"><span class="id" title="inductive">NoDupA</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eqke"><span class="id" title="abbreviation">eqke</span></a> <a class="idref" href="MMaps.Facts.html#l:490"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.NoDupA_incl"><span class="id" title="lemma">NoDupA_incl</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.findA_rev" class="idref" href="#Properties.findA_rev"><span class="id" title="lemma">findA_rev</span></a> <a id="l:491" class="idref" href="#l:491"><span class="id" title="binder">l</span></a> <a id="k:492" class="idref" href="#k:492"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#NoDupA"><span class="id" title="inductive">NoDupA</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eqk"><span class="id" title="abbreviation">eqk</span></a> <a class="idref" href="MMaps.Facts.html#l:491"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#findA"><span class="id" title="definition">findA</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> <a class="idref" href="MMaps.Facts.html#k:492"><span class="id" title="variable">k</span></a>) <a class="idref" href="MMaps.Facts.html#l:491"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#findA"><span class="id" title="definition">findA</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> <a class="idref" href="MMaps.Facts.html#k:492"><span class="id" title="variable">k</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> <a class="idref" href="MMaps.Facts.html#l:491"><span class="id" title="variable">l</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Utils.html#eq_option_alt"><span class="id" title="lemma">eq_option_alt</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#findA_NoDupA"><span class="id" title="lemma">findA_NoDupA</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_rev"><span class="id" title="lemma">InA_rev</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#NoDupA"><span class="id" title="inductive">NoDupA</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eqk"><span class="id" title="abbreviation">eqk</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> <span class="id" title="var">l</span>)). <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#NoDupA_rev"><span class="id" title="lemma">NoDupA_rev</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MMaps.Facts.html#Properties.eqk_equiv"><span class="id" title="instance">eqk_equiv</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab17"></a><h3 class="section">Bindings</h3>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.in_bindings_iff" class="idref" href="#Properties.in_bindings_iff"><span class="id" title="lemma">in_bindings_iff</span></a> <a id="m:493" class="idref" href="#m:493"><span class="id" title="binder">m</span></a> <a id="x:494" class="idref" href="#x:494"><span class="id" title="binder">x</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:494"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:493"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="e:495" class="idref" href="#e:495"><span class="id" title="binder">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eqk"><span class="id" title="abbreviation">eqk</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#x:494"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.Facts.html#e:495"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#m:493"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.bindings_in_iff"><span class="id" title="lemma">bindings_in_iff</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> (<span class="id" title="var">e</span>,<span class="id" title="var">H</span>). <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.InA_eqke_eqk"><span class="id" title="lemma">InA_eqke_eqk</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">k'</span>:=<span class="id" title="var">x</span>) (<span class="id" title="var">e'</span>:=<span class="id" title="var">e</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">firstorder</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> (<span class="id" title="var">e</span>,<span class="id" title="var">H</span>). <span class="id" title="tactic">eapply</span> <a class="idref" href="MMaps.Facts.html#Properties.InA_eqk_eqke"><span class="id" title="lemma">InA_eqk_eqke</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.in_bindings_iff'" class="idref" href="#Properties.in_bindings_iff'"><span class="id" title="lemma">in_bindings_iff'</span></a> <a id="m:496" class="idref" href="#m:496"><span class="id" title="binder">m</span></a> <a id="x:497" class="idref" href="#x:497"><span class="id" title="binder">x</span></a> <a id="e:498" class="idref" href="#e:498"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:497"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:496"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eqk"><span class="id" title="abbreviation">eqk</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#x:497"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.Facts.html#e:498"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#m:496"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.in_bindings_iff"><span class="id" title="lemma">in_bindings_iff</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> (<span class="id" title="var">e'</span>,<span class="id" title="var">H</span>). <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_eqA"><span class="id" title="lemma">InA_eqA</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> ×. <span class="id" title="var">now</span> <span class="id" title="tactic">compute</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.in_fst_bindings_iff" class="idref" href="#Properties.in_fst_bindings_iff"><span class="id" title="lemma">in_fst_bindings_iff</span></a> <a id="m:499" class="idref" href="#m:499"><span class="id" title="binder">m</span></a> <a id="x:500" class="idref" href="#x:500"><span class="id" title="binder">x</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:500"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:499"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:500"><span class="id" title="variable">x</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#m:499"><span class="id" title="variable">m</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.in_bindings_iff"><span class="id" title="lemma">in_bindings_iff</span></a>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a>. <span class="id" title="tactic">firstorder</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="var">x1</span>). <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.bindings_Empty" class="idref" href="#Properties.bindings_Empty"><span class="id" title="lemma">bindings_Empty</span></a> <a id="m:501" class="idref" href="#m:501"><span class="id" title="binder">m</span></a> : <a class="idref" href="MMaps.Facts.html#Properties.Empty"><span class="id" title="definition">Empty</span></a> <a class="idref" href="MMaps.Facts.html#m:501"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#m:501"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.Empty"><span class="id" title="definition">Empty</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">H'</span> : <span class="id" title="keyword">∀</span> <a id="a:502" class="idref" href="#a:502"><span class="id" title="binder"><span id="a:503" class="id">a</span></span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="MMaps.Facts.html#a:502"><span class="id" title="variable">a</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">m</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> (<span class="id" title="var">k</span>,<span class="id" title="var">e</span>) <span class="id" title="var">H'</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">H</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.bindings_mapsto_iff"><span class="id" title="lemma">bindings_mapsto_iff</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">k</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> [|<span class="id" title="var">p</span> <span class="id" title="var">l</span>]; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">H'</span> <span class="id" title="var">p</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.bindings_mapsto_iff"><span class="id" title="lemma">bindings_mapsto_iff</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> (<span class="id" title="var">y</span>,(<span class="id" title="var">E</span>,<span class="id" title="var">H'</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.bindings_empty" class="idref" href="#Properties.bindings_empty"><span class="id" title="lemma">bindings_empty</span></a> : <a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> (@<a class="idref" href="MMaps.Facts.html#M.empty"><span class="id" title="axiom">empty</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;-<a class="idref" href="MMaps.Facts.html#Properties.bindings_Empty"><span class="id" title="lemma">bindings_Empty</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.empty_1"><span class="id" title="lemma">empty_1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab18"></a><h3 class="section">Conversions between maps and association lists</h3>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Properties.uncurry" class="idref" href="#Properties.uncurry"><span class="id" title="definition">uncurry</span></a> {<a id="U:504" class="idref" href="#U:504"><span class="id" title="binder">U</span></a> <a id="V:505" class="idref" href="#V:505"><span class="id" title="binder">V</span></a> <a id="W:506" class="idref" href="#W:506"><span class="id" title="binder">W</span></a> : <span class="id" title="keyword">Type</span>} (<a id="f:507" class="idref" href="#f:507"><span class="id" title="binder">f</span></a> : <a class="idref" href="MMaps.Facts.html#U:504"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#V:505"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#W:506"><span class="id" title="variable">W</span></a>) : <a class="idref" href="MMaps.Facts.html#U:504"><span class="id" title="variable">U</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><a class="idref" href="MMaps.Facts.html#V:505"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#W:506"><span class="id" title="variable">W</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="p:508" class="idref" href="#p:508"><span class="id" title="binder">p</span></a> ⇒ <a class="idref" href="MMaps.Facts.html#f:507"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MMaps.Facts.html#p:508"><span class="id" title="variable">p</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MMaps.Facts.html#p:508"><span class="id" title="variable">p</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Properties.of_list" class="idref" href="#Properties.of_list"><span class="id" title="definition">of_list</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">List.fold_right</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.uncurry"><span class="id" title="definition">uncurry</span></a> (@<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <span class="id" title="var">_</span>)) (@<a class="idref" href="MMaps.Facts.html#M.empty"><span class="id" title="axiom">empty</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Properties.to_list" class="idref" href="#Properties.to_list"><span class="id" title="definition">to_list</span></a> := <a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.of_list_1" class="idref" href="#Properties.of_list_1"><span class="id" title="lemma">of_list_1</span></a> <a id="l:509" class="idref" href="#l:509"><span class="id" title="binder">l</span></a> <a id="k:510" class="idref" href="#k:510"><span class="id" title="binder">k</span></a> <a id="e:511" class="idref" href="#e:511"><span class="id" title="binder">e</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#NoDupA"><span class="id" title="inductive">NoDupA</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eqk"><span class="id" title="abbreviation">eqk</span></a> <a class="idref" href="MMaps.Facts.html#l:509"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#k:510"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:511"><span class="id" title="variable">e</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.of_list"><span class="id" title="definition">of_list</span></a> <a class="idref" href="MMaps.Facts.html#l:509"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eqke"><span class="id" title="abbreviation">eqke</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#k:510"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.Facts.html#e:511"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MMaps.Facts.html#l:509"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|(<span class="id" title="var">k'</span>,<span class="id" title="var">e'</span>) <span class="id" title="var">l</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span> <span class="id" title="var">Hnodup</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.empty_mapsto_iff"><span class="id" title="lemma">empty_mapsto_iff</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_nil"><span class="id" title="lemma">InA_nil</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.uncurry"><span class="id" title="definition">uncurry</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">Hnodup</span> <span class="id" title="keyword">as</span> [| ? ? <span class="id" title="var">Hnotin</span> <span class="id" title="var">Hnodup'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span> <span class="id" title="var">Hnodup'</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">Hnodup'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.add_mapsto_iff"><span class="id" title="lemma">add_mapsto_iff</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_cons"><span class="id" title="lemma">InA_cons</span></a>, &lt;- <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.eq_key_elt"><span class="id" title="definition">eq_key_elt</span></a>, <a class="idref" href="MMaps.Interface.html#Duo"><span class="id" title="definition">Duo</span></a> <span class="id" title="tactic">at</span> 1; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">destruct</span> 1 <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span>|<span class="id" title="var">H</span>]; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">intuition</span> (<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>);<span class="id" title="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#K.eq_dec"><span class="id" title="axiom">K.eq_dec</span></a> <span class="id" title="var">k</span> <span class="id" title="var">k'</span>); [<span class="id" title="tactic">left</span>|<span class="id" title="tactic">right</span>]; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">Hnotin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.InA_eqke_eqk"><span class="id" title="lemma">InA_eqke_eqk</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.of_list_1b" class="idref" href="#Properties.of_list_1b"><span class="id" title="lemma">of_list_1b</span></a> <a id="l:512" class="idref" href="#l:512"><span class="id" title="binder">l</span></a> <a id="k:513" class="idref" href="#k:513"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#NoDupA"><span class="id" title="inductive">NoDupA</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eqk"><span class="id" title="abbreviation">eqk</span></a> <a class="idref" href="MMaps.Facts.html#l:512"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#k:513"><span class="id" title="variable">k</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.of_list"><span class="id" title="definition">of_list</span></a> <a class="idref" href="MMaps.Facts.html#l:512"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#findA"><span class="id" title="definition">findA</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> <a class="idref" href="MMaps.Facts.html#k:513"><span class="id" title="variable">k</span></a>) <a class="idref" href="MMaps.Facts.html#l:512"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|(<span class="id" title="var">k'</span>,<span class="id" title="var">e'</span>) <span class="id" title="var">l</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hnodup</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.empty_o"><span class="id" title="lemma">empty_o</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.uncurry"><span class="id" title="definition">uncurry</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">Hnodup</span> <span class="id" title="keyword">as</span> [| ? ? <span class="id" title="var">Hnotin</span> <span class="id" title="var">Hnodup'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH</span> <span class="id" title="var">Hnodup'</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">Hnodup'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.add_o"><span class="id" title="lemma">add_o</span></a>, <span class="id" title="var">IH</span>, <a class="idref" href="MMaps.Facts.html#Properties.eqb_sym"><span class="id" title="lemma">eqb_sym</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a>; <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <a class="idref" href="MMaps.Facts.html#K.eq_dec"><span class="id" title="axiom">K.eq_dec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.of_list_2" class="idref" href="#Properties.of_list_2"><span class="id" title="lemma">of_list_2</span></a> <a id="l:514" class="idref" href="#l:514"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#NoDupA"><span class="id" title="inductive">NoDupA</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eqk"><span class="id" title="abbreviation">eqk</span></a> <a class="idref" href="MMaps.Facts.html#l:514"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#equivlistA"><span class="id" title="definition">equivlistA</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eqke"><span class="id" title="abbreviation">eqke</span></a> <a class="idref" href="MMaps.Facts.html#l:514"><span class="id" title="variable">l</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.to_list"><span class="id" title="definition">to_list</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.of_list"><span class="id" title="definition">of_list</span></a> <a class="idref" href="MMaps.Facts.html#l:514"><span class="id" title="variable">l</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hnodup</span> (<span class="id" title="var">k</span>,<span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#Properties.bindings_mapsto_iff"><span class="id" title="lemma">bindings_mapsto_iff</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.of_list_1"><span class="id" title="lemma">of_list_1</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.of_list_3" class="idref" href="#Properties.of_list_3"><span class="id" title="lemma">of_list_3</span></a> <a id="s:515" class="idref" href="#s:515"><span class="id" title="binder">s</span></a> : <a class="idref" href="MMaps.Facts.html#Properties.of_list"><span class="id" title="definition">of_list</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.to_list"><span class="id" title="definition">to_list</span></a> <a class="idref" href="MMaps.Facts.html#s:515"><span class="id" title="variable">s</span></a>) <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.Facts.html#s:515"><span class="id" title="variable">s</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.of_list_1b"><span class="id" title="lemma">of_list_1b</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.bindings_o"><span class="id" title="lemma">bindings_o</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.bindings_3w"><span class="id" title="lemma">bindings_3w</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Alternative specification via <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a></span> 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.fold_spec_right" class="idref" href="#Properties.fold_spec_right"><span class="id" title="lemma">fold_spec_right</span></a> <a id="m:516" class="idref" href="#m:516"><span class="id" title="binder">m</span></a> {<a id="A:517" class="idref" href="#A:517"><span class="id" title="binder">A</span></a>}(<a id="i:518" class="idref" href="#i:518"><span class="id" title="binder">i</span></a>:<a class="idref" href="MMaps.Facts.html#A:517"><span class="id" title="variable">A</span></a>)(<a id="f:519" class="idref" href="#f:519"><span class="id" title="binder">f</span></a> : <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#A:517"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#A:517"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <a class="idref" href="MMaps.Facts.html#f:519"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:516"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#i:518"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">List.fold_right</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.uncurry"><span class="id" title="definition">uncurry</span></a> <a class="idref" href="MMaps.Facts.html#f:519"><span class="id" title="variable">f</span></a>) <a class="idref" href="MMaps.Facts.html#i:518"><span class="id" title="variable">i</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#m:516"><span class="id" title="variable">m</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.fold_1"><span class="id" title="lemma">fold_1</span></a>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#fold_left_rev_right"><span class="id" title="lemma">fold_left_rev_right</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab19"></a><h3 class="section">Induction principles about fold contributed by S. Lescuyer</h3>

<div class="paragraph"> </div>

 In the following lemma, the step hypothesis is deliberately restricted
      to the precise map m we are considering. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.fold_rec" class="idref" href="#Properties.fold_rec"><span class="id" title="lemma">fold_rec</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="A:520" class="idref" href="#A:520"><span class="id" title="binder">A</span></a>}(<a id="P:521" class="idref" href="#P:521"><span class="id" title="binder">P</span></a> : <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#A:520"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>)(<a id="f:522" class="idref" href="#f:522"><span class="id" title="binder">f</span></a> : <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#A:520"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#A:520"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="i:523" class="idref" href="#i:523"><span class="id" title="binder">i</span></a> <a id="m:524" class="idref" href="#m:524"><span class="id" title="binder">m</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="m:525" class="idref" href="#m:525"><span class="id" title="binder">m</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.Empty"><span class="id" title="definition">Empty</span></a> <a class="idref" href="MMaps.Facts.html#m:525"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#P:521"><span class="id" title="variable">P</span></a> <a class="idref" href="MMaps.Facts.html#m:525"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#i:523"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="k:526" class="idref" href="#k:526"><span class="id" title="binder">k</span></a> <a id="e:527" class="idref" href="#e:527"><span class="id" title="binder">e</span></a> <a id="a:528" class="idref" href="#a:528"><span class="id" title="binder">a</span></a> <a id="m':529" class="idref" href="#m':529"><span class="id" title="binder">m'</span></a> <a id="m'':530" class="idref" href="#m'':530"><span class="id" title="binder">m''</span></a>, <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#k:526"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:527"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:524"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#k:526"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#m':529"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#Properties.Add"><span class="id" title="definition">Add</span></a> <a class="idref" href="MMaps.Facts.html#k:526"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:527"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m':529"><span class="id" title="variable">m'</span></a> <a class="idref" href="MMaps.Facts.html#m'':530"><span class="id" title="variable">m''</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#P:521"><span class="id" title="variable">P</span></a> <a class="idref" href="MMaps.Facts.html#m':529"><span class="id" title="variable">m'</span></a> <a class="idref" href="MMaps.Facts.html#a:528"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#P:521"><span class="id" title="variable">P</span></a> <a class="idref" href="MMaps.Facts.html#m'':530"><span class="id" title="variable">m''</span></a> (<a class="idref" href="MMaps.Facts.html#f:522"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#k:526"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:527"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#a:528"><span class="id" title="variable">a</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#P:521"><span class="id" title="variable">P</span></a> <a class="idref" href="MMaps.Facts.html#m:524"><span class="id" title="variable">m</span></a> (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <a class="idref" href="MMaps.Facts.html#f:522"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:524"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#i:523"><span class="id" title="variable">i</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">P</span> <span class="id" title="var">f</span> <span class="id" title="var">i</span> <span class="id" title="var">m</span> <span class="id" title="var">Hempty</span> <span class="id" title="var">Hstep</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.fold_spec_right"><span class="id" title="lemma">fold_spec_right</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">F</span>:=<a class="idref" href="MMaps.Facts.html#Properties.uncurry"><span class="id" title="definition">uncurry</span></a> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">l</span>:=<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">m</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hstep'</span> : <span class="id" title="keyword">∀</span> <a id="k:531" class="idref" href="#k:531"><span class="id" title="binder"><span id="k:536" class="id">k</span></span></a> <a id="e:532" class="idref" href="#e:532"><span class="id" title="binder"><span id="e:537" class="id">e</span></span></a> <a id="a:533" class="idref" href="#a:533"><span class="id" title="binder"><span id="a:538" class="id">a</span></span></a> <a id="m':534" class="idref" href="#m':534"><span class="id" title="binder"><span id="m':539" class="id">m'</span></span></a> <a id="m'':535" class="idref" href="#m'':535"><span class="id" title="binder"><span id="m'':540" class="id">m''</span></span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eqke"><span class="id" title="abbreviation">eqke</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#k:531"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.Facts.html#e:532"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#k:531"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#m':534"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#Properties.Add"><span class="id" title="definition">Add</span></a> <a class="idref" href="MMaps.Facts.html#k:531"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:532"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m':534"><span class="id" title="variable">m'</span></a> <a class="idref" href="MMaps.Facts.html#m'':535"><span class="id" title="variable">m''</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">P</span> <a class="idref" href="MMaps.Facts.html#m':534"><span class="id" title="variable">m'</span></a> <a class="idref" href="MMaps.Facts.html#a:533"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">P</span> <a class="idref" href="MMaps.Facts.html#m'':535"><span class="id" title="variable">m''</span></a> (<span class="id" title="var">F</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#k:531"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.Facts.html#e:532"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MMaps.Facts.html#a:533"><span class="id" title="variable">a</span></a>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">m'</span> <span class="id" title="var">m''</span> <span class="id" title="var">H</span> ? ? ?; <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hstep</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">unfold</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_rev"><span class="id" title="lemma">InA_rev</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.bindings_mapsto_iff"><span class="id" title="lemma">bindings_mapsto_iff</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> ×. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hdup</span> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#NoDupA"><span class="id" title="inductive">NoDupA</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eqk"><span class="id" title="abbreviation">eqk</span></a> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#NoDupA_rev"><span class="id" title="lemma">NoDupA_rev</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">red</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.eq_key"><span class="id" title="definition">eq_key</span></a> ; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.bindings_3w"><span class="id" title="lemma">bindings_3w</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hsame</span> : <span class="id" title="keyword">∀</span> <a id="k:541" class="idref" href="#k:541"><span class="id" title="binder"><span id="k:542" class="id">k</span></span></a>, <a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#k:541"><span class="id" title="variable">k</span></a> <span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#findA"><span class="id" title="definition">findA</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> <a class="idref" href="MMaps.Facts.html#k:541"><span class="id" title="variable">k</span></a>) <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.bindings_o"><span class="id" title="lemma">bindings_o</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.findA_rev"><span class="id" title="lemma">findA_rev</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.bindings_3w"><span class="id" title="lemma">bindings_3w</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">l</span>. <span class="id" title="var">clearbody</span> <span class="id" title="var">F</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hstep</span> <span class="id" title="var">f</span>. <span class="id" title="var">revert</span> <span class="id" title="var">m</span> <span class="id" title="var">Hsame</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;empty&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">Hsame</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hempty</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.find_mapsto_iff"><span class="id" title="lemma">find_mapsto_iff</span></a>, <span class="id" title="var">Hsame</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;step&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">Hsame</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">k</span>,<span class="id" title="var">e</span>); <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hstep'</span> <span class="id" title="keyword">with</span> (<a class="idref" href="MMaps.Facts.html#Properties.of_list"><span class="id" title="definition">of_list</span></a> <span class="id" title="var">l</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_cons"><span class="id" title="lemma">InA_cons</span></a>; <span class="id" title="tactic">left</span>; <span class="id" title="tactic">compute</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">Hdup</span>. <span class="id" title="var">contradict</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e'</span>,<span class="id" title="var">He'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.InA_eqke_eqk"><span class="id" title="lemma">InA_eqke_eqk</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">k</span> <span class="id" title="var">e'</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#Properties.of_list_1"><span class="id" title="lemma">of_list_1</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">k'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsame</span>, <a class="idref" href="MMaps.Facts.html#Properties.add_o"><span class="id" title="lemma">add_o</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.of_list_1b"><span class="id" title="lemma">of_list_1b</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_sym"><span class="id" title="lemma">eqb_sym</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <a class="idref" href="MMaps.Facts.html#K.eq_dec"><span class="id" title="axiom">K.eq_dec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">Hdup</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hstep'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">Hdup</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.of_list_1b"><span class="id" title="lemma">of_list_1b</span></a>. <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">Hdup</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Same, with <span class="inlinecode"><a class="idref" href="MMaps.GenTree.html#Ops.empty"><span class="id" title="definition">empty</span></a></span> and <span class="inlinecode"><a class="idref" href="MMaps.RBT.html#MakeRaw.add"><span class="id" title="definition">add</span></a></span> instead of <span class="inlinecode"><a class="idref" href="MMaps.Facts.html#Properties.Empty"><span class="id" title="definition">Empty</span></a></span> and <span class="inlinecode"><span class="id" title="keyword">Add</span></span>. In this
      case, <span class="inlinecode"><span class="id" title="var">P</span></span> must be compatible with equality of sets 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="Properties.fold_rec_bis" class="idref" href="#Properties.fold_rec_bis"><span class="id" title="lemma">fold_rec_bis</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="A:543" class="idref" href="#A:543"><span class="id" title="binder">A</span></a>}(<a id="P:544" class="idref" href="#P:544"><span class="id" title="binder">P</span></a> : <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#A:543"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>)(<a id="f:545" class="idref" href="#f:545"><span class="id" title="binder">f</span></a> : <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#A:543"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#A:543"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="i:546" class="idref" href="#i:546"><span class="id" title="binder">i</span></a> <a id="m:547" class="idref" href="#m:547"><span class="id" title="binder">m</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="m:548" class="idref" href="#m:548"><span class="id" title="binder">m</span></a> <a id="m':549" class="idref" href="#m':549"><span class="id" title="binder">m'</span></a> <a id="a:550" class="idref" href="#a:550"><span class="id" title="binder">a</span></a>, <a class="idref" href="MMaps.Facts.html#m:548"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.Facts.html#m':549"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#P:544"><span class="id" title="variable">P</span></a> <a class="idref" href="MMaps.Facts.html#m:548"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#a:550"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#P:544"><span class="id" title="variable">P</span></a> <a class="idref" href="MMaps.Facts.html#m':549"><span class="id" title="variable">m'</span></a> <a class="idref" href="MMaps.Facts.html#a:550"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#P:544"><span class="id" title="variable">P</span></a> <a class="idref" href="MMaps.Facts.html#M.empty"><span class="id" title="axiom">empty</span></a> <a class="idref" href="MMaps.Facts.html#i:546"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="k:551" class="idref" href="#k:551"><span class="id" title="binder">k</span></a> <a id="e:552" class="idref" href="#e:552"><span class="id" title="binder">e</span></a> <a id="a:553" class="idref" href="#a:553"><span class="id" title="binder">a</span></a> <a id="m':554" class="idref" href="#m':554"><span class="id" title="binder">m'</span></a>, <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#k:551"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:552"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:547"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#k:551"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#m':554"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#P:544"><span class="id" title="variable">P</span></a> <a class="idref" href="MMaps.Facts.html#m':554"><span class="id" title="variable">m'</span></a> <a class="idref" href="MMaps.Facts.html#a:553"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#P:544"><span class="id" title="variable">P</span></a> (<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#k:551"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:552"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m':554"><span class="id" title="variable">m'</span></a>) (<a class="idref" href="MMaps.Facts.html#f:545"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#k:551"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:552"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#a:553"><span class="id" title="variable">a</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#P:544"><span class="id" title="variable">P</span></a> <a class="idref" href="MMaps.Facts.html#m:547"><span class="id" title="variable">m</span></a> (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <a class="idref" href="MMaps.Facts.html#f:545"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:547"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#i:546"><span class="id" title="variable">i</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">P</span> <span class="id" title="var">f</span> <span class="id" title="var">i</span> <span class="id" title="var">m</span> <span class="id" title="var">Pmorphism</span> <span class="id" title="var">Pempty</span> <span class="id" title="var">Pstep</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.fold_rec"><span class="id" title="lemma">fold_rec</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Pmorphism</span> <span class="id" title="keyword">with</span> <a class="idref" href="MMaps.Facts.html#M.empty"><span class="id" title="axiom">empty</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.empty_o"><span class="id" title="lemma">empty_o</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <span class="id" title="var">k</span> <span class="id" title="var">m0</span>); <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">e'</span>; <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#Properties.find_mapsto_iff"><span class="id" title="lemma">find_mapsto_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H'</span>; <span class="id" title="tactic">elim</span> (<span class="id" title="var">H</span> <span class="id" title="var">k</span> <span class="id" title="var">e'</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Pmorphism</span> <span class="id" title="keyword">with</span> (<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <span class="id" title="var">k</span> <span class="id" title="var">e</span> <span class="id" title="var">m'</span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.fold_rec_nodep" class="idref" href="#Properties.fold_rec_nodep"><span class="id" title="lemma">fold_rec_nodep</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="A:555" class="idref" href="#A:555"><span class="id" title="binder">A</span></a>}(<a id="P:556" class="idref" href="#P:556"><span class="id" title="binder">P</span></a> : <a class="idref" href="MMaps.Facts.html#A:555"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>)(<a id="f:557" class="idref" href="#f:557"><span class="id" title="binder">f</span></a> : <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#A:555"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#A:555"><span class="id" title="variable">A</span></a>)(<a id="i:558" class="idref" href="#i:558"><span class="id" title="binder">i</span></a>:<a class="idref" href="MMaps.Facts.html#A:555"><span class="id" title="variable">A</span></a>) <a id="m:559" class="idref" href="#m:559"><span class="id" title="binder">m</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#P:556"><span class="id" title="variable">P</span></a> <a class="idref" href="MMaps.Facts.html#i:558"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="k:560" class="idref" href="#k:560"><span class="id" title="binder">k</span></a> <a id="e:561" class="idref" href="#e:561"><span class="id" title="binder">e</span></a> <a id="a:562" class="idref" href="#a:562"><span class="id" title="binder">a</span></a>, <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#k:560"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:561"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:559"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#P:556"><span class="id" title="variable">P</span></a> <a class="idref" href="MMaps.Facts.html#a:562"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#P:556"><span class="id" title="variable">P</span></a> (<a class="idref" href="MMaps.Facts.html#f:557"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#k:560"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:561"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#a:562"><span class="id" title="variable">a</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#P:556"><span class="id" title="variable">P</span></a> (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <a class="idref" href="MMaps.Facts.html#f:557"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:559"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#i:558"><span class="id" title="variable">i</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MMaps.Facts.html#Properties.fold_rec_bis"><span class="id" title="lemma">fold_rec_bis</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="MMaps.Facts.html#Properties.fold_rec_weak"><span class="id" title="lemma">fold_rec_weak</span></a></span> is a weaker principle than <span class="inlinecode"><a class="idref" href="MMaps.Facts.html#Properties.fold_rec_bis"><span class="id" title="lemma">fold_rec_bis</span></a></span> :
      the step hypothesis must here be applicable anywhere.
      At the same time, it looks more like an induction principle,
      and hence can be easier to use. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.fold_rec_weak" class="idref" href="#Properties.fold_rec_weak"><span class="id" title="lemma">fold_rec_weak</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="A:563" class="idref" href="#A:563"><span class="id" title="binder">A</span></a>}(<a id="P:564" class="idref" href="#P:564"><span class="id" title="binder">P</span></a> : <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#A:563"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>)(<a id="f:565" class="idref" href="#f:565"><span class="id" title="binder">f</span></a> : <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#A:563"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#A:563"><span class="id" title="variable">A</span></a>) <a id="i:566" class="idref" href="#i:566"><span class="id" title="binder">i</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="m:567" class="idref" href="#m:567"><span class="id" title="binder">m</span></a> <a id="m':568" class="idref" href="#m':568"><span class="id" title="binder">m'</span></a> <a id="a:569" class="idref" href="#a:569"><span class="id" title="binder">a</span></a>, <a class="idref" href="MMaps.Facts.html#m:567"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.Facts.html#m':568"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#P:564"><span class="id" title="variable">P</span></a> <a class="idref" href="MMaps.Facts.html#m:567"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#a:569"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#P:564"><span class="id" title="variable">P</span></a> <a class="idref" href="MMaps.Facts.html#m':568"><span class="id" title="variable">m'</span></a> <a class="idref" href="MMaps.Facts.html#a:569"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#P:564"><span class="id" title="variable">P</span></a> <a class="idref" href="MMaps.Facts.html#M.empty"><span class="id" title="axiom">empty</span></a> <a class="idref" href="MMaps.Facts.html#i:566"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="k:570" class="idref" href="#k:570"><span class="id" title="binder">k</span></a> <a id="e:571" class="idref" href="#e:571"><span class="id" title="binder">e</span></a> <a id="a:572" class="idref" href="#a:572"><span class="id" title="binder">a</span></a> <a id="m:573" class="idref" href="#m:573"><span class="id" title="binder">m</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#k:570"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#m:573"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#P:564"><span class="id" title="variable">P</span></a> <a class="idref" href="MMaps.Facts.html#m:573"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#a:572"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#P:564"><span class="id" title="variable">P</span></a> (<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#k:570"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:571"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:573"><span class="id" title="variable">m</span></a>) (<a class="idref" href="MMaps.Facts.html#f:565"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#k:570"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:571"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#a:572"><span class="id" title="variable">a</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="m:574" class="idref" href="#m:574"><span class="id" title="binder">m</span></a>, <a class="idref" href="MMaps.Facts.html#P:564"><span class="id" title="variable">P</span></a> <a class="idref" href="MMaps.Facts.html#m:574"><span class="id" title="variable">m</span></a> (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <a class="idref" href="MMaps.Facts.html#f:565"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:574"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#i:566"><span class="id" title="variable">i</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.fold_rec_bis"><span class="id" title="lemma">fold_rec_bis</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.fold_rel" class="idref" href="#Properties.fold_rel"><span class="id" title="lemma">fold_rel</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="A:575" class="idref" href="#A:575"><span class="id" title="binder">A</span></a> <a id="B:576" class="idref" href="#B:576"><span class="id" title="binder">B</span></a>}(<a id="R:577" class="idref" href="#R:577"><span class="id" title="binder">R</span></a> : <a class="idref" href="MMaps.Facts.html#A:575"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#B:576"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f:578" class="idref" href="#f:578"><span class="id" title="binder">f</span></a> : <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#A:575"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#A:575"><span class="id" title="variable">A</span></a>)(<a id="g:579" class="idref" href="#g:579"><span class="id" title="binder">g</span></a> : <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#B:576"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#B:576"><span class="id" title="variable">B</span></a>) <a id="i:580" class="idref" href="#i:580"><span class="id" title="binder">i</span></a> <a id="j:581" class="idref" href="#j:581"><span class="id" title="binder">j</span></a> <a id="m:582" class="idref" href="#m:582"><span class="id" title="binder">m</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#R:577"><span class="id" title="variable">R</span></a> <a class="idref" href="MMaps.Facts.html#i:580"><span class="id" title="variable">i</span></a> <a class="idref" href="MMaps.Facts.html#j:581"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="k:583" class="idref" href="#k:583"><span class="id" title="binder">k</span></a> <a id="e:584" class="idref" href="#e:584"><span class="id" title="binder">e</span></a> <a id="a:585" class="idref" href="#a:585"><span class="id" title="binder">a</span></a> <a id="b:586" class="idref" href="#b:586"><span class="id" title="binder">b</span></a>, <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#k:583"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:584"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:582"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#R:577"><span class="id" title="variable">R</span></a> <a class="idref" href="MMaps.Facts.html#a:585"><span class="id" title="variable">a</span></a> <a class="idref" href="MMaps.Facts.html#b:586"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#R:577"><span class="id" title="variable">R</span></a> (<a class="idref" href="MMaps.Facts.html#f:578"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#k:583"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:584"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#a:585"><span class="id" title="variable">a</span></a>) (<a class="idref" href="MMaps.Facts.html#g:579"><span class="id" title="variable">g</span></a> <a class="idref" href="MMaps.Facts.html#k:583"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:584"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#b:586"><span class="id" title="variable">b</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#R:577"><span class="id" title="variable">R</span></a> (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <a class="idref" href="MMaps.Facts.html#f:578"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:582"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#i:580"><span class="id" title="variable">i</span></a>) (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <a class="idref" href="MMaps.Facts.html#g:579"><span class="id" title="variable">g</span></a> <a class="idref" href="MMaps.Facts.html#m:582"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#j:581"><span class="id" title="variable">j</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">R</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">m</span> <span class="id" title="var">Rempty</span> <span class="id" title="var">Rstep</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="MMaps.Facts.html#Properties.fold_spec_right"><span class="id" title="lemma">fold_spec_right</span></a>. <span class="id" title="tactic">set</span> (<span class="id" title="var">l</span>:=<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">m</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Rstep'</span> : <span class="id" title="keyword">∀</span> <a id="k:587" class="idref" href="#k:587"><span class="id" title="binder"><span id="k:591" class="id">k</span></span></a> <a id="e:588" class="idref" href="#e:588"><span class="id" title="binder"><span id="e:592" class="id">e</span></span></a> <a id="a:589" class="idref" href="#a:589"><span class="id" title="binder"><span id="a:593" class="id">a</span></span></a> <a id="b:590" class="idref" href="#b:590"><span class="id" title="binder"><span id="b:594" class="id">b</span></span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eqke"><span class="id" title="abbreviation">eqke</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#k:587"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.Facts.html#e:588"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">R</span> <a class="idref" href="MMaps.Facts.html#a:589"><span class="id" title="variable">a</span></a> <a class="idref" href="MMaps.Facts.html#b:590"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">R</span> (<span class="id" title="var">f</span> <a class="idref" href="MMaps.Facts.html#k:587"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:588"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#a:589"><span class="id" title="variable">a</span></a>) (<span class="id" title="var">g</span> <a class="idref" href="MMaps.Facts.html#k:587"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:588"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#b:590"><span class="id" title="variable">b</span></a>)).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Rstep</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.bindings_mapsto_iff"><span class="id" title="lemma">bindings_mapsto_iff</span></a>, &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_rev"><span class="id" title="lemma">InA_rev</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Rstep</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Rstep'</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_cons"><span class="id" title="lemma">InA_cons</span></a>; <span class="id" title="tactic">left</span>; <span class="id" title="tactic">compute</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
From the induction principle on <span class="inlinecode"><span class="id" title="tactic">fold</span></span>, we can deduce some general
      induction principles on maps. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.map_induction" class="idref" href="#Properties.map_induction"><span class="id" title="lemma">map_induction</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="P:595" class="idref" href="#P:595"><span class="id" title="binder">P</span></a> : <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>,<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="m:596" class="idref" href="#m:596"><span class="id" title="binder">m</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.Empty"><span class="id" title="definition">Empty</span></a> <a class="idref" href="MMaps.Facts.html#m:596"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#P:595"><span class="id" title="variable">P</span></a> <a class="idref" href="MMaps.Facts.html#m:596"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="m:597" class="idref" href="#m:597"><span class="id" title="binder">m</span></a> <a id="m':598" class="idref" href="#m':598"><span class="id" title="binder">m'</span></a>, <a class="idref" href="MMaps.Facts.html#P:595"><span class="id" title="variable">P</span></a> <a class="idref" href="MMaps.Facts.html#m:597"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <a id="x:599" class="idref" href="#x:599"><span class="id" title="binder">x</span></a> <a id="e:600" class="idref" href="#e:600"><span class="id" title="binder">e</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:599"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:597"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Add"><span class="id" title="definition">Add</span></a> <a class="idref" href="MMaps.Facts.html#x:599"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:600"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:597"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':598"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#P:595"><span class="id" title="variable">P</span></a> <a class="idref" href="MMaps.Facts.html#m':598"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="m:601" class="idref" href="#m:601"><span class="id" title="binder">m</span></a>, <a class="idref" href="MMaps.Facts.html#P:595"><span class="id" title="variable">P</span></a> <a class="idref" href="MMaps.Facts.html#m:601"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (@<a class="idref" href="MMaps.Facts.html#Properties.fold_rec"><span class="id" title="lemma">fold_rec</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="s:602" class="idref" href="#s:602"><span class="id" title="binder"><span id="s:603" class="id">s</span></span></a> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">P</span> <a class="idref" href="MMaps.Facts.html#s:602"><span class="id" title="variable">s</span></a>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <span class="id" title="var">m</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.map_induction_bis" class="idref" href="#Properties.map_induction_bis"><span class="id" title="lemma">map_induction_bis</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="P:604" class="idref" href="#P:604"><span class="id" title="binder">P</span></a> : <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>,<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="m:605" class="idref" href="#m:605"><span class="id" title="binder">m</span></a> <a id="m':606" class="idref" href="#m':606"><span class="id" title="binder">m'</span></a>, <a class="idref" href="MMaps.Facts.html#m:605"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.Facts.html#m':606"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#P:604"><span class="id" title="variable">P</span></a> <a class="idref" href="MMaps.Facts.html#m:605"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#P:604"><span class="id" title="variable">P</span></a> <a class="idref" href="MMaps.Facts.html#m':606"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#P:604"><span class="id" title="variable">P</span></a> <a class="idref" href="MMaps.Facts.html#M.empty"><span class="id" title="axiom">empty</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:607" class="idref" href="#x:607"><span class="id" title="binder">x</span></a> <a id="e:608" class="idref" href="#e:608"><span class="id" title="binder">e</span></a> <a id="m:609" class="idref" href="#m:609"><span class="id" title="binder">m</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:607"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:609"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#P:604"><span class="id" title="variable">P</span></a> <a class="idref" href="MMaps.Facts.html#m:609"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#P:604"><span class="id" title="variable">P</span></a> (<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#x:607"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:608"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:609"><span class="id" title="variable">m</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="m:610" class="idref" href="#m:610"><span class="id" title="binder">m</span></a>, <a class="idref" href="MMaps.Facts.html#P:604"><span class="id" title="variable">P</span></a> <a class="idref" href="MMaps.Facts.html#m:610"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="MMaps.Facts.html#Properties.fold_rec_bis"><span class="id" title="lemma">fold_rec_bis</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="s:611" class="idref" href="#s:611"><span class="id" title="binder"><span id="s:612" class="id">s</span></span></a> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">P</span> <a class="idref" href="MMaps.Facts.html#s:611"><span class="id" title="variable">s</span></a>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <span class="id" title="var">m</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="tactic">fold</span></span> can be used to reconstruct the same initial set. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.fold_identity" class="idref" href="#Properties.fold_identity"><span class="id" title="lemma">fold_identity</span></a> <a id="m:613" class="idref" href="#m:613"><span class="id" title="binder">m</span></a> : <a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> (@<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <span class="id" title="var">_</span>) <a class="idref" href="MMaps.Facts.html#m:613"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#M.empty"><span class="id" title="axiom">empty</span></a> <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.Facts.html#m:613"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.fold_rec"><span class="id" title="lemma">fold_rec</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">P</span>:=<span class="id" title="keyword">fun</span> <a id="m:614" class="idref" href="#m:614"><span class="id" title="binder"><span id="m:616" class="id">m</span></span></a> <a id="acc:615" class="idref" href="#acc:615"><span class="id" title="binder"><span id="acc:617" class="id">acc</span></span></a> ⇒ <a class="idref" href="MMaps.Facts.html#acc:615"><span class="id" title="variable">acc</span></a> <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.Facts.html#m:614"><span class="id" title="variable">m</span></a>); <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m'</span> <span class="id" title="var">Heq</span> <span class="id" title="var">k'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.empty_o"><span class="id" title="lemma">empty_o</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <span class="id" title="var">k'</span> <span class="id" title="var">m'</span>); <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">e'</span>; <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#Properties.find_mapsto_iff"><span class="id" title="lemma">find_mapsto_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">elim</span> (<span class="id" title="var">Heq</span> <span class="id" title="var">k'</span> <span class="id" title="var">e'</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">m'</span> <span class="id" title="var">m''</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hadd</span> <span class="id" title="var">Heq</span> <span class="id" title="var">k'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hadd</span>, 2 <a class="idref" href="MMaps.Facts.html#Properties.add_o"><span class="id" title="lemma">add_o</span></a>, <span class="id" title="var">Heq</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="Properties.Elt.Fold_More" class="idref" href="#Properties.Elt.Fold_More"><span class="id" title="section">Fold_More</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab20"></a><h3 class="section">Additional properties of fold</h3>

<div class="paragraph"> </div>

 When a function <span class="inlinecode"><a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.f"><span class="id" title="variable">f</span></a></span> is compatible and allows transpositions, we can
      compute <span class="inlinecode"><span class="id" title="tactic">fold</span></span> <span class="inlinecode"><a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.f"><span class="id" title="variable">f</span></a></span> in any order. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variables</span> (<a id="Properties.Elt.Fold_More.A" class="idref" href="#Properties.Elt.Fold_More.A"><span class="id" title="variable">A</span></a>:<span class="id" title="keyword">Type</span>)(<a id="Properties.Elt.Fold_More.eqA" class="idref" href="#Properties.Elt.Fold_More.eqA"><span class="id" title="variable">eqA</span></a>:<a class="idref" href="MMaps.Facts.html#A:619"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#A:619"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><span class="id" title="keyword">Prop</span>)(<a id="Properties.Elt.Fold_More.st" class="idref" href="#Properties.Elt.Fold_More.st"><span class="id" title="variable">st</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="MMaps.Facts.html#eqA:621"><span class="id" title="variable">eqA</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="Properties.Elt.Fold_More.f" class="idref" href="#Properties.Elt.Fold_More.f"><span class="id" title="variable">f</span></a>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.A"><span class="id" title="variable">A</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.fold_Empty" class="idref" href="#Properties.fold_Empty"><span class="id" title="lemma">fold_Empty</span></a> <a id="m:626" class="idref" href="#m:626"><span class="id" title="binder">m</span></a> <a id="i:627" class="idref" href="#i:627"><span class="id" title="binder">i</span></a> : <a class="idref" href="MMaps.Facts.html#Properties.Empty"><span class="id" title="definition">Empty</span></a> <a class="idref" href="MMaps.Facts.html#m:626"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.eqA"><span class="id" title="variable">eqA</span></a> (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.f"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:626"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#i:627"><span class="id" title="variable">i</span></a>) <a class="idref" href="MMaps.Facts.html#i:627"><span class="id" title="variable">i</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.fold_rec_nodep"><span class="id" title="lemma">fold_rec_nodep</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">P</span>:=<span class="id" title="keyword">fun</span> <a id="a:628" class="idref" href="#a:628"><span class="id" title="binder"><span id="a:629" class="id">a</span></span></a> ⇒ <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.eqA"><span class="id" title="variable">eqA</span></a> <a class="idref" href="MMaps.Facts.html#a:628"><span class="id" title="variable">a</span></a> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">elim</span> (<span class="id" title="var">H</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="Properties.Elt.Fold_More.Hf" class="idref" href="#Properties.Elt.Fold_More.Hf"><span class="id" title="variable">Hf</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.eqA"><span class="id" title="variable">eqA</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.eqA"><span class="id" title="variable">eqA</span></a>) <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.f"><span class="id" title="variable">f</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.fold_init" class="idref" href="#Properties.fold_init"><span class="id" title="lemma">fold_init</span></a> <a id="m:632" class="idref" href="#m:632"><span class="id" title="binder">m</span></a> <a id="i:633" class="idref" href="#i:633"><span class="id" title="binder">i</span></a> <a id="i':634" class="idref" href="#i':634"><span class="id" title="binder">i'</span></a> : <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.eqA"><span class="id" title="variable">eqA</span></a> <a class="idref" href="MMaps.Facts.html#i:633"><span class="id" title="variable">i</span></a> <a class="idref" href="MMaps.Facts.html#i':634"><span class="id" title="variable">i'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.eqA"><span class="id" title="variable">eqA</span></a> (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.f"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:632"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#i:633"><span class="id" title="variable">i</span></a>) (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.f"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:632"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#i':634"><span class="id" title="variable">i'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.fold_rel"><span class="id" title="lemma">fold_rel</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">R</span>:=<a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.eqA"><span class="id" title="variable">eqA</span></a>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.Hf"><span class="id" title="variable">Hf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Transpositions of f (a.k.a diamond property).
      Could we swap two sequential calls to f, i.e. do we have:

<div class="paragraph"> </div>

        f k e (f k' e' a) == f k' e' (f k e a)

<div class="paragraph"> </div>

      First, we do not need this equation for all keys, but only
      when k and k' are distinct, as suggested by Pierre Castéran.
      Think for instance of <span class="inlinecode"><a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.f"><span class="id" title="variable">f</span></a></span> being <span class="inlinecode"><span class="id" title="var">M.add</span></span> : in general, we don't have
      <span class="inlinecode"><span class="id" title="var">M.add</span></span> <span class="inlinecode"><span class="id" title="var">k</span></span> <span class="inlinecode"><a class="idref" href="MMaps.Raw.html#WS.Specs.e"><span class="id" title="variable">e</span></a></span> <span class="inlinecode">(<span class="id" title="var">M.add</span></span> <span class="inlinecode"><span class="id" title="var">k</span></span> <span class="inlinecode"><span class="id" title="var">e'</span></span> <span class="inlinecode"><a class="idref" href="MMaps.Raw.html#WS.Specs.m"><span class="id" title="variable">m</span></a>)</span> <span class="inlinecode">==</span> <span class="inlinecode"><span class="id" title="var">M.add</span></span> <span class="inlinecode"><span class="id" title="var">k</span></span> <span class="inlinecode"><span class="id" title="var">e'</span></span> <span class="inlinecode">(<span class="id" title="var">M.add</span></span> <span class="inlinecode"><span class="id" title="var">k</span></span> <span class="inlinecode"><a class="idref" href="MMaps.Raw.html#WS.Specs.e"><span class="id" title="variable">e</span></a></span> <span class="inlinecode"><a class="idref" href="MMaps.Raw.html#WS.Specs.m"><span class="id" title="variable">m</span></a>)</span>.
      Fortunately, we will never encounter this situation during a real
      <span class="inlinecode"><span class="id" title="tactic">fold</span></span>, since the keys received by this <span class="inlinecode"><span class="id" title="tactic">fold</span></span> are unique.
      NB: without this condition, this condition would be
      <span class="inlinecode"><span class="id" title="var">SetoidList.transpose2</span></span>.

<div class="paragraph"> </div>

      Secondly, instead of the equation above, we now use a statement
      with more basic equalities, allowing to prove <span class="inlinecode"><a class="idref" href="MMaps.Facts.html#Properties.fold_commutes"><span class="id" title="lemma">fold_commutes</span></a></span> even
      when <span class="inlinecode"><a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.f"><span class="id" title="variable">f</span></a></span> isn't a morphism.
      NB: When <span class="inlinecode"><a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.f"><span class="id" title="variable">f</span></a></span> is a morphism, <span class="inlinecode"><a class="idref" href="MMaps.Facts.html#Properties.Diamond"><span class="id" title="definition">Diamond</span></a></span> <span class="inlinecode"><a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.f"><span class="id" title="variable">f</span></a></span> gives back the equation above.

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Properties.Diamond" class="idref" href="#Properties.Diamond"><span class="id" title="definition">Diamond</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="k:635" class="idref" href="#k:635"><span class="id" title="binder">k</span></a> <a id="k':636" class="idref" href="#k':636"><span class="id" title="binder">k'</span></a> <a id="e:637" class="idref" href="#e:637"><span class="id" title="binder">e</span></a> <a id="e':638" class="idref" href="#e':638"><span class="id" title="binder">e'</span></a> <a id="a:639" class="idref" href="#a:639"><span class="id" title="binder">a</span></a> <a id="b:640" class="idref" href="#b:640"><span class="id" title="binder">b</span></a> <a id="b':641" class="idref" href="#b':641"><span class="id" title="binder">b'</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#k:635"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#k':636"><span class="id" title="variable">k'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.eqA"><span class="id" title="variable">eqA</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.f"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#k:635"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:637"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#a:639"><span class="id" title="variable">a</span></a>) <a class="idref" href="MMaps.Facts.html#b:640"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.eqA"><span class="id" title="variable">eqA</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.f"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#k':636"><span class="id" title="variable">k'</span></a> <a class="idref" href="MMaps.Facts.html#e':638"><span class="id" title="variable">e'</span></a> <a class="idref" href="MMaps.Facts.html#a:639"><span class="id" title="variable">a</span></a>) <a class="idref" href="MMaps.Facts.html#b':641"><span class="id" title="variable">b'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.eqA"><span class="id" title="variable">eqA</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.f"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#k:635"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:637"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#b':641"><span class="id" title="variable">b'</span></a>) (<a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.f"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#k':636"><span class="id" title="variable">k'</span></a> <a class="idref" href="MMaps.Facts.html#e':638"><span class="id" title="variable">e'</span></a> <a class="idref" href="MMaps.Facts.html#b:640"><span class="id" title="variable">b</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="Properties.Elt.Fold_More.Hf'" class="idref" href="#Properties.Elt.Fold_More.Hf'"><span class="id" title="variable">Hf'</span></a> : <a class="idref" href="MMaps.Facts.html#Properties.Diamond"><span class="id" title="definition">Diamond</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.fold_commutes" class="idref" href="#Properties.fold_commutes"><span class="id" title="lemma">fold_commutes</span></a> <a id="i:644" class="idref" href="#i:644"><span class="id" title="binder">i</span></a> <a id="m:645" class="idref" href="#m:645"><span class="id" title="binder">m</span></a> <a id="k:646" class="idref" href="#k:646"><span class="id" title="binder">k</span></a> <a id="e:647" class="idref" href="#e:647"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#k:646"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#m:645"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.eqA"><span class="id" title="variable">eqA</span></a> (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.f"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:645"><span class="id" title="variable">m</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.f"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#k:646"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:647"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#i:644"><span class="id" title="variable">i</span></a>)) (<a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.f"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#k:646"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:647"><span class="id" title="variable">e</span></a> (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.f"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:645"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#i:644"><span class="id" title="variable">i</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">st</span> <span class="id" title="var">Hf'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">NI</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.fold_rel"><span class="id" title="lemma">fold_rel</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">R</span>:= <span class="id" title="keyword">fun</span> <a id="a:648" class="idref" href="#a:648"><span class="id" title="binder"><span id="a:650" class="id">a</span></span></a> <a id="b:649" class="idref" href="#b:649"><span class="id" title="binder"><span id="b:651" class="id">b</span></span></a> ⇒ <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.eqA"><span class="id" title="variable">eqA</span></a> <a class="idref" href="MMaps.Facts.html#a:648"><span class="id" title="variable">a</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.f"><span class="id" title="variable">f</span></a> <span class="id" title="var">k</span> <span class="id" title="var">e</span> <a class="idref" href="MMaps.Facts.html#b:649"><span class="id" title="variable">b</span></a>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">k'</span> <span class="id" title="var">e'</span> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <span class="id" title="var">Hm</span> <span class="id" title="var">K</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.Hf'"><span class="id" title="variable">Hf'</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">NI</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">NI</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">NoDupA_eqk_eqke</span> <span class="id" title="var">NoDupA_rev</span> <span class="id" title="var">bindings_3w</span> : <span class="id" title="var">map</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Properties.fold_Proper" class="idref" href="#Properties.fold_Proper"><span class="id" title="instance">fold_Proper</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.eqA"><span class="id" title="variable">eqA</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.eqA"><span class="id" title="variable">eqA</span></a>) (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.f"><span class="id" title="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">st</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hf'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">Hm</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="MMaps.Facts.html#Properties.fold_spec_right"><span class="id" title="lemma">fold_spec_right</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#NoDupA"><span class="id" title="inductive">NoDupA</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eqk"><span class="id" title="abbreviation">eqk</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">m1</span>))) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#NoDupA"><span class="id" title="inductive">NoDupA</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eqk"><span class="id" title="abbreviation">eqk</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">m2</span>))) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#fold_right_equivlistA_restr2"><span class="id" title="lemma">fold_right_equivlistA_restr2</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">R</span>:=<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.RelationClasses.html#complement"><span class="id" title="definition">complement</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eqk"><span class="id" title="abbreviation">eqk</span></a>)(<span class="id" title="var">eqA</span>:=<a class="idref" href="MMaps.Facts.html#Properties.eqke"><span class="id" title="abbreviation">eqke</span></a>)<br/>
&nbsp;&nbsp;; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> (<span class="id" title="var">k1</span>,<span class="id" title="var">e1</span>) (<span class="id" title="var">k2</span>,<span class="id" title="var">e2</span>) (<span class="id" title="var">Hk</span>,<span class="id" title="var">He</span>) <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">Ha</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.Hf"><span class="id" title="variable">Hf</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.RelationClasses.html#complement"><span class="id" title="definition">complement</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.eq_key"><span class="id" title="definition">eq_key</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.eq_key_elt"><span class="id" title="definition">eq_key_elt</span></a>, <a class="idref" href="MMaps.Interface.html#Duo"><span class="id" title="definition">Duo</span></a>,<a class="idref" href="MMaps.Interface.html#Fst"><span class="id" title="definition">Fst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> (<span class="id" title="var">k</span>,<span class="id" title="var">e</span>) (<span class="id" title="var">k'</span>,<span class="id" title="var">e'</span>) <span class="id" title="var">z</span> <span class="id" title="var">z'</span> <span class="id" title="var">h</span> <span class="id" title="var">h'</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.eq_key"><span class="id" title="definition">eq_key</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.uncurry"><span class="id" title="definition">uncurry</span></a>;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">h'</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.Hf'"><span class="id" title="variable">Hf'</span></a>; <span class="id" title="var">now</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#NoDupA_altdef"><span class="id" title="lemma">NoDupA_altdef</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> (<span class="id" title="var">k</span>,<span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_rev"><span class="id" title="lemma">InA_rev</span></a>, &lt;- 2 <a class="idref" href="MMaps.Facts.html#Properties.bindings_mapsto_iff"><span class="id" title="lemma">bindings_mapsto_iff</span></a>, 2 <a class="idref" href="MMaps.Facts.html#Properties.find_mapsto_iff"><span class="id" title="lemma">find_mapsto_iff</span></a>, <span class="id" title="var">Hm</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.fold_Add" class="idref" href="#Properties.fold_Add"><span class="id" title="lemma">fold_Add</span></a> <a id="m1:652" class="idref" href="#m1:652"><span class="id" title="binder">m1</span></a> <a id="m2:653" class="idref" href="#m2:653"><span class="id" title="binder">m2</span></a> <a id="k:654" class="idref" href="#k:654"><span class="id" title="binder">k</span></a> <a id="e:655" class="idref" href="#e:655"><span class="id" title="binder">e</span></a> <a id="i:656" class="idref" href="#i:656"><span class="id" title="binder">i</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#k:654"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#m1:652"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Add"><span class="id" title="definition">Add</span></a> <a class="idref" href="MMaps.Facts.html#k:654"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:655"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m1:652"><span class="id" title="variable">m1</span></a> <a class="idref" href="MMaps.Facts.html#m2:653"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.eqA"><span class="id" title="variable">eqA</span></a> (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.f"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m2:653"><span class="id" title="variable">m2</span></a> <a class="idref" href="MMaps.Facts.html#i:656"><span class="id" title="variable">i</span></a>) (<a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.f"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#k:654"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:655"><span class="id" title="variable">e</span></a> (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.f"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m1:652"><span class="id" title="variable">m1</span></a> <a class="idref" href="MMaps.Facts.html#i:656"><span class="id" title="variable">i</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">st</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hf'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm1</span> <span class="id" title="var">Hm2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="MMaps.Facts.html#Properties.fold_spec_right"><span class="id" title="lemma">fold_spec_right</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">f'</span>:=<a class="idref" href="MMaps.Facts.html#Properties.uncurry"><span class="id" title="definition">uncurry</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.f"><span class="id" title="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.f"><span class="id" title="variable">f</span></a> <span class="id" title="var">k</span> <span class="id" title="var">e</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> <span class="id" title="var">f'</span> <span class="id" title="var">i</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">m1</span>))))<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">f'</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">k</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> <span class="id" title="var">f'</span> <span class="id" title="var">i</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">m1</span>)))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#NoDupA"><span class="id" title="inductive">NoDupA</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eqk"><span class="id" title="abbreviation">eqk</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">m1</span>))) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> × ).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#NoDupA"><span class="id" title="inductive">NoDupA</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eqk"><span class="id" title="abbreviation">eqk</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">m2</span>))) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> × ).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#fold_right_add_restr"><span class="id" title="lemma">fold_right_add_restr</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">R</span>:=<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.RelationClasses.html#complement"><span class="id" title="definition">complement</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eqk"><span class="id" title="abbreviation">eqk</span></a>)(<span class="id" title="var">eqA</span>:=<a class="idref" href="MMaps.Facts.html#Properties.eqke"><span class="id" title="abbreviation">eqke</span></a>); <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> (<span class="id" title="var">k1</span>,<span class="id" title="var">e1</span>) (<span class="id" title="var">k2</span>,<span class="id" title="var">e2</span>) (<span class="id" title="var">Hk</span>,<span class="id" title="var">He</span>) <span class="id" title="var">a</span> <span class="id" title="var">a'</span> <span class="id" title="var">Ha</span>; <span class="id" title="tactic">unfold</span> <span class="id" title="var">f'</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.Hf"><span class="id" title="variable">Hf</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.RelationClasses.html#complement"><span class="id" title="definition">complement</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.eq_key_elt"><span class="id" title="definition">eq_key_elt</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.eq_key"><span class="id" title="definition">eq_key</span></a>, <a class="idref" href="MMaps.Interface.html#Duo"><span class="id" title="definition">Duo</span></a>, <a class="idref" href="MMaps.Interface.html#Fst"><span class="id" title="definition">Fst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> (<span class="id" title="var">k1</span>,<span class="id" title="var">e1</span>) (<span class="id" title="var">k2</span>,<span class="id" title="var">e2</span>) <span class="id" title="var">z1</span> <span class="id" title="var">z2</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.eq_key"><span class="id" title="definition">eq_key</span></a>, <span class="id" title="var">f'</span>, <a class="idref" href="MMaps.Facts.html#Properties.uncurry"><span class="id" title="definition">uncurry</span></a>, <a class="idref" href="MMaps.Interface.html#Fst"><span class="id" title="definition">Fst</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.Hf'"><span class="id" title="variable">Hf'</span></a>; <span class="id" title="var">now</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#NoDupA_altdef"><span class="id" title="lemma">NoDupA_altdef</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_rev"><span class="id" title="lemma">InA_rev</span></a>, &lt;- <a class="idref" href="MMaps.Facts.html#Properties.bindings_mapsto_iff"><span class="id" title="lemma">bindings_mapsto_iff</span></a> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> × ). <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> (<span class="id" title="var">a</span>,<span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_cons"><span class="id" title="lemma">InA_cons</span></a>, 2 <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_rev"><span class="id" title="lemma">InA_rev</span></a>, &lt;- 2 <a class="idref" href="MMaps.Facts.html#Properties.bindings_mapsto_iff"><span class="id" title="lemma">bindings_mapsto_iff</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2 <a class="idref" href="MMaps.Facts.html#Properties.find_mapsto_iff"><span class="id" title="lemma">find_mapsto_iff</span></a> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> × ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.eq_key_elt"><span class="id" title="definition">eq_key_elt</span></a>,<a class="idref" href="MMaps.Interface.html#Duo"><span class="id" title="definition">Duo</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm2</span>, !<a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.add_mapsto_new"><span class="id" title="lemma">add_mapsto_new</span></a>; <span class="id" title="tactic">intuition</span> (<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.fold_add" class="idref" href="#Properties.fold_add"><span class="id" title="lemma">fold_add</span></a> <a id="m:657" class="idref" href="#m:657"><span class="id" title="binder">m</span></a> <a id="k:658" class="idref" href="#k:658"><span class="id" title="binder">k</span></a> <a id="e:659" class="idref" href="#e:659"><span class="id" title="binder">e</span></a> <a id="i:660" class="idref" href="#i:660"><span class="id" title="binder">i</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#k:658"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#m:657"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.eqA"><span class="id" title="variable">eqA</span></a> (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#k:658"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:659"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:657"><span class="id" title="variable">m</span></a>) <a class="idref" href="MMaps.Facts.html#i:660"><span class="id" title="variable">i</span></a>) (<a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.f"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#k:658"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:659"><span class="id" title="variable">e</span></a> (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More.f"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:657"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#i:660"><span class="id" title="variable">i</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">st</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hf'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.fold_Add"><span class="id" title="lemma">fold_Add</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_More"><span class="id" title="section">Fold_More</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab21"></a><h3 class="section">Special case of a fold only on keys</h3>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="Properties.Elt.Fold_Keys" class="idref" href="#Properties.Elt.Fold_Keys"><span class="id" title="section">Fold_Keys</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variables</span> (<a id="Properties.Elt.Fold_Keys.A" class="idref" href="#Properties.Elt.Fold_Keys.A"><span class="id" title="variable">A</span></a>:<span class="id" title="keyword">Type</span>)(<a id="Properties.Elt.Fold_Keys.eqA" class="idref" href="#Properties.Elt.Fold_Keys.eqA"><span class="id" title="variable">eqA</span></a>:<a class="idref" href="MMaps.Facts.html#A:662"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#A:662"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><span class="id" title="keyword">Prop</span>)(<a id="Properties.Elt.Fold_Keys.st" class="idref" href="#Properties.Elt.Fold_Keys.st"><span class="id" title="variable">st</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="MMaps.Facts.html#eqA:664"><span class="id" title="variable">eqA</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="Properties.Elt.Fold_Keys.f" class="idref" href="#Properties.Elt.Fold_Keys.f"><span class="id" title="variable">f</span></a>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_Keys.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_Keys.A"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="Properties.Elt.Fold_Keys.Hf" class="idref" href="#Properties.Elt.Fold_Keys.Hf"><span class="id" title="variable">Hf</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_Keys.eqA"><span class="id" title="variable">eqA</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_Keys.eqA"><span class="id" title="variable">eqA</span></a>) <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_Keys.f"><span class="id" title="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="Properties.Elt.Fold_Keys.Hf'" class="idref" href="#Properties.Elt.Fold_Keys.Hf'"><span class="id" title="variable">Hf'</span></a>:<a class="idref" href="MMaps.Facts.html#Properties.Diamond"><span class="id" title="definition">Diamond</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_Keys.eqA"><span class="id" title="variable">eqA</span></a> (<span class="id" title="keyword">fun</span> <a id="k:671" class="idref" href="#k:671"><span class="id" title="binder">k</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_Keys.f"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#k:671"><span class="id" title="variable">k</span></a>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Properties.foldkeys" class="idref" href="#Properties.foldkeys"><span class="id" title="definition">foldkeys</span></a> := @<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_Keys.A"><span class="id" title="variable">A</span></a> (<span class="id" title="keyword">fun</span> <a id="k:674" class="idref" href="#k:674"><span class="id" title="binder">k</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_Keys.f"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#k:674"><span class="id" title="variable">k</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.foldkeys_Empty" class="idref" href="#Properties.foldkeys_Empty"><span class="id" title="lemma">foldkeys_Empty</span></a> <a id="m:675" class="idref" href="#m:675"><span class="id" title="binder">m</span></a> <a id="i:676" class="idref" href="#i:676"><span class="id" title="binder">i</span></a> : <a class="idref" href="MMaps.Facts.html#Properties.Empty"><span class="id" title="definition">Empty</span></a> <a class="idref" href="MMaps.Facts.html#m:675"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_Keys.eqA"><span class="id" title="variable">eqA</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.foldkeys"><span class="id" title="definition">foldkeys</span></a> <a class="idref" href="MMaps.Facts.html#m:675"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#i:676"><span class="id" title="variable">i</span></a>) <a class="idref" href="MMaps.Facts.html#i:676"><span class="id" title="variable">i</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.fold_Empty"><span class="id" title="lemma">fold_Empty</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.foldkeys_init" class="idref" href="#Properties.foldkeys_init"><span class="id" title="lemma">foldkeys_init</span></a> <a id="m:677" class="idref" href="#m:677"><span class="id" title="binder">m</span></a> <a id="i:678" class="idref" href="#i:678"><span class="id" title="binder">i</span></a> <a id="i':679" class="idref" href="#i':679"><span class="id" title="binder">i'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_Keys.eqA"><span class="id" title="variable">eqA</span></a> <a class="idref" href="MMaps.Facts.html#i:678"><span class="id" title="variable">i</span></a> <a class="idref" href="MMaps.Facts.html#i':679"><span class="id" title="variable">i'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_Keys.eqA"><span class="id" title="variable">eqA</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.foldkeys"><span class="id" title="definition">foldkeys</span></a> <a class="idref" href="MMaps.Facts.html#m:677"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#i:678"><span class="id" title="variable">i</span></a>) (<a class="idref" href="MMaps.Facts.html#Properties.foldkeys"><span class="id" title="definition">foldkeys</span></a> <a class="idref" href="MMaps.Facts.html#m:677"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#i':679"><span class="id" title="variable">i'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.fold_rel"><span class="id" title="lemma">fold_rel</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">R</span>:=<a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_Keys.eqA"><span class="id" title="variable">eqA</span></a>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_Keys.Hf"><span class="id" title="variable">Hf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.foldkeys_commutes" class="idref" href="#Properties.foldkeys_commutes"><span class="id" title="lemma">foldkeys_commutes</span></a> <a id="i:680" class="idref" href="#i:680"><span class="id" title="binder">i</span></a> <a id="m:681" class="idref" href="#m:681"><span class="id" title="binder">m</span></a> <a id="k:682" class="idref" href="#k:682"><span class="id" title="binder">k</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#k:682"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#m:681"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_Keys.eqA"><span class="id" title="variable">eqA</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.foldkeys"><span class="id" title="definition">foldkeys</span></a> <a class="idref" href="MMaps.Facts.html#m:681"><span class="id" title="variable">m</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_Keys.f"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#k:682"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#i:680"><span class="id" title="variable">i</span></a>)) (<a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_Keys.f"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#k:682"><span class="id" title="variable">k</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.foldkeys"><span class="id" title="definition">foldkeys</span></a> <a class="idref" href="MMaps.Facts.html#m:681"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#i:680"><span class="id" title="variable">i</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">st</span> <span class="id" title="var">Hf'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">NI</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.fold_rel"><span class="id" title="lemma">fold_rel</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">R</span>:= <span class="id" title="keyword">fun</span> <a id="a:683" class="idref" href="#a:683"><span class="id" title="binder"><span id="a:685" class="id">a</span></span></a> <a id="b:684" class="idref" href="#b:684"><span class="id" title="binder"><span id="b:686" class="id">b</span></span></a> ⇒ <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_Keys.eqA"><span class="id" title="variable">eqA</span></a> <a class="idref" href="MMaps.Facts.html#a:683"><span class="id" title="variable">a</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_Keys.f"><span class="id" title="variable">f</span></a> <span class="id" title="var">k</span> <a class="idref" href="MMaps.Facts.html#b:684"><span class="id" title="variable">b</span></a>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">k'</span> <span class="id" title="var">e'</span> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <span class="id" title="var">Hm</span> <span class="id" title="var">K</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">g</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hf'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_Keys.f"><span class="id" title="variable">f</span></a> <span class="id" title="var">k'</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">g</span> <span class="id" title="var">k'</span> <span class="id" title="var">e'</span>). <span class="id" title="tactic">change</span> (<a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_Keys.f"><span class="id" title="variable">f</span></a> <span class="id" title="var">k</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">g</span> <span class="id" title="var">k</span> <span class="id" title="var">e'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_Keys.Hf'"><span class="id" title="variable">Hf'</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">NI</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">NI</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.foldkeys_Proper" class="idref" href="#Properties.foldkeys_Proper"><span class="id" title="lemma">foldkeys_Proper</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#M.Eqdom"><span class="id" title="definition">Eqdom</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_Keys.eqA"><span class="id" title="variable">eqA</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_Keys.eqA"><span class="id" title="variable">eqA</span></a>) <a class="idref" href="MMaps.Facts.html#Properties.foldkeys"><span class="id" title="definition">foldkeys</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">st</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hf'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">Hm</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.foldkeys"><span class="id" title="definition">foldkeys</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="MMaps.Facts.html#Properties.fold_spec_right"><span class="id" title="lemma">fold_spec_right</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#NoDupA"><span class="id" title="inductive">NoDupA</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eqk"><span class="id" title="abbreviation">eqk</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">m1</span>))).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#NoDupA_rev"><span class="id" title="lemma">NoDupA_rev</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> ×. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.bindings_spec2w"><span class="id" title="axiom">bindings_spec2w</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#NoDupA"><span class="id" title="inductive">NoDupA</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eqk"><span class="id" title="abbreviation">eqk</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">m2</span>))).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#NoDupA_rev"><span class="id" title="lemma">NoDupA_rev</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> ×. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.bindings_spec2w"><span class="id" title="axiom">bindings_spec2w</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#fold_right_equivlistA_restr2"><span class="id" title="lemma">fold_right_equivlistA_restr2</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">R</span>:=<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.RelationClasses.html#complement"><span class="id" title="definition">complement</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eqk"><span class="id" title="abbreviation">eqk</span></a>)(<span class="id" title="var">eqA</span>:=<a class="idref" href="MMaps.Facts.html#Properties.eqk"><span class="id" title="abbreviation">eqk</span></a>)<br/>
&nbsp;&nbsp;; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> (<span class="id" title="var">k1</span>,<span class="id" title="var">e1</span>) (<span class="id" title="var">k2</span>,<span class="id" title="var">e2</span>) <span class="id" title="var">Hk</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">Ha</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_Keys.Hf"><span class="id" title="variable">Hf</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.RelationClasses.html#complement"><span class="id" title="definition">complement</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.eq_key"><span class="id" title="definition">eq_key</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.eq_key_elt"><span class="id" title="definition">eq_key_elt</span></a>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">compute</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hf'</span>. <span class="id" title="tactic">eapply</span> (@<a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_Keys.Hf'"><span class="id" title="variable">Hf'</span></a> <span class="id" title="var">a</span> <span class="id" title="var">a0</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_Keys.Hf"><span class="id" title="variable">Hf</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_Keys.Hf"><span class="id" title="variable">Hf</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#NoDupA_altdef"><span class="id" title="lemma">NoDupA_altdef</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> (<span class="id" title="var">k</span>,<span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_rev"><span class="id" title="lemma">InA_rev</span></a>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hm</span> <span class="id" title="var">k</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="MMaps.Facts.html#Properties.in_bindings_iff'"><span class="id" title="lemma">in_bindings_iff'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.foldkeys_Add" class="idref" href="#Properties.foldkeys_Add"><span class="id" title="lemma">foldkeys_Add</span></a> <a id="m1:687" class="idref" href="#m1:687"><span class="id" title="binder">m1</span></a> <a id="m2:688" class="idref" href="#m2:688"><span class="id" title="binder">m2</span></a> <a id="k:689" class="idref" href="#k:689"><span class="id" title="binder">k</span></a> <a id="e:690" class="idref" href="#e:690"><span class="id" title="binder">e</span></a> <a id="i:691" class="idref" href="#i:691"><span class="id" title="binder">i</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#k:689"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#m1:687"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Add"><span class="id" title="definition">Add</span></a> <a class="idref" href="MMaps.Facts.html#k:689"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:690"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m1:687"><span class="id" title="variable">m1</span></a> <a class="idref" href="MMaps.Facts.html#m2:688"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_Keys.eqA"><span class="id" title="variable">eqA</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.foldkeys"><span class="id" title="definition">foldkeys</span></a> <a class="idref" href="MMaps.Facts.html#m2:688"><span class="id" title="variable">m2</span></a> <a class="idref" href="MMaps.Facts.html#i:691"><span class="id" title="variable">i</span></a>) (<a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_Keys.f"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#k:689"><span class="id" title="variable">k</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.foldkeys"><span class="id" title="definition">foldkeys</span></a> <a class="idref" href="MMaps.Facts.html#m1:687"><span class="id" title="variable">m1</span></a> <a class="idref" href="MMaps.Facts.html#i:691"><span class="id" title="variable">i</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">st</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hf'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm1</span> <span class="id" title="var">Hm2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.foldkeys"><span class="id" title="definition">foldkeys</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">g</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hf'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_Keys.f"><span class="id" title="variable">f</span></a> <span class="id" title="var">k</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">g</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.fold_Add"><span class="id" title="lemma">fold_Add</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">Hf</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">k'</span> <span class="id" title="var">Hk</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">a</span> <span class="id" title="var">a'</span> <span class="id" title="var">Ha</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_Keys.Hf"><span class="id" title="variable">Hf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="MMaps.Facts.html#Properties.Elt.Fold_Keys"><span class="id" title="section">Fold_Keys</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab22"></a><h3 class="section">Cardinal</h3>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.cardinal_fold" class="idref" href="#Properties.cardinal_fold"><span class="id" title="lemma">cardinal_fold</span></a> <a id="m:692" class="idref" href="#m:692"><span class="id" title="binder">m</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.cardinal"><span class="id" title="axiom">cardinal</span></a> <a class="idref" href="MMaps.Facts.html#m:692"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a>) <a class="idref" href="MMaps.Facts.html#m:692"><span class="id" title="variable">m</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.cardinal_1"><span class="id" title="lemma">cardinal_1</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.fold_1"><span class="id" title="lemma">fold_1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#fold_left_length"><span class="id" title="abbreviation">fold_left_length</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.cardinal_foldkeys" class="idref" href="#Properties.cardinal_foldkeys"><span class="id" title="lemma">cardinal_foldkeys</span></a> <a id="m:693" class="idref" href="#m:693"><span class="id" title="binder">m</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.cardinal"><span class="id" title="axiom">cardinal</span></a> <a class="idref" href="MMaps.Facts.html#m:693"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.Facts.html#Properties.foldkeys"><span class="id" title="definition">foldkeys</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a>) <a class="idref" href="MMaps.Facts.html#m:693"><span class="id" title="variable">m</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.cardinal_fold"><span class="id" title="lemma">cardinal_fold</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.cardinal_Empty" class="idref" href="#Properties.cardinal_Empty"><span class="id" title="lemma">cardinal_Empty</span></a> <a id="m:694" class="idref" href="#m:694"><span class="id" title="binder">m</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#Properties.Empty"><span class="id" title="definition">Empty</span></a> <a class="idref" href="MMaps.Facts.html#m:694"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.cardinal"><span class="id" title="axiom">cardinal</span></a> <a class="idref" href="MMaps.Facts.html#m:694"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.cardinal_1"><span class="id" title="lemma">cardinal_1</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.bindings_Empty"><span class="id" title="lemma">bindings_Empty</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">m</span>); <span class="id" title="tactic">intuition</span>; <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.Eqdom_cardinal" class="idref" href="#Properties.Eqdom_cardinal"><span class="id" title="lemma">Eqdom_cardinal</span></a> <a id="m:695" class="idref" href="#m:695"><span class="id" title="binder">m</span></a> <a id="m':696" class="idref" href="#m':696"><span class="id" title="binder">m'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.Eqdom"><span class="id" title="definition">Eqdom</span></a> <a class="idref" href="MMaps.Facts.html#m:695"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':696"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.cardinal"><span class="id" title="axiom">cardinal</span></a> <a class="idref" href="MMaps.Facts.html#m:695"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.Facts.html#M.cardinal"><span class="id" title="axiom">cardinal</span></a> <a class="idref" href="MMaps.Facts.html#m':696"><span class="id" title="variable">m'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="MMaps.Facts.html#Properties.cardinal_foldkeys"><span class="id" title="lemma">cardinal_foldkeys</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.foldkeys_Proper"><span class="id" title="lemma">foldkeys_Proper</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">eqA</span>:=<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Properties.cardinal_m" class="idref" href="#Properties.cardinal_m"><span class="id" title="instance">cardinal_m</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#M.Eqdom"><span class="id" title="definition">Eqdom</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a>) (@<a class="idref" href="MMaps.Facts.html#M.cardinal"><span class="id" title="axiom">cardinal</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">Hm</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.Eqdom_cardinal"><span class="id" title="lemma">Eqdom_cardinal</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.Equal_cardinal" class="idref" href="#Properties.Equal_cardinal"><span class="id" title="lemma">Equal_cardinal</span></a> <a id="m:697" class="idref" href="#m:697"><span class="id" title="binder">m</span></a> <a id="m':698" class="idref" href="#m':698"><span class="id" title="binder">m'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#m:697"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.Facts.html#m':698"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.cardinal"><span class="id" title="axiom">cardinal</span></a> <a class="idref" href="MMaps.Facts.html#m:697"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.Facts.html#M.cardinal"><span class="id" title="axiom">cardinal</span></a> <a class="idref" href="MMaps.Facts.html#m':698"><span class="id" title="variable">m'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.cardinal_0" class="idref" href="#Properties.cardinal_0"><span class="id" title="lemma">cardinal_0</span></a> <a id="m:699" class="idref" href="#m:699"><span class="id" title="binder">m</span></a> : <a class="idref" href="MMaps.Facts.html#Properties.Empty"><span class="id" title="definition">Empty</span></a> <a class="idref" href="MMaps.Facts.html#m:699"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.cardinal"><span class="id" title="axiom">cardinal</span></a> <a class="idref" href="MMaps.Facts.html#m:699"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#Properties.cardinal_Empty"><span class="id" title="lemma">cardinal_Empty</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.cardinal_empty" class="idref" href="#Properties.cardinal_empty"><span class="id" title="lemma">cardinal_empty</span></a> : <a class="idref" href="MMaps.Facts.html#M.cardinal"><span class="id" title="axiom">cardinal</span></a> (@<a class="idref" href="MMaps.Facts.html#M.empty"><span class="id" title="axiom">empty</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.cardinal_0"><span class="id" title="lemma">cardinal_0</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.empty_1"><span class="id" title="lemma">empty_1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.cardinal_S" class="idref" href="#Properties.cardinal_S"><span class="id" title="lemma">cardinal_S</span></a> <a id="m:700" class="idref" href="#m:700"><span class="id" title="binder">m</span></a> <a id="m':701" class="idref" href="#m':701"><span class="id" title="binder">m'</span></a> <a id="x:702" class="idref" href="#x:702"><span class="id" title="binder">x</span></a> <a id="e:703" class="idref" href="#e:703"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:702"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:700"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Add"><span class="id" title="definition">Add</span></a> <a class="idref" href="MMaps.Facts.html#x:702"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:703"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:700"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':701"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.cardinal"><span class="id" title="axiom">cardinal</span></a> <a class="idref" href="MMaps.Facts.html#m':701"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="MMaps.Facts.html#M.cardinal"><span class="id" title="axiom">cardinal</span></a> <a class="idref" href="MMaps.Facts.html#m:700"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="MMaps.Facts.html#Properties.cardinal_foldkeys"><span class="id" title="lemma">cardinal_foldkeys</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="keyword">with</span> ((<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a>) <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MMaps.Facts.html#Properties.foldkeys_Add"><span class="id" title="lemma">foldkeys_Add</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">eqA</span>:=<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>); <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> *; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.cardinal_notin_add" class="idref" href="#Properties.cardinal_notin_add"><span class="id" title="lemma">cardinal_notin_add</span></a> <a id="m:704" class="idref" href="#m:704"><span class="id" title="binder">m</span></a> <a id="x:705" class="idref" href="#x:705"><span class="id" title="binder">x</span></a> <a id="e:706" class="idref" href="#e:706"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:705"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:704"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.cardinal"><span class="id" title="axiom">cardinal</span></a> (<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#x:705"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:706"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:704"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="MMaps.Facts.html#M.cardinal"><span class="id" title="axiom">cardinal</span></a> <a class="idref" href="MMaps.Facts.html#m:704"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">NI</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MMaps.Facts.html#Properties.cardinal_S"><span class="id" title="lemma">cardinal_S</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MMaps.Facts.html#Properties.Add_add"><span class="id" title="lemma">Add_add</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.Eqdom_in_add" class="idref" href="#Properties.Eqdom_in_add"><span class="id" title="lemma">Eqdom_in_add</span></a> <a id="m:707" class="idref" href="#m:707"><span class="id" title="binder">m</span></a> <a id="x:708" class="idref" href="#x:708"><span class="id" title="binder">x</span></a> <a id="e:709" class="idref" href="#e:709"><span class="id" title="binder">e</span></a> : <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:708"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:707"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.Eqdom"><span class="id" title="definition">Eqdom</span></a> <a class="idref" href="MMaps.Facts.html#m:707"><span class="id" title="variable">m</span></a> (<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#x:708"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:709"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:707"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">IN</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.add_in_iff"><span class="id" title="lemma">add_in_iff</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">E</span>|<span class="id" title="var">IN'</span>]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.cardinal_In_Add" class="idref" href="#Properties.cardinal_In_Add"><span class="id" title="lemma">cardinal_In_Add</span></a> <a id="m:710" class="idref" href="#m:710"><span class="id" title="binder">m</span></a> <a id="m':711" class="idref" href="#m':711"><span class="id" title="binder">m'</span></a> <a id="x:712" class="idref" href="#x:712"><span class="id" title="binder">x</span></a> <a id="e:713" class="idref" href="#e:713"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:712"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:710"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Add"><span class="id" title="definition">Add</span></a> <a class="idref" href="MMaps.Facts.html#x:712"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:713"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:710"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':711"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.cardinal"><span class="id" title="axiom">cardinal</span></a> <a class="idref" href="MMaps.Facts.html#m':711"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.Facts.html#M.cardinal"><span class="id" title="axiom">cardinal</span></a> <a class="idref" href="MMaps.Facts.html#m:710"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">IN</span> <span class="id" title="var">AD</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.Eqdom_cardinal"><span class="id" title="lemma">Eqdom_cardinal</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.Equal_Eqdom"><span class="id" title="instance">Equal_Eqdom</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">AD</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">AD</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#Properties.Eqdom_in_add"><span class="id" title="lemma">Eqdom_in_add</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.cardinal_in_add" class="idref" href="#Properties.cardinal_in_add"><span class="id" title="lemma">cardinal_in_add</span></a> <a id="m:714" class="idref" href="#m:714"><span class="id" title="binder">m</span></a> <a id="x:715" class="idref" href="#x:715"><span class="id" title="binder">x</span></a> <a id="e:716" class="idref" href="#e:716"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:715"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:714"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.cardinal"><span class="id" title="axiom">cardinal</span></a> (<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#x:715"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:716"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:714"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.Facts.html#M.cardinal"><span class="id" title="axiom">cardinal</span></a> <a class="idref" href="MMaps.Facts.html#m:714"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">IN</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="MMaps.Facts.html#Properties.cardinal_In_Add"><span class="id" title="lemma">cardinal_In_Add</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MMaps.Facts.html#Properties.Add_add"><span class="id" title="lemma">Add_add</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.cardinal_inv_1" class="idref" href="#Properties.cardinal_inv_1"><span class="id" title="lemma">cardinal_inv_1</span></a> <a id="m:717" class="idref" href="#m:717"><span class="id" title="binder">m</span></a> : <a class="idref" href="MMaps.Facts.html#M.cardinal"><span class="id" title="axiom">cardinal</span></a> <a class="idref" href="MMaps.Facts.html#m:717"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Empty"><span class="id" title="definition">Empty</span></a> <a class="idref" href="MMaps.Facts.html#m:717"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.cardinal_Empty"><span class="id" title="lemma">cardinal_Empty</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">cardinal_inv_1</span> : <span class="id" title="var">map</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.cardinal_inv_2" class="idref" href="#Properties.cardinal_inv_2"><span class="id" title="lemma">cardinal_inv_2</span></a> <a id="m:718" class="idref" href="#m:718"><span class="id" title="binder">m</span></a> <a id="n:719" class="idref" href="#n:719"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.cardinal"><span class="id" title="axiom">cardinal</span></a> <a class="idref" href="MMaps.Facts.html#m:718"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="MMaps.Facts.html#n:719"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a> <a id="p:720" class="idref" href="#p:720"><span class="id" title="binder">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MMaps.Facts.html#p:720"><span class="id" title="variable">p</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MMaps.Facts.html#p:720"><span class="id" title="variable">p</span></a>) <a class="idref" href="MMaps.Facts.html#m:718"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#M.cardinal_spec"><span class="id" title="axiom">M.cardinal_spec</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MMaps.Facts.html#Properties.bindings_mapsto_iff"><span class="id" title="lemma">bindings_mapsto_iff</span></a> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">m</span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">compute</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.cardinal_inv_2b" class="idref" href="#Properties.cardinal_inv_2b"><span class="id" title="lemma">cardinal_inv_2b</span></a> <a id="m:721" class="idref" href="#m:721"><span class="id" title="binder">m</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.cardinal"><span class="id" title="axiom">cardinal</span></a> <a class="idref" href="MMaps.Facts.html#m:721"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a> <a id="p:722" class="idref" href="#p:722"><span class="id" title="binder">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MMaps.Facts.html#p:722"><span class="id" title="variable">p</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MMaps.Facts.html#p:722"><span class="id" title="variable">p</span></a>) <a class="idref" href="MMaps.Facts.html#m:721"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (@<a class="idref" href="MMaps.Facts.html#Properties.cardinal_inv_2"><span class="id" title="lemma">cardinal_inv_2</span></a> <span class="id" title="var">m</span>); <span class="id" title="tactic">destruct</span> <a class="idref" href="MMaps.Facts.html#M.cardinal"><span class="id" title="axiom">cardinal</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span> <span class="id" title="var">H</span>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.cardinal_inv_in" class="idref" href="#Properties.cardinal_inv_in"><span class="id" title="lemma">cardinal_inv_in</span></a> <a id="m:723" class="idref" href="#m:723"><span class="id" title="binder">m</span></a> : <a class="idref" href="MMaps.Facts.html#M.cardinal"><span class="id" title="axiom">cardinal</span></a> <a class="idref" href="MMaps.Facts.html#m:723"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> 0 <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">{</span></a> <a id="k:724" class="idref" href="#k:724"><span class="id" title="binder">k</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">|</span></a> <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#k:724"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#m:723"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#Properties.cardinal_inv_2b"><span class="id" title="lemma">cardinal_inv_2b</span></a> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> ((<span class="id" title="var">k</span>,<span class="id" title="var">e</span>),<span class="id" title="var">M</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">k</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.not_empty_mapsto" class="idref" href="#Properties.not_empty_mapsto"><span class="id" title="lemma">not_empty_mapsto</span></a> <a id="m:725" class="idref" href="#m:725"><span class="id" title="binder">m</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#Properties.Empty"><span class="id" title="definition">Empty</span></a> <a class="idref" href="MMaps.Facts.html#m:725"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="k:726" class="idref" href="#k:726"><span class="id" title="binder">k</span></a> <a id="e:727" class="idref" href="#e:727"><span class="id" title="binder">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#k:726"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:727"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:725"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (@<a class="idref" href="MMaps.Facts.html#Properties.cardinal_inv_2b"><span class="id" title="lemma">cardinal_inv_2b</span></a> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> ((<span class="id" title="var">k</span>,<span class="id" title="var">e</span>),<span class="id" title="var">H'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.cardinal_inv_1"><span class="id" title="lemma">cardinal_inv_1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">k</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.not_empty_in" class="idref" href="#Properties.not_empty_in"><span class="id" title="lemma">not_empty_in</span></a> <a id="m:728" class="idref" href="#m:728"><span class="id" title="binder">m</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#Properties.Empty"><span class="id" title="definition">Empty</span></a> <a class="idref" href="MMaps.Facts.html#m:728"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="k:729" class="idref" href="#k:729"><span class="id" title="binder">k</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#k:729"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#m:728"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#Properties.not_empty_mapsto"><span class="id" title="lemma">not_empty_mapsto</span></a> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">k</span>,<span class="id" title="var">Hk</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.is_empty_bindings" class="idref" href="#Properties.is_empty_bindings"><span class="id" title="lemma">is_empty_bindings</span></a> <a id="m:730" class="idref" href="#m:730"><span class="id" title="binder">m</span></a> : <a class="idref" href="MMaps.Facts.html#M.is_empty"><span class="id" title="axiom">is_empty</span></a> <a class="idref" href="MMaps.Facts.html#m:730"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#m:730"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#Properties.is_empty_iff"><span class="id" title="lemma">is_empty_iff</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.cardinal_Empty"><span class="id" title="lemma">cardinal_Empty</span></a>, <a class="idref" href="MMaps.Facts.html#M.cardinal_spec"><span class="id" title="axiom">cardinal_spec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.is_empty_no_binding" class="idref" href="#Properties.is_empty_no_binding"><span class="id" title="lemma">is_empty_no_binding</span></a> <a id="m:731" class="idref" href="#m:731"><span class="id" title="binder">m</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.is_empty"><span class="id" title="axiom">is_empty</span></a> <a class="idref" href="MMaps.Facts.html#m:731"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:732" class="idref" href="#x:732"><span class="id" title="binder">x</span></a> <a id="e:733" class="idref" href="#e:733"><span class="id" title="binder">e</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#x:732"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.Facts.html#e:733"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#m:731"><span class="id" title="variable">m</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.is_empty_bindings"><span class="id" title="lemma">is_empty_bindings</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> [|(<span class="id" title="var">x</span>,<span class="id" title="var">e</span>) <span class="id" title="var">l</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">firstorder</span>. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">H</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.not_empty_has_binding" class="idref" href="#Properties.not_empty_has_binding"><span class="id" title="lemma">not_empty_has_binding</span></a> <a id="m:734" class="idref" href="#m:734"><span class="id" title="binder">m</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.is_empty"><span class="id" title="axiom">is_empty</span></a> <a class="idref" href="MMaps.Facts.html#m:734"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="x:735" class="idref" href="#x:735"><span class="id" title="binder">x</span></a> <a id="e:736" class="idref" href="#e:736"><span class="id" title="binder">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#x:735"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.Facts.html#e:736"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#m:734"><span class="id" title="variable">m</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Bool.Bool.html#not_true_iff_false"><span class="id" title="lemma">not_true_iff_false</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.is_empty_bindings"><span class="id" title="lemma">is_empty_bindings</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> [|(<span class="id" title="var">x</span>,<span class="id" title="var">e</span>) <span class="id" title="var">l</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">firstorder</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>, <span class="id" title="var">e</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab23"></a><h3 class="section">Properties about filter, partition, for_all, and exists_</h3>

<div class="paragraph"> </div>

 First, alternative formulations, e.g. based on fold,
      or on filter for the other operations 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.filter_alt" class="idref" href="#Properties.filter_alt"><span class="id" title="lemma">filter_alt</span></a> (<a id="f:737" class="idref" href="#f:737"><span class="id" title="binder">f</span></a>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <a id="m:738" class="idref" href="#m:738"><span class="id" title="binder">m</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.filter"><span class="id" title="axiom">filter</span></a> <a class="idref" href="MMaps.Facts.html#f:737"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:738"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> (<span class="id" title="keyword">fun</span> <a id="k:739" class="idref" href="#k:739"><span class="id" title="binder">k</span></a> <a id="e:740" class="idref" href="#e:740"><span class="id" title="binder">e</span></a> <a id="m:741" class="idref" href="#m:741"><span class="id" title="binder">m</span></a> ⇒ <span class="id" title="keyword">if</span> <a class="idref" href="MMaps.Facts.html#f:737"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#k:739"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:740"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#k:739"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:740"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:741"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="MMaps.Facts.html#m:741"><span class="id" title="variable">m</span></a>) <a class="idref" href="MMaps.Facts.html#m:738"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#M.empty"><span class="id" title="axiom">empty</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.fold_spec_right"><span class="id" title="lemma">fold_spec_right</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.bindings_o"><span class="id" title="lemma">bindings_o</span></a>, <a class="idref" href="MMaps.Facts.html#M.filter_spec"><span class="id" title="axiom">filter_spec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.findA_rev"><span class="id" title="lemma">findA_rev</span></a>, <a class="idref" href="MMaps.Utils.html#filter_rev"><span class="id" title="lemma">filter_rev</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Utils.html#NoDupA_filter"><span class="id" title="lemma">NoDupA_filter</span></a>, <a class="idref" href="MMaps.Facts.html#M.bindings_spec2w"><span class="id" title="axiom">bindings_spec2w</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> <a class="idref" href="MMaps.Facts.html#K.t"><span class="id" title="axiom">K.t</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">m</span>)) <span class="id" title="keyword">as</span> [|(<span class="id" title="var">y</span>,<span class="id" title="var">e</span>) <span class="id" title="var">l</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.empty_o"><span class="id" title="lemma">empty_o</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.uncurry"><span class="id" title="definition">uncurry</span></a> <span class="id" title="tactic">at</span> 1; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">f</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">E</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">destruct</span> <a class="idref" href="MMaps.Facts.html#K.eq_dec"><span class="id" title="axiom">K.eq_dec</span></a> <span class="id" title="keyword">as</span> [-&gt;|<span class="id" title="var">NE</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#M.add_spec1"><span class="id" title="axiom">add_spec1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#M.add_spec2"><span class="id" title="axiom">add_spec2</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">now</span> <span class="id" title="var">contradict</span> <span class="id" title="var">NE</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.for_all_alt" class="idref" href="#Properties.for_all_alt"><span class="id" title="lemma">for_all_alt</span></a> (<a id="f:742" class="idref" href="#f:742"><span class="id" title="binder">f</span></a>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <a id="m:743" class="idref" href="#m:743"><span class="id" title="binder">m</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.for_all"><span class="id" title="axiom">for_all</span></a> <a class="idref" href="MMaps.Facts.html#f:742"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:743"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.Facts.html#M.is_empty"><span class="id" title="axiom">is_empty</span></a> (<a class="idref" href="MMaps.Facts.html#M.filter"><span class="id" title="axiom">filter</span></a> (<span class="id" title="keyword">fun</span> <a id="k:744" class="idref" href="#k:744"><span class="id" title="binder">k</span></a> <a id="e:745" class="idref" href="#e:745"><span class="id" title="binder">e</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="MMaps.Facts.html#f:742"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#k:744"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:745"><span class="id" title="variable">e</span></a>)) <a class="idref" href="MMaps.Facts.html#m:743"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Utils.html#eq_bool_alt"><span class="id" title="lemma">eq_bool_alt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#M.for_all_spec"><span class="id" title="axiom">for_all_spec</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#forallb_forall"><span class="id" title="lemma">forallb_forall</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.is_empty_no_binding"><span class="id" title="lemma">is_empty_no_binding</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MMaps.Facts.html#M.filter_spec"><span class="id" title="axiom">filter_spec</span></a>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#filter_In"><span class="id" title="lemma">filter_In</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> (<span class="id" title="var">IN</span>,<span class="id" title="var">E</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">H</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> (<span class="id" title="var">x</span>,<span class="id" title="var">e</span>) <span class="id" title="var">IN</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span>). <span class="id" title="tactic">destruct</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">F</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.for_all_alt2" class="idref" href="#Properties.for_all_alt2"><span class="id" title="lemma">for_all_alt2</span></a> (<a id="f:746" class="idref" href="#f:746"><span class="id" title="binder">f</span></a> : <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <a id="m:747" class="idref" href="#m:747"><span class="id" title="binder">m</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.for_all"><span class="id" title="axiom">for_all</span></a> <a class="idref" href="MMaps.Facts.html#f:746"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:747"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> (<span class="id" title="keyword">fun</span> <a id="k:748" class="idref" href="#k:748"><span class="id" title="binder">k</span></a> <a id="e:749" class="idref" href="#e:749"><span class="id" title="binder">e</span></a> <a id="b:750" class="idref" href="#b:750"><span class="id" title="binder">b</span></a> ⇒ <span class="id" title="keyword">if</span> <a class="idref" href="MMaps.Facts.html#f:746"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#k:748"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:749"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="MMaps.Facts.html#b:750"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>) <a class="idref" href="MMaps.Facts.html#m:747"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#M.for_all_spec"><span class="id" title="axiom">for_all_spec</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.fold_spec_right"><span class="id" title="lemma">fold_spec_right</span></a>, &lt;- <a class="idref" href="MMaps.Utils.html#forallb_rev"><span class="id" title="lemma">forallb_rev</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">m</span>)) <span class="id" title="keyword">as</span> [|(<span class="id" title="var">x</span>,<span class="id" title="var">e</span>) <span class="id" title="var">l</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.uncurry"><span class="id" title="definition">uncurry</span></a> <span class="id" title="tactic">at</span> 1; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.exists_alt" class="idref" href="#Properties.exists_alt"><span class="id" title="lemma">exists_alt</span></a> (<a id="f:751" class="idref" href="#f:751"><span class="id" title="binder">f</span></a>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <a id="m:752" class="idref" href="#m:752"><span class="id" title="binder">m</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.exists_"><span class="id" title="axiom">exists_</span></a> <a class="idref" href="MMaps.Facts.html#f:751"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:752"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="MMaps.Facts.html#M.is_empty"><span class="id" title="axiom">is_empty</span></a> (<a class="idref" href="MMaps.Facts.html#M.filter"><span class="id" title="axiom">filter</span></a> <a class="idref" href="MMaps.Facts.html#f:751"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:752"><span class="id" title="variable">m</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Utils.html#eq_bool_alt"><span class="id" title="lemma">eq_bool_alt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#M.exists_spec"><span class="id" title="axiom">exists_spec</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#existsb_exists"><span class="id" title="lemma">existsb_exists</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Bool.Bool.html#negb_true_iff"><span class="id" title="lemma">negb_true_iff</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.not_empty_has_binding"><span class="id" title="lemma">not_empty_has_binding</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MMaps.Facts.html#M.filter_spec"><span class="id" title="axiom">filter_spec</span></a>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#filter_In"><span class="id" title="lemma">filter_In</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> ((<span class="id" title="var">x</span>,<span class="id" title="var">e</span>) &amp; <span class="id" title="var">IN</span> &amp; <span class="id" title="var">E</span>). <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> (<span class="id" title="var">x</span> &amp; <span class="id" title="var">e</span> &amp; <span class="id" title="var">IN</span> &amp; <span class="id" title="var">E</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.exists_alt2" class="idref" href="#Properties.exists_alt2"><span class="id" title="lemma">exists_alt2</span></a> (<a id="f:753" class="idref" href="#f:753"><span class="id" title="binder">f</span></a> : <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <a id="m:754" class="idref" href="#m:754"><span class="id" title="binder">m</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.exists_"><span class="id" title="axiom">exists_</span></a> <a class="idref" href="MMaps.Facts.html#f:753"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:754"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> (<span class="id" title="keyword">fun</span> <a id="k:755" class="idref" href="#k:755"><span class="id" title="binder">k</span></a> <a id="e:756" class="idref" href="#e:756"><span class="id" title="binder">e</span></a> <a id="b:757" class="idref" href="#b:757"><span class="id" title="binder">b</span></a> ⇒ <span class="id" title="keyword">if</span> <a class="idref" href="MMaps.Facts.html#f:753"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#k:755"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:756"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="MMaps.Facts.html#b:757"><span class="id" title="variable">b</span></a>) <a class="idref" href="MMaps.Facts.html#m:754"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#M.exists_spec"><span class="id" title="axiom">exists_spec</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.fold_spec_right"><span class="id" title="lemma">fold_spec_right</span></a>, &lt;- <a class="idref" href="MMaps.Utils.html#existsb_rev"><span class="id" title="lemma">existsb_rev</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">m</span>)) <span class="id" title="keyword">as</span> [|(<span class="id" title="var">x</span>,<span class="id" title="var">e</span>) <span class="id" title="var">l</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.uncurry"><span class="id" title="definition">uncurry</span></a> <span class="id" title="tactic">at</span> 1; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.partition_alt1" class="idref" href="#Properties.partition_alt1"><span class="id" title="lemma">partition_alt1</span></a> (<a id="f:758" class="idref" href="#f:758"><span class="id" title="binder">f</span></a>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <a id="m:759" class="idref" href="#m:759"><span class="id" title="binder">m</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="MMaps.Facts.html#M.partition"><span class="id" title="axiom">partition</span></a> <a class="idref" href="MMaps.Facts.html#f:758"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:759"><span class="id" title="variable">m</span></a>) <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.Facts.html#M.filter"><span class="id" title="axiom">filter</span></a> <a class="idref" href="MMaps.Facts.html#f:758"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:759"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#Properties.bindings_o"><span class="id" title="lemma">bindings_o</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">_</span>)) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="MMaps.Interface.html#prodmap"><span class="id" title="definition">prodmap</span></a> (@<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">_</span>) (<a class="idref" href="MMaps.Facts.html#M.partition"><span class="id" title="axiom">partition</span></a> <span class="id" title="var">f</span> <span class="id" title="var">m</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <a class="idref" href="MMaps.Facts.html#M.partition"><span class="id" title="axiom">partition</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#M.partition_spec"><span class="id" title="axiom">partition_spec</span></a>, <a class="idref" href="MMaps.Facts.html#M.filter_spec"><span class="id" title="axiom">filter_spec</span></a>, <a class="idref" href="MMaps.Utils.html#partition_filter"><span class="id" title="lemma">partition_filter</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.partition_alt2" class="idref" href="#Properties.partition_alt2"><span class="id" title="lemma">partition_alt2</span></a> (<a id="f:760" class="idref" href="#f:760"><span class="id" title="binder">f</span></a>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <a id="m:761" class="idref" href="#m:761"><span class="id" title="binder">m</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="MMaps.Facts.html#M.partition"><span class="id" title="axiom">partition</span></a> <a class="idref" href="MMaps.Facts.html#f:760"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:761"><span class="id" title="variable">m</span></a>) <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.Facts.html#M.filter"><span class="id" title="axiom">filter</span></a> (<span class="id" title="keyword">fun</span> <a id="k:762" class="idref" href="#k:762"><span class="id" title="binder">k</span></a> <a id="e:763" class="idref" href="#e:763"><span class="id" title="binder">e</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="MMaps.Facts.html#f:760"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#k:762"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:763"><span class="id" title="variable">e</span></a>)) <a class="idref" href="MMaps.Facts.html#m:761"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#Properties.bindings_o"><span class="id" title="lemma">bindings_o</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="var">_</span>)) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="MMaps.Interface.html#prodmap"><span class="id" title="definition">prodmap</span></a> (@<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">_</span>) (<a class="idref" href="MMaps.Facts.html#M.partition"><span class="id" title="axiom">partition</span></a> <span class="id" title="var">f</span> <span class="id" title="var">m</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <a class="idref" href="MMaps.Facts.html#M.partition"><span class="id" title="axiom">partition</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#M.partition_spec"><span class="id" title="axiom">partition_spec</span></a>, <a class="idref" href="MMaps.Facts.html#M.filter_spec"><span class="id" title="axiom">filter_spec</span></a>, <a class="idref" href="MMaps.Utils.html#partition_filter"><span class="id" title="lemma">partition_filter</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#filter_ext"><span class="id" title="lemma">filter_ext</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> (<span class="id" title="var">x</span>,<span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Morphisms 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Properties.filter_m" class="idref" href="#Properties.filter_m"><span class="id" title="instance">filter_m</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)==&gt;</span></a><a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a>) (@<a class="idref" href="MMaps.Facts.html#M.filter"><span class="id" title="axiom">filter</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">Hf</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">Hm</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Utils.html#eq_option_alt"><span class="id" title="lemma">eq_option_alt</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>, &lt;- !<a class="idref" href="MMaps.Facts.html#M.bindings_spec1"><span class="id" title="axiom">bindings_spec1</span></a>, !<a class="idref" href="MMaps.Facts.html#M.filter_spec"><span class="id" title="axiom">filter_spec</span></a>, !<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#filter_In"><span class="id" title="lemma">filter_In</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> ((<span class="id" title="var">x</span>,<span class="id" title="var">e'</span>) &amp; (<span class="id" title="var">H</span>,<span class="id" title="var">H'</span>) &amp; <span class="id" title="var">IN</span> &amp; <span class="id" title="var">F</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">subst</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">FD</span> : <a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>, <a class="idref" href="MMaps.Facts.html#M.bindings_spec1"><span class="id" title="axiom">bindings_spec1</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm</span> <span class="id" title="tactic">in</span> <span class="id" title="var">FD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>, <a class="idref" href="MMaps.Facts.html#M.bindings_spec1"><span class="id" title="axiom">bindings_spec1</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">FD</span> <span class="id" title="keyword">as</span> ((<span class="id" title="var">x'</span>,<span class="id" title="var">e'</span>) &amp; (<span class="id" title="var">H'</span>,<span class="id" title="var">H2</span>) &amp; <span class="id" title="var">IN'</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x'</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">F</span>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> ((<span class="id" title="var">x</span>,<span class="id" title="var">e'</span>) &amp; (<span class="id" title="var">H</span>,<span class="id" title="var">H'</span>) &amp; <span class="id" title="var">IN</span> &amp; <span class="id" title="var">F</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">subst</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">FD</span> : <a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m'</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>, <a class="idref" href="MMaps.Facts.html#M.bindings_spec1"><span class="id" title="axiom">bindings_spec1</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hm</span> <span class="id" title="tactic">in</span> <span class="id" title="var">FD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>, <a class="idref" href="MMaps.Facts.html#M.bindings_spec1"><span class="id" title="axiom">bindings_spec1</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">FD</span> <span class="id" title="keyword">as</span> ((<span class="id" title="var">x'</span>,<span class="id" title="var">e'</span>) &amp; (<span class="id" title="var">H'</span>,<span class="id" title="var">H2</span>) &amp; <span class="id" title="var">IN'</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x'</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">F</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Properties.for_all_m" class="idref" href="#Properties.for_all_m"><span class="id" title="instance">for_all_m</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)==&gt;</span></a><a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a>) (@<a class="idref" href="MMaps.Facts.html#M.for_all"><span class="id" title="axiom">for_all</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">Hf</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#Properties.for_all_alt"><span class="id" title="lemma">for_all_alt</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.is_empty_m"><span class="id" title="instance">is_empty_m</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.Equal_Eqdom"><span class="id" title="instance">Equal_Eqdom</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.filter_m"><span class="id" title="instance">filter_m</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">Hx</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span> &lt;-. <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Properties.exists_m" class="idref" href="#Properties.exists_m"><span class="id" title="instance">exists_m</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)==&gt;</span></a><a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a>) (@<a class="idref" href="MMaps.Facts.html#M.exists_"><span class="id" title="axiom">exists_</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">Hf</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#Properties.exists_alt"><span class="id" title="lemma">exists_alt</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.is_empty_m"><span class="id" title="instance">is_empty_m</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.Equal_Eqdom"><span class="id" title="instance">Equal_Eqdom</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.filter_m"><span class="id" title="instance">filter_m</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Statements in terms of MapsTo or find. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.filter_iff" class="idref" href="#Properties.filter_iff"><span class="id" title="lemma">filter_iff</span></a> (<a id="f:764" class="idref" href="#f:764"><span class="id" title="binder">f</span></a> : <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) <a class="idref" href="MMaps.Facts.html#f:764"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="m:765" class="idref" href="#m:765"><span class="id" title="binder">m</span></a> <a id="k:766" class="idref" href="#k:766"><span class="id" title="binder">k</span></a> <a id="e:767" class="idref" href="#e:767"><span class="id" title="binder">e</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#k:766"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:767"><span class="id" title="variable">e</span></a> (<a class="idref" href="MMaps.Facts.html#M.filter"><span class="id" title="axiom">filter</span></a> <a class="idref" href="MMaps.Facts.html#f:764"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:765"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#k:766"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:767"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:765"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MMaps.Facts.html#f:764"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#k:766"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:767"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">E</span> <span class="id" title="var">m</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="MMaps.Facts.html#M.bindings_spec1"><span class="id" title="axiom">bindings_spec1</span></a>, <a class="idref" href="MMaps.Facts.html#M.filter_spec"><span class="id" title="axiom">filter_spec</span></a>, !<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#filter_In"><span class="id" title="lemma">filter_In</span></a>. <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">k'</span>,<span class="id" title="var">e'</span>); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">E</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">k'</span>,<span class="id" title="var">e'</span>); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">k'</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e'</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="var">easy</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">E</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.filter_find" class="idref" href="#Properties.filter_find"><span class="id" title="lemma">filter_find</span></a> (<a id="f:768" class="idref" href="#f:768"><span class="id" title="binder">f</span></a> : <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) <a class="idref" href="MMaps.Facts.html#f:768"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="m:769" class="idref" href="#m:769"><span class="id" title="binder">m</span></a> <a id="x:770" class="idref" href="#x:770"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:770"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.Facts.html#M.filter"><span class="id" title="axiom">filter</span></a> <a class="idref" href="MMaps.Facts.html#f:768"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:769"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Utils.html#option_bind"><span class="id" title="definition">option_bind</span></a> (<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:770"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:769"><span class="id" title="variable">m</span></a>) (<span class="id" title="keyword">fun</span> <a id="e:771" class="idref" href="#e:771"><span class="id" title="binder">e</span></a> ⇒ <span class="id" title="keyword">if</span> <a class="idref" href="MMaps.Facts.html#f:768"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#x:770"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:771"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MMaps.Facts.html#e:771"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">E</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Utils.html#eq_option_alt"><span class="id" title="lemma">eq_option_alt</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.filter_iff"><span class="id" title="lemma">filter_iff</span></a>, &lt;- <a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> (-&gt; &amp; <span class="id" title="var">H'</span>). <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">f</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">F</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> [= -&gt;].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.partition_iff1" class="idref" href="#Properties.partition_iff1"><span class="id" title="lemma">partition_iff1</span></a> (<a id="f:772" class="idref" href="#f:772"><span class="id" title="binder">f</span></a>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) <a class="idref" href="MMaps.Facts.html#f:772"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="m:773" class="idref" href="#m:773"><span class="id" title="binder">m</span></a> <a id="k:774" class="idref" href="#k:774"><span class="id" title="binder">k</span></a> <a id="e:775" class="idref" href="#e:775"><span class="id" title="binder">e</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#k:774"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:775"><span class="id" title="variable">e</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="MMaps.Facts.html#M.partition"><span class="id" title="axiom">partition</span></a> <a class="idref" href="MMaps.Facts.html#f:772"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:773"><span class="id" title="variable">m</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#k:774"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:775"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:773"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MMaps.Facts.html#f:772"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#k:774"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:775"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.partition_alt1"><span class="id" title="lemma">partition_alt1</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.filter_iff"><span class="id" title="lemma">filter_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.partition_iff2" class="idref" href="#Properties.partition_iff2"><span class="id" title="lemma">partition_iff2</span></a> (<a id="f:776" class="idref" href="#f:776"><span class="id" title="binder">f</span></a>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) <a class="idref" href="MMaps.Facts.html#f:776"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="m:777" class="idref" href="#m:777"><span class="id" title="binder">m</span></a> <a id="k:778" class="idref" href="#k:778"><span class="id" title="binder">k</span></a> <a id="e:779" class="idref" href="#e:779"><span class="id" title="binder">e</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#k:778"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:779"><span class="id" title="variable">e</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="MMaps.Facts.html#M.partition"><span class="id" title="axiom">partition</span></a> <a class="idref" href="MMaps.Facts.html#f:776"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:777"><span class="id" title="variable">m</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#k:778"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:779"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:777"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MMaps.Facts.html#f:776"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#k:778"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:779"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.partition_alt2"><span class="id" title="lemma">partition_alt2</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.filter_iff"><span class="id" title="lemma">filter_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Bool.Bool.html#negb_true_iff"><span class="id" title="lemma">negb_true_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">H</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">Hx</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span> &lt;-. <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.for_all_iff" class="idref" href="#Properties.for_all_iff"><span class="id" title="lemma">for_all_iff</span></a> (<a id="f:780" class="idref" href="#f:780"><span class="id" title="binder">f</span></a>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) <a class="idref" href="MMaps.Facts.html#f:780"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="m:781" class="idref" href="#m:781"><span class="id" title="binder">m</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.for_all"><span class="id" title="axiom">for_all</span></a> <a class="idref" href="MMaps.Facts.html#f:780"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:781"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:782" class="idref" href="#x:782"><span class="id" title="binder">x</span></a> <a id="e:783" class="idref" href="#e:783"><span class="id" title="binder">e</span></a>, <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#x:782"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:783"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:781"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#f:780"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#x:782"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:783"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hf</span> <span class="id" title="var">m</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#M.for_all_spec"><span class="id" title="axiom">for_all_spec</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#forallb_forall"><span class="id" title="lemma">forallb_forall</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#M.bindings_spec1"><span class="id" title="axiom">bindings_spec1</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ((<span class="id" title="var">y</span>,<span class="id" title="var">e'</span>) &amp; (<span class="id" title="var">H1</span>,<span class="id" title="var">H2</span>) &amp; <span class="id" title="var">IN</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">IN</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hf</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> (<span class="id" title="var">x</span>,<span class="id" title="var">e</span>) <span class="id" title="var">IN</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#M.bindings_spec1"><span class="id" title="axiom">bindings_spec1</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.exists_iff" class="idref" href="#Properties.exists_iff"><span class="id" title="lemma">exists_iff</span></a> (<a id="f:784" class="idref" href="#f:784"><span class="id" title="binder">f</span></a>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) <a class="idref" href="MMaps.Facts.html#f:784"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="m:785" class="idref" href="#m:785"><span class="id" title="binder">m</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.exists_"><span class="id" title="axiom">exists_</span></a> <a class="idref" href="MMaps.Facts.html#f:784"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:785"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="x:786" class="idref" href="#x:786"><span class="id" title="binder">x</span></a> <a id="e:787" class="idref" href="#e:787"><span class="id" title="binder">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#x:786"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:787"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:785"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MMaps.Facts.html#f:784"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#x:786"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:787"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hf</span> <span class="id" title="var">m</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#M.exists_spec"><span class="id" title="axiom">exists_spec</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#existsb_exists"><span class="id" title="lemma">existsb_exists</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> ((<span class="id" title="var">x</span>,<span class="id" title="var">e</span>) &amp; <span class="id" title="var">IN</span> &amp; <span class="id" title="var">E</span>). <span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>, <span class="id" title="var">e</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#M.bindings_spec1"><span class="id" title="axiom">bindings_spec1</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a>; <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> (<span class="id" title="var">x</span> &amp; <span class="id" title="var">e</span> &amp; <span class="id" title="var">IN</span> &amp; <span class="id" title="var">E</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#M.bindings_spec1"><span class="id" title="axiom">bindings_spec1</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IN</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IN</span> <span class="id" title="keyword">as</span> ((<span class="id" title="var">y</span>,<span class="id" title="var">e'</span>) &amp; (<span class="id" title="var">H1</span>,<span class="id" title="var">H2</span>) &amp; <span class="id" title="var">IN</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hf</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
specialized versions analyzing only keys (resp. bindings) 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Properties.filter_dom" class="idref" href="#Properties.filter_dom"><span class="id" title="definition">filter_dom</span></a> (<a id="f:788" class="idref" href="#f:788"><span class="id" title="binder">f</span></a> : <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) := <a class="idref" href="MMaps.Facts.html#M.filter"><span class="id" title="axiom">filter</span></a> (<span class="id" title="keyword">fun</span> <a id="k:789" class="idref" href="#k:789"><span class="id" title="binder">k</span></a> <a id="e:790" class="idref" href="#e:790"><span class="id" title="binder">e</span></a> ⇒ <a class="idref" href="MMaps.Facts.html#f:788"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#k:789"><span class="id" title="variable">k</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Properties.filter_range" class="idref" href="#Properties.filter_range"><span class="id" title="definition">filter_range</span></a> (<a id="f:791" class="idref" href="#f:791"><span class="id" title="binder">f</span></a> : <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) := <a class="idref" href="MMaps.Facts.html#M.filter"><span class="id" title="axiom">filter</span></a> (<span class="id" title="keyword">fun</span> <a id="k:792" class="idref" href="#k:792"><span class="id" title="binder">k</span></a> ⇒ <a class="idref" href="MMaps.Facts.html#f:791"><span class="id" title="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Properties.for_all_dom" class="idref" href="#Properties.for_all_dom"><span class="id" title="definition">for_all_dom</span></a> (<a id="f:793" class="idref" href="#f:793"><span class="id" title="binder">f</span></a> : <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) := <a class="idref" href="MMaps.Facts.html#M.for_all"><span class="id" title="axiom">for_all</span></a> (<span class="id" title="keyword">fun</span> <a id="k:794" class="idref" href="#k:794"><span class="id" title="binder">k</span></a> <a id="e:795" class="idref" href="#e:795"><span class="id" title="binder">e</span></a> ⇒ <a class="idref" href="MMaps.Facts.html#f:793"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#k:794"><span class="id" title="variable">k</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Properties.for_all_range" class="idref" href="#Properties.for_all_range"><span class="id" title="definition">for_all_range</span></a> (<a id="f:796" class="idref" href="#f:796"><span class="id" title="binder">f</span></a> : <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) := <a class="idref" href="MMaps.Facts.html#M.for_all"><span class="id" title="axiom">for_all</span></a> (<span class="id" title="keyword">fun</span> <a id="k:797" class="idref" href="#k:797"><span class="id" title="binder">k</span></a> ⇒ <a class="idref" href="MMaps.Facts.html#f:796"><span class="id" title="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Properties.exists_dom" class="idref" href="#Properties.exists_dom"><span class="id" title="definition">exists_dom</span></a> (<a id="f:798" class="idref" href="#f:798"><span class="id" title="binder">f</span></a> : <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) := <a class="idref" href="MMaps.Facts.html#M.exists_"><span class="id" title="axiom">exists_</span></a> (<span class="id" title="keyword">fun</span> <a id="k:799" class="idref" href="#k:799"><span class="id" title="binder">k</span></a> <a id="e:800" class="idref" href="#e:800"><span class="id" title="binder">e</span></a> ⇒ <a class="idref" href="MMaps.Facts.html#f:798"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#k:799"><span class="id" title="variable">k</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Properties.exists_range" class="idref" href="#Properties.exists_range"><span class="id" title="definition">exists_range</span></a> (<a id="f:801" class="idref" href="#f:801"><span class="id" title="binder">f</span></a> : <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) := <a class="idref" href="MMaps.Facts.html#M.exists_"><span class="id" title="axiom">exists_</span></a> (<span class="id" title="keyword">fun</span> <a id="k:802" class="idref" href="#k:802"><span class="id" title="binder">k</span></a> ⇒ <a class="idref" href="MMaps.Facts.html#f:801"><span class="id" title="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Properties.partition_dom" class="idref" href="#Properties.partition_dom"><span class="id" title="definition">partition_dom</span></a> (<a id="f:803" class="idref" href="#f:803"><span class="id" title="binder">f</span></a> : <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) := <a class="idref" href="MMaps.Facts.html#M.partition"><span class="id" title="axiom">partition</span></a> (<span class="id" title="keyword">fun</span> <a id="k:804" class="idref" href="#k:804"><span class="id" title="binder">k</span></a> <a id="e:805" class="idref" href="#e:805"><span class="id" title="binder">e</span></a> ⇒ <a class="idref" href="MMaps.Facts.html#f:803"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#k:804"><span class="id" title="variable">k</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Properties.partition_range" class="idref" href="#Properties.partition_range"><span class="id" title="definition">partition_range</span></a> (<a id="f:806" class="idref" href="#f:806"><span class="id" title="binder">f</span></a> : <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) := <a class="idref" href="MMaps.Facts.html#M.partition"><span class="id" title="axiom">partition</span></a> (<span class="id" title="keyword">fun</span> <a id="k:807" class="idref" href="#k:807"><span class="id" title="binder">k</span></a> ⇒ <a class="idref" href="MMaps.Facts.html#f:806"><span class="id" title="variable">f</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab24"></a><h3 class="section">Extra predicates on maps: Disjoint and Partition</h3>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Properties.Disjoint" class="idref" href="#Properties.Disjoint"><span class="id" title="definition">Disjoint</span></a> <a id="m:808" class="idref" href="#m:808"><span class="id" title="binder">m</span></a> <a id="m':809" class="idref" href="#m':809"><span class="id" title="binder">m'</span></a> := <span class="id" title="keyword">∀</span> <a id="k:810" class="idref" href="#k:810"><span class="id" title="binder">k</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~(</span></a><a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#k:810"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#m:808"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#k:810"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#m':809"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Properties.Partition" class="idref" href="#Properties.Partition"><span class="id" title="definition">Partition</span></a> <a id="m:811" class="idref" href="#m:811"><span class="id" title="binder">m</span></a> <a id="m1:812" class="idref" href="#m1:812"><span class="id" title="binder">m1</span></a> <a id="m2:813" class="idref" href="#m2:813"><span class="id" title="binder">m2</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#Properties.Disjoint"><span class="id" title="definition">Disjoint</span></a> <a class="idref" href="MMaps.Facts.html#m1:812"><span class="id" title="variable">m1</span></a> <a class="idref" href="MMaps.Facts.html#m2:813"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="k:814" class="idref" href="#k:814"><span class="id" title="binder">k</span></a> <a id="e:815" class="idref" href="#e:815"><span class="id" title="binder">e</span></a>, <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#k:814"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:815"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:811"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#k:814"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:815"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m1:812"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#k:814"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:815"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m2:813"><span class="id" title="variable">m2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Properties.Disjoint_m" class="idref" href="#Properties.Disjoint_m"><span class="id" title="instance">Disjoint_m</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#M.Eqdom"><span class="id" title="definition">Eqdom</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MMaps.Facts.html#M.Eqdom"><span class="id" title="definition">Eqdom</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) <a class="idref" href="MMaps.Facts.html#Properties.Disjoint"><span class="id" title="definition">Disjoint</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m1</span> <span class="id" title="var">m1'</span> <span class="id" title="var">Hm1</span> <span class="id" title="var">m2</span> <span class="id" title="var">m2'</span> <span class="id" title="var">Hm2</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.Disjoint"><span class="id" title="definition">Disjoint</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hm1</span>, &lt;- <span class="id" title="var">Hm2</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm1</span>, <span class="id" title="var">Hm2</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Properties.Partition_m" class="idref" href="#Properties.Partition_m"><span class="id" title="instance">Partition_m</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) <a class="idref" href="MMaps.Facts.html#Properties.Partition"><span class="id" title="definition">Partition</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m1</span> <span class="id" title="var">m1'</span> <span class="id" title="var">Hm1</span> <span class="id" title="var">m2</span> <span class="id" title="var">m2'</span> <span class="id" title="var">Hm2</span> <span class="id" title="var">m3</span> <span class="id" title="var">m3'</span> <span class="id" title="var">Hm3</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.Partition"><span class="id" title="definition">Partition</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hm2</span>, &lt;- <span class="id" title="var">Hm3</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> (<span class="id" title="var">H</span>,<span class="id" title="var">H'</span>); <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hm1</span>, &lt;- <span class="id" title="var">Hm2</span>, &lt;- <span class="id" title="var">Hm3</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm1</span>, <span class="id" title="var">Hm2</span>, <span class="id" title="var">Hm3</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.Disjoint_alt" class="idref" href="#Properties.Disjoint_alt"><span class="id" title="lemma">Disjoint_alt</span></a> : <span class="id" title="keyword">∀</span> <a id="m:816" class="idref" href="#m:816"><span class="id" title="binder">m</span></a> <a id="m':817" class="idref" href="#m':817"><span class="id" title="binder">m'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#Properties.Disjoint"><span class="id" title="definition">Disjoint</span></a> <a class="idref" href="MMaps.Facts.html#m:816"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':817"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="k:818" class="idref" href="#k:818"><span class="id" title="binder">k</span></a> <a id="e:819" class="idref" href="#e:819"><span class="id" title="binder">e</span></a> <a id="e':820" class="idref" href="#e':820"><span class="id" title="binder">e'</span></a>, <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#k:818"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:819"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:816"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#k:818"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e':820"><span class="id" title="variable">e'</span></a> <a class="idref" href="MMaps.Facts.html#m':817"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.Disjoint"><span class="id" title="definition">Disjoint</span></a>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">k</span> <span class="id" title="var">v</span> <span class="id" title="var">v'</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span> <span class="id" title="keyword">with</span> <span class="id" title="var">k</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">v'</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">k</span> ((<span class="id" title="var">v</span>,<span class="id" title="var">Hv</span>),(<span class="id" title="var">v'</span>,<span class="id" title="var">Hv'</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.partition_Partition" class="idref" href="#Properties.partition_Partition"><span class="id" title="lemma">partition_Partition</span></a> (<a id="f:821" class="idref" href="#f:821"><span class="id" title="binder">f</span></a>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) <a class="idref" href="MMaps.Facts.html#f:821"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="m:822" class="idref" href="#m:822"><span class="id" title="binder">m</span></a> <a id="m1:823" class="idref" href="#m1:823"><span class="id" title="binder">m1</span></a> <a id="m2:824" class="idref" href="#m2:824"><span class="id" title="binder">m2</span></a>, <a class="idref" href="MMaps.Facts.html#M.partition"><span class="id" title="axiom">partition</span></a> <a class="idref" href="MMaps.Facts.html#f:821"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:822"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#m1:823"><span class="id" title="variable">m1</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.Facts.html#m2:824"><span class="id" title="variable">m2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Partition"><span class="id" title="definition">Partition</span></a> <a class="idref" href="MMaps.Facts.html#m:822"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m1:823"><span class="id" title="variable">m1</span></a> <a class="idref" href="MMaps.Facts.html#m2:824"><span class="id" title="variable">m2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hf</span> <span class="id" title="var">m</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">m1</span> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="MMaps.Facts.html#M.partition"><span class="id" title="axiom">partition</span></a> <span class="id" title="var">f</span> <span class="id" title="var">m</span>)) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">m2</span> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="MMaps.Facts.html#M.partition"><span class="id" title="axiom">partition</span></a> <span class="id" title="var">f</span> <span class="id" title="var">m</span>)) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">E</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.Disjoint_alt"><span class="id" title="lemma">Disjoint_alt</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.partition_iff1"><span class="id" title="lemma">partition_iff1</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.partition_iff2"><span class="id" title="lemma">partition_iff2</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">U</span>,<span class="id" title="var">V</span>) (<span class="id" title="var">W</span>,<span class="id" title="var">Z</span>). <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="MMaps.Facts.html#Properties.mapsto_fun"><span class="id" title="lemma">mapsto_fun</span></a> <span class="id" title="var">U</span> <span class="id" title="var">W</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Z</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.partition_iff1"><span class="id" title="lemma">partition_iff1</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.partition_iff2"><span class="id" title="lemma">partition_iff2</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">f</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span>); <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.Partition_In" class="idref" href="#Properties.Partition_In"><span class="id" title="lemma">Partition_In</span></a> <a id="m:825" class="idref" href="#m:825"><span class="id" title="binder">m</span></a> <a id="m1:826" class="idref" href="#m1:826"><span class="id" title="binder">m1</span></a> <a id="m2:827" class="idref" href="#m2:827"><span class="id" title="binder">m2</span></a> <a id="k:828" class="idref" href="#k:828"><span class="id" title="binder">k</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#Properties.Partition"><span class="id" title="definition">Partition</span></a> <a class="idref" href="MMaps.Facts.html#m:825"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m1:826"><span class="id" title="variable">m1</span></a> <a class="idref" href="MMaps.Facts.html#m2:827"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#k:828"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#m:825"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#k:828"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#m1:826"><span class="id" title="variable">m1</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}+{</span></a><a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#k:828"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#m2:827"><span class="id" title="variable">m2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span> <span class="id" title="var">Hk</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#Properties.In_dec"><span class="id" title="lemma">In_dec</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">k</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span>|<span class="id" title="var">H</span>]; [<span class="id" title="tactic">left</span>|<span class="id" title="tactic">right</span>]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hm</span>,<span class="id" title="var">Hm'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hk</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e</span>,<span class="id" title="var">He</span>); <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">He</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.Disjoint_sym" class="idref" href="#Properties.Disjoint_sym"><span class="id" title="lemma">Disjoint_sym</span></a> <a id="m1:829" class="idref" href="#m1:829"><span class="id" title="binder">m1</span></a> <a id="m2:830" class="idref" href="#m2:830"><span class="id" title="binder">m2</span></a> : <a class="idref" href="MMaps.Facts.html#Properties.Disjoint"><span class="id" title="definition">Disjoint</span></a> <a class="idref" href="MMaps.Facts.html#m1:829"><span class="id" title="variable">m1</span></a> <a class="idref" href="MMaps.Facts.html#m2:830"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Disjoint"><span class="id" title="definition">Disjoint</span></a> <a class="idref" href="MMaps.Facts.html#m2:830"><span class="id" title="variable">m2</span></a> <a class="idref" href="MMaps.Facts.html#m1:829"><span class="id" title="variable">m1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">k</span> (<span class="id" title="var">H1</span>,<span class="id" title="var">H2</span>). <span class="id" title="tactic">elim</span> (<span class="id" title="var">H</span> <span class="id" title="var">k</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.Partition_sym" class="idref" href="#Properties.Partition_sym"><span class="id" title="lemma">Partition_sym</span></a> <a id="m:831" class="idref" href="#m:831"><span class="id" title="binder">m</span></a> <a id="m1:832" class="idref" href="#m1:832"><span class="id" title="binder">m1</span></a> <a id="m2:833" class="idref" href="#m2:833"><span class="id" title="binder">m2</span></a> : <a class="idref" href="MMaps.Facts.html#Properties.Partition"><span class="id" title="definition">Partition</span></a> <a class="idref" href="MMaps.Facts.html#m:831"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m1:832"><span class="id" title="variable">m1</span></a> <a class="idref" href="MMaps.Facts.html#m2:833"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Partition"><span class="id" title="definition">Partition</span></a> <a class="idref" href="MMaps.Facts.html#m:831"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m2:833"><span class="id" title="variable">m2</span></a> <a class="idref" href="MMaps.Facts.html#m1:832"><span class="id" title="variable">m1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">H</span>,<span class="id" title="var">H'</span>); <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.Disjoint_sym"><span class="id" title="lemma">Disjoint_sym</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H'</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.Partition_Empty" class="idref" href="#Properties.Partition_Empty"><span class="id" title="lemma">Partition_Empty</span></a> <a id="m:834" class="idref" href="#m:834"><span class="id" title="binder">m</span></a> <a id="m1:835" class="idref" href="#m1:835"><span class="id" title="binder">m1</span></a> <a id="m2:836" class="idref" href="#m2:836"><span class="id" title="binder">m2</span></a> : <a class="idref" href="MMaps.Facts.html#Properties.Partition"><span class="id" title="definition">Partition</span></a> <a class="idref" href="MMaps.Facts.html#m:834"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m1:835"><span class="id" title="variable">m1</span></a> <a class="idref" href="MMaps.Facts.html#m2:836"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#Properties.Empty"><span class="id" title="definition">Empty</span></a> <a class="idref" href="MMaps.Facts.html#m:834"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Empty"><span class="id" title="definition">Empty</span></a> <a class="idref" href="MMaps.Facts.html#m1:835"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Empty"><span class="id" title="definition">Empty</span></a> <a class="idref" href="MMaps.Facts.html#m2:836"><span class="id" title="variable">m2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">Hdisj</span>,<span class="id" title="var">Heq</span>). <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span> <span class="id" title="var">Hke</span>; <span class="id" title="tactic">elim</span> (<span class="id" title="var">He</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span>); <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">He1</span>,<span class="id" title="var">He2</span>) <span class="id" title="var">k</span> <span class="id" title="var">e</span> <span class="id" title="var">Hke</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hke</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hke</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span> (<span class="id" title="var">He1</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span> (<span class="id" title="var">He2</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.Partition_Add" class="idref" href="#Properties.Partition_Add"><span class="id" title="lemma">Partition_Add</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="m:837" class="idref" href="#m:837"><span class="id" title="binder">m</span></a> <a id="m':838" class="idref" href="#m':838"><span class="id" title="binder">m'</span></a> <a id="x:839" class="idref" href="#x:839"><span class="id" title="binder">x</span></a> <a id="e:840" class="idref" href="#e:840"><span class="id" title="binder">e</span></a> , <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:839"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:837"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Add"><span class="id" title="definition">Add</span></a> <a class="idref" href="MMaps.Facts.html#x:839"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:840"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:837"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':838"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="m1:841" class="idref" href="#m1:841"><span class="id" title="binder">m1</span></a> <a id="m2:842" class="idref" href="#m2:842"><span class="id" title="binder">m2</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.Partition"><span class="id" title="definition">Partition</span></a> <a class="idref" href="MMaps.Facts.html#m':838"><span class="id" title="variable">m'</span></a> <a class="idref" href="MMaps.Facts.html#m1:841"><span class="id" title="variable">m1</span></a> <a class="idref" href="MMaps.Facts.html#m2:842"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="m3:843" class="idref" href="#m3:843"><span class="id" title="binder">m3</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#Properties.Add"><span class="id" title="definition">Add</span></a> <a class="idref" href="MMaps.Facts.html#x:839"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:840"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m3:843"><span class="id" title="variable">m3</span></a> <a class="idref" href="MMaps.Facts.html#m1:841"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Partition"><span class="id" title="definition">Partition</span></a> <a class="idref" href="MMaps.Facts.html#m:837"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m3:843"><span class="id" title="variable">m3</span></a> <a class="idref" href="MMaps.Facts.html#m2:842"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#Properties.Add"><span class="id" title="definition">Add</span></a> <a class="idref" href="MMaps.Facts.html#x:839"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:840"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m3:843"><span class="id" title="variable">m3</span></a> <a class="idref" href="MMaps.Facts.html#m2:842"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Partition"><span class="id" title="definition">Partition</span></a> <a class="idref" href="MMaps.Facts.html#m:837"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m1:841"><span class="id" title="variable">m1</span></a> <a class="idref" href="MMaps.Facts.html#m3:843"><span class="id" title="variable">m3</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.Partition"><span class="id" title="definition">Partition</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">Hn</span> <span class="id" title="var">Hadd</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> (<span class="id" title="var">Hdisj</span>,<span class="id" title="var">Hor</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Heq</span> : <span class="id" title="var">m</span> <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m'</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">change</span> (<span class="id" title="var">m'</span> <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">m</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hadd</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hadd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.remove_o"><span class="id" title="lemma">remove_o</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.add_o"><span class="id" title="lemma">add_o</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MMaps.Facts.html#K.eq_dec"><span class="id" title="axiom">K.eq_dec</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">He</span>|<span class="id" title="var">Hne</span>]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">He</span>, &lt;- <a class="idref" href="MMaps.Facts.html#Properties.not_find_in_iff"><span class="id" title="abbreviation">not_find_in_iff</span></a>; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H</span> : <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">m'</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">change</span> (<span class="id" title="var">m'</span> <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">m</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hadd</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hadd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.add_1"><span class="id" title="lemma">add_1</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hor</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;first&nbsp;case&nbsp;:&nbsp;x&nbsp;in&nbsp;m1&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m1</span>); <span class="id" title="tactic">left</span>. <span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;add&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">m1</span> <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <span class="id" title="var">x</span> <span class="id" title="var">e</span> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.add_o"><span class="id" title="lemma">add_o</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.remove_o"><span class="id" title="lemma">remove_o</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MMaps.Facts.html#K.eq_dec"><span class="id" title="axiom">K.eq_dec</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">He</span>|<span class="id" title="var">Hne</span>]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">He</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.find_1"><span class="id" title="lemma">find_1</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;disjoint&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> (<span class="id" title="var">H1</span>,<span class="id" title="var">H2</span>). <span class="id" title="tactic">elim</span> (<span class="id" title="var">Hdisj</span> <span class="id" title="var">k</span>). <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.remove_in_iff"><span class="id" title="lemma">remove_in_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;mapsto&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k'</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>, 2 <a class="idref" href="MMaps.Facts.html#Properties.remove_mapsto_iff"><span class="id" title="lemma">remove_mapsto_iff</span></a>, <span class="id" title="var">Hor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span> (<span class="id" title="var">Hdisj</span> <span class="id" title="var">x</span>); <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>|<span class="id" title="tactic">∃</span> <span class="id" title="var">e'</span>]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.MapsTo_1"><span class="id" title="lemma">MapsTo_1</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">k'</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;second&nbsp;case&nbsp;:&nbsp;x&nbsp;in&nbsp;m2&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m2</span>); <span class="id" title="tactic">right</span>. <span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;add&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">m2</span> <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <span class="id" title="var">x</span> <span class="id" title="var">e</span> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.add_o"><span class="id" title="lemma">add_o</span></a>, <a class="idref" href="MMaps.Facts.html#Properties.remove_o"><span class="id" title="lemma">remove_o</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MMaps.Facts.html#K.eq_dec"><span class="id" title="axiom">K.eq_dec</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">He</span>|<span class="id" title="var">Hne</span>]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">He</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.find_1"><span class="id" title="lemma">find_1</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;disjoint&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> (<span class="id" title="var">H1</span>,<span class="id" title="var">H2</span>). <span class="id" title="tactic">elim</span> (<span class="id" title="var">Hdisj</span> <span class="id" title="var">k</span>). <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.remove_in_iff"><span class="id" title="lemma">remove_in_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;mapsto&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k'</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>, 2 <a class="idref" href="MMaps.Facts.html#Properties.remove_mapsto_iff"><span class="id" title="lemma">remove_mapsto_iff</span></a>, <span class="id" title="var">Hor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span> (<span class="id" title="var">Hdisj</span> <span class="id" title="var">x</span>); <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">∃</span> <span class="id" title="var">e'</span>|<span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.MapsTo_1"><span class="id" title="lemma">MapsTo_1</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">k'</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.Partition_fold" class="idref" href="#Properties.Partition_fold"><span class="id" title="lemma">Partition_fold</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="A:844" class="idref" href="#A:844"><span class="id" title="binder">A</span></a>}(<a id="eqA:845" class="idref" href="#eqA:845"><span class="id" title="binder">eqA</span></a>:<a class="idref" href="MMaps.Facts.html#A:844"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#A:844"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><span class="id" title="keyword">Prop</span>)(<a id="st:846" class="idref" href="#st:846"><span class="id" title="binder">st</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="MMaps.Facts.html#eqA:845"><span class="id" title="variable">eqA</span></a>)(<a id="f:847" class="idref" href="#f:847"><span class="id" title="binder">f</span></a>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#A:844"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#A:844"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#eqA:845"><span class="id" title="variable">eqA</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#eqA:845"><span class="id" title="variable">eqA</span></a>) <a class="idref" href="MMaps.Facts.html#f:847"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#Properties.Diamond"><span class="id" title="definition">Diamond</span></a> <a class="idref" href="MMaps.Facts.html#eqA:845"><span class="id" title="variable">eqA</span></a> <a class="idref" href="MMaps.Facts.html#f:847"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="m:848" class="idref" href="#m:848"><span class="id" title="binder">m</span></a> <a id="m1:849" class="idref" href="#m1:849"><span class="id" title="binder">m1</span></a> <a id="m2:850" class="idref" href="#m2:850"><span class="id" title="binder">m2</span></a> <a id="i:851" class="idref" href="#i:851"><span class="id" title="binder">i</span></a>,<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#Properties.Partition"><span class="id" title="definition">Partition</span></a> <a class="idref" href="MMaps.Facts.html#m:848"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m1:849"><span class="id" title="variable">m1</span></a> <a class="idref" href="MMaps.Facts.html#m2:850"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#eqA:845"><span class="id" title="variable">eqA</span></a> (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <a class="idref" href="MMaps.Facts.html#f:847"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:848"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#i:851"><span class="id" title="variable">i</span></a>) (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <a class="idref" href="MMaps.Facts.html#f:847"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m1:849"><span class="id" title="variable">m1</span></a> (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <a class="idref" href="MMaps.Facts.html#f:847"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m2:850"><span class="id" title="variable">m2</span></a> <a class="idref" href="MMaps.Facts.html#i:851"><span class="id" title="variable">i</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">eqA</span> <span class="id" title="var">st</span> <span class="id" title="var">f</span> <span class="id" title="var">Comp</span> <span class="id" title="var">Tra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">m</span> <span class="id" title="var">Hm</span>|<span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">IH</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span> <span class="id" title="var">Hn</span> <span class="id" title="var">Hadd</span>] <span class="id" title="keyword">using</span> <a class="idref" href="MMaps.Facts.html#Properties.map_induction"><span class="id" title="lemma">map_induction</span></a>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">i</span> <span class="id" title="var">Hp</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="MMaps.Facts.html#Properties.fold_Empty"><span class="id" title="lemma">fold_Empty</span></a> (<span class="id" title="var">eqA</span>:=<span class="id" title="var">eqA</span>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MMaps.Facts.html#Properties.Partition_Empty"><span class="id" title="lemma">Partition_Empty</span></a> <span class="id" title="var">Hp</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 (<a class="idref" href="MMaps.Facts.html#Properties.fold_Empty"><span class="id" title="lemma">fold_Empty</span></a> (<span class="id" title="var">eqA</span>:=<span class="id" title="var">eqA</span>)); <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">reflexivity</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">i</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#Properties.Partition_Add"><span class="id" title="lemma">Partition_Add</span></a> <span class="id" title="var">Hn</span> <span class="id" title="var">Hadd</span> <span class="id" title="var">Hp</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">m3</span>,[(<span class="id" title="var">Hadd'</span>,<span class="id" title="var">Hp'</span>)|(<span class="id" title="var">Hadd'</span>,<span class="id" title="var">Hp'</span>)]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;fst&nbsp;case:&nbsp;m3&nbsp;is&nbsp;(k,e)::m1&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <span class="id" title="var">k</span> <span class="id" title="var">m3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">contradict</span> <span class="id" title="var">Hn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hn</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e'</span>,<span class="id" title="var">He'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hp'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hp1</span>,<span class="id" title="var">Hp2</span>). <span class="id" title="tactic">∃</span> <span class="id" title="var">e'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hp2</span>; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<span class="id" title="var">f</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span> (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <span class="id" title="var">f</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.fold_Add"><span class="id" title="lemma">fold_Add</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">eqA</span>:=<span class="id" title="var">eqA</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<span class="id" title="var">f</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span> (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <span class="id" title="var">f</span> <span class="id" title="var">m3</span> (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <span class="id" title="var">f</span> <span class="id" title="var">m2</span> <span class="id" title="var">i</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.fold_Add"><span class="id" title="lemma">fold_Add</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">eqA</span>:=<span class="id" title="var">eqA</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Comp</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;snd&nbsp;case:&nbsp;m3&nbsp;is&nbsp;(k,e)::m2&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <span class="id" title="var">k</span> <span class="id" title="var">m3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">contradict</span> <span class="id" title="var">Hn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hn</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e'</span>,<span class="id" title="var">He'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hp'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hp1</span>,<span class="id" title="var">Hp2</span>). <span class="id" title="tactic">∃</span> <span class="id" title="var">e'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hp2</span>; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <span class="id" title="var">k</span> <span class="id" title="var">m1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">contradict</span> <span class="id" title="var">Hn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hn</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e'</span>,<span class="id" title="var">He'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hp'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hp1</span>,<span class="id" title="var">Hp2</span>). <span class="id" title="tactic">∃</span> <span class="id" title="var">e'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hp2</span>; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<span class="id" title="var">f</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span> (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <span class="id" title="var">f</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.fold_Add"><span class="id" title="lemma">fold_Add</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">eqA</span>:=<span class="id" title="var">eqA</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<span class="id" title="var">f</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span> (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <span class="id" title="var">f</span> <span class="id" title="var">m1</span> (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <span class="id" title="var">f</span> <span class="id" title="var">m3</span> <span class="id" title="var">i</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Comp</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <span class="id" title="var">f</span> <span class="id" title="var">m1</span> (<span class="id" title="var">f</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span> (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <span class="id" title="var">f</span> <span class="id" title="var">m3</span> <span class="id" title="var">i</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.fold_commutes"><span class="id" title="lemma">fold_commutes</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">eqA</span>:=<span class="id" title="var">eqA</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.fold_init"><span class="id" title="lemma">fold_init</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">eqA</span>:=<span class="id" title="var">eqA</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.fold_Add"><span class="id" title="lemma">fold_Add</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">eqA</span>:=<span class="id" title="var">eqA</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.Partition_cardinal" class="idref" href="#Properties.Partition_cardinal"><span class="id" title="lemma">Partition_cardinal</span></a> <a id="m:852" class="idref" href="#m:852"><span class="id" title="binder">m</span></a> <a id="m1:853" class="idref" href="#m1:853"><span class="id" title="binder">m1</span></a> <a id="m2:854" class="idref" href="#m2:854"><span class="id" title="binder">m2</span></a> : <a class="idref" href="MMaps.Facts.html#Properties.Partition"><span class="id" title="definition">Partition</span></a> <a class="idref" href="MMaps.Facts.html#m:852"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m1:853"><span class="id" title="variable">m1</span></a> <a class="idref" href="MMaps.Facts.html#m2:854"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.cardinal"><span class="id" title="axiom">cardinal</span></a> <a class="idref" href="MMaps.Facts.html#m:852"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.Facts.html#M.cardinal"><span class="id" title="axiom">cardinal</span></a> <a class="idref" href="MMaps.Facts.html#m1:853"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MMaps.Facts.html#M.cardinal"><span class="id" title="axiom">cardinal</span></a> <a class="idref" href="MMaps.Facts.html#m2:854"><span class="id" title="variable">m2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MMaps.Facts.html#Properties.cardinal_fold"><span class="id" title="lemma">cardinal_fold</span></a> <span class="id" title="var">m</span>), (<a class="idref" href="MMaps.Facts.html#Properties.cardinal_fold"><span class="id" title="lemma">cardinal_fold</span></a> <span class="id" title="var">m1</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">f</span>:=<span class="id" title="keyword">fun</span> (<span class="id" title="var">_</span>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a>)(<span class="id" title="var">_</span>:<a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a>)=&gt;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_replace</span> (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <span class="id" title="var">f</span> <span class="id" title="var">m</span> 0) <span class="id" title="keyword">with</span> (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <span class="id" title="var">f</span> <span class="id" title="var">m1</span> (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <span class="id" title="var">f</span> <span class="id" title="var">m2</span> 0)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#Properties.cardinal_fold"><span class="id" title="lemma">cardinal_fold</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.fold_rel"><span class="id" title="lemma">fold_rel</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">R</span>:=<span class="id" title="keyword">fun</span> <a id="u:855" class="idref" href="#u:855"><span class="id" title="binder"><span id="u:857" class="id">u</span></span></a> <a id="v:856" class="idref" href="#v:856"><span class="id" title="binder"><span id="v:858" class="id">v</span></span></a> ⇒ <a class="idref" href="MMaps.Facts.html#u:855"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.Facts.html#v:856"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MMaps.Facts.html#M.cardinal"><span class="id" title="axiom">cardinal</span></a> <span class="id" title="var">m2</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.Partition_fold"><span class="id" title="lemma">Partition_fold</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">eqA</span>:=<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>); <span class="id" title="tactic">compute</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.Partition_partition" class="idref" href="#Properties.Partition_partition"><span class="id" title="lemma">Partition_partition</span></a> <a id="m:859" class="idref" href="#m:859"><span class="id" title="binder">m</span></a> <a id="m1:860" class="idref" href="#m1:860"><span class="id" title="binder">m1</span></a> <a id="m2:861" class="idref" href="#m2:861"><span class="id" title="binder">m2</span></a> : <a class="idref" href="MMaps.Facts.html#Properties.Partition"><span class="id" title="definition">Partition</span></a> <a class="idref" href="MMaps.Facts.html#m:859"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m1:860"><span class="id" title="variable">m1</span></a> <a class="idref" href="MMaps.Facts.html#m2:861"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="f:863" class="idref" href="#f:863"><span class="id" title="binder">f</span></a> := <span class="id" title="keyword">fun</span> <a id="k:862" class="idref" href="#k:862"><span class="id" title="binder">k</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MMaps.Facts.html#M.mem"><span class="id" title="axiom">mem</span></a> <a class="idref" href="MMaps.Facts.html#k:862"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#m1:860"><span class="id" title="variable">m1</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#m1:860"><span class="id" title="variable">m1</span></a> <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">==</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="MMaps.Facts.html#M.partition"><span class="id" title="axiom">partition</span></a> <a class="idref" href="MMaps.Facts.html#f:863"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:859"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MMaps.Facts.html#m2:861"><span class="id" title="variable">m2</span></a> <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">==</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="MMaps.Facts.html#M.partition"><span class="id" title="axiom">partition</span></a> <a class="idref" href="MMaps.Facts.html#f:863"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:859"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hf</span> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">k'</span> <span class="id" title="var">Hk</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span> <span class="id" title="var">_</span>; <span class="id" title="tactic">unfold</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hk</span>; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.Equal_mapsto_iff"><span class="id" title="lemma">Equal_mapsto_iff</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.partition_iff1"><span class="id" title="lemma">partition_iff1</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#Properties.mem_in_iff"><span class="id" title="lemma">mem_in_iff</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hm</span>,-&gt;). <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.partition_iff2"><span class="id" title="lemma">partition_iff2</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#Properties.not_mem_in_iff"><span class="id" title="lemma">not_mem_in_iff</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hm</span>,-&gt;). <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab25"></a><h3 class="section">Emulation of some functions lacking in the interface</h3>

<div class="paragraph"> </div>

 <span class="inlinecode"><a class="idref" href="MMaps.Facts.html#Properties.update"><span class="id" title="definition">update</span></a></span> now mimics the one of OCaml : <span class="inlinecode"><a class="idref" href="MMaps.Facts.html#Properties.update"><span class="id" title="definition">update</span></a></span> <span class="inlinecode"><a class="idref" href="MMaps.Raw.html#WS.Specs.x"><span class="id" title="variable">x</span></a></span> <span class="inlinecode"><a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode"><a class="idref" href="MMaps.Raw.html#WS.Specs.m"><span class="id" title="variable">m</span></a></span> returns a map
      containing the same bindings as m, except for the binding of
      x. Depending on the value of y where y is <span class="inlinecode"><a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode">(<a class="idref" href="MMaps.GenTree.html#Ops.find"><span class="id" title="definition">find</span></a></span> <span class="inlinecode"><a class="idref" href="MMaps.Raw.html#WS.Specs.x"><span class="id" title="variable">x</span></a></span> <span class="inlinecode"><a class="idref" href="MMaps.Raw.html#WS.Specs.m"><span class="id" title="variable">m</span></a>)</span>, the
      binding of x is added, removed or updated. If y is None, the
      binding is removed if it exists; otherwise, if y is <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a></span> <span class="inlinecode"><span class="id" title="var">z</span></span> then
      x is associated to z in the resulting map.
      Note : A direct implementation could do that in one tree traversal,
      here we're doing that in two, without garantee on physical equality 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Properties.update" class="idref" href="#Properties.update"><span class="id" title="definition">update</span></a> (<a id="x:864" class="idref" href="#x:864"><span class="id" title="binder">x</span></a>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a>)(<a id="f:865" class="idref" href="#f:865"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a>) <a id="m:866" class="idref" href="#m:866"><span class="id" title="binder">m</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.Facts.html#f:865"><span class="id" title="variable">f</span></a> (<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:864"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:866"><span class="id" title="variable">m</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">e</span> ⇒ <a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#x:864"><span class="id" title="variable">x</span></a> <span class="id" title="var">e</span> <a class="idref" href="MMaps.Facts.html#m:866"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <a class="idref" href="MMaps.Facts.html#x:864"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:866"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="MMaps.Facts.html#Properties.union"><span class="id" title="definition">union</span></a></span> mimics the OCaml operation : <span class="inlinecode"><a class="idref" href="MMaps.Facts.html#Properties.union"><span class="id" title="definition">union</span></a></span> <span class="inlinecode"><a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode"><span class="id" title="var">m1</span></span> <span class="inlinecode"><span class="id" title="var">m2</span></span> computes a
      map whose keys is the union of keys of m1 and of m2. When the same
      binding is defined in both arguments, the function f is used to
      combine them. This is a special case of merge. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Properties.union" class="idref" href="#Properties.union"><span class="id" title="definition">union</span></a> (<a id="f:867" class="idref" href="#f:867"><span class="id" title="binder">f</span></a> : <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="f':873" class="idref" href="#f':873"><span class="id" title="binder">f'</span></a> := <span class="id" title="keyword">fun</span> <a id="k:868" class="idref" href="#k:868"><span class="id" title="binder">k</span></a> <a id="o1:869" class="idref" href="#o1:869"><span class="id" title="binder">o1</span></a> <a id="o2:870" class="idref" href="#o2:870"><span class="id" title="binder">o2</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.Facts.html#o1:869"><span class="id" title="variable">o1</span></a>,<a class="idref" href="MMaps.Facts.html#o2:870"><span class="id" title="variable">o2</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v1</span>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v2</span> ⇒ <a class="idref" href="MMaps.Facts.html#f:867"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#k:868"><span class="id" title="variable">k</span></a> <span class="id" title="var">v1</span> <span class="id" title="var">v2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">o</span>,<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> | <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>,<span class="id" title="var">o</span> ⇒ <span class="id" title="var">o</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.merge"><span class="id" title="axiom">merge</span></a> <a class="idref" href="MMaps.Facts.html#f':873"><span class="id" title="variable">f'</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="MMaps.Facts.html#Properties.extend"><span class="id" title="definition">extend</span></a></span> adds to <span class="inlinecode"><span class="id" title="var">m1</span></span> all the bindings of <span class="inlinecode"><span class="id" title="var">m2</span></span>. It can be seen as
     an <span class="inlinecode"><a class="idref" href="MMaps.Facts.html#Properties.union"><span class="id" title="definition">union</span></a></span> operator which gives priority to its 2nd argument
     in case of binding conflit. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Properties.extend" class="idref" href="#Properties.extend"><span class="id" title="definition">extend</span></a> <a id="m1:874" class="idref" href="#m1:874"><span class="id" title="binder">m1</span></a> <a id="m2:875" class="idref" href="#m2:875"><span class="id" title="binder">m2</span></a> := <a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> (@<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <span class="id" title="var">_</span>) <a class="idref" href="MMaps.Facts.html#m2:875"><span class="id" title="variable">m2</span></a> <a class="idref" href="MMaps.Facts.html#m1:874"><span class="id" title="variable">m1</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="MMaps.WeakList.html#MakeRaw.restrict"><span class="id" title="definition">restrict</span></a></span> keeps from <span class="inlinecode"><span class="id" title="var">m1</span></span> only the bindings whose key is in <span class="inlinecode"><span class="id" title="var">m2</span></span>.
      It can be seen as an <span class="inlinecode"><span class="id" title="var">inter</span></span> operator, with priority to its 1st argument
      in case of binding conflit. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Properties.restrict" class="idref" href="#Properties.restrict"><span class="id" title="definition">restrict</span></a> <a id="m1:876" class="idref" href="#m1:876"><span class="id" title="binder">m1</span></a> <a id="m2:877" class="idref" href="#m2:877"><span class="id" title="binder">m2</span></a> := <a class="idref" href="MMaps.Facts.html#M.filter"><span class="id" title="axiom">filter</span></a> (<span class="id" title="keyword">fun</span> <a id="k:878" class="idref" href="#k:878"><span class="id" title="binder">k</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MMaps.Facts.html#M.mem"><span class="id" title="axiom">mem</span></a> <a class="idref" href="MMaps.Facts.html#k:878"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#m2:877"><span class="id" title="variable">m2</span></a>) <a class="idref" href="MMaps.Facts.html#m1:876"><span class="id" title="variable">m1</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="MMaps.Facts.html#Properties.diff"><span class="id" title="definition">diff</span></a></span> erases from <span class="inlinecode"><span class="id" title="var">m1</span></span> all bindings whose key is in <span class="inlinecode"><span class="id" title="var">m2</span></span>. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Properties.diff" class="idref" href="#Properties.diff"><span class="id" title="definition">diff</span></a> <a id="m1:879" class="idref" href="#m1:879"><span class="id" title="binder">m1</span></a> <a id="m2:880" class="idref" href="#m2:880"><span class="id" title="binder">m2</span></a> := <a class="idref" href="MMaps.Facts.html#M.filter"><span class="id" title="axiom">filter</span></a> (<span class="id" title="keyword">fun</span> <a id="k:881" class="idref" href="#k:881"><span class="id" title="binder">k</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="MMaps.Facts.html#M.mem"><span class="id" title="axiom">mem</span></a> <a class="idref" href="MMaps.Facts.html#k:881"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#m2:880"><span class="id" title="variable">m2</span></a>)) <a class="idref" href="MMaps.Facts.html#m1:879"><span class="id" title="variable">m1</span></a>.<br/>

<br/>
</div>

<div class="doc">
Properties of these abbreviations 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.update_spec1" class="idref" href="#Properties.update_spec1"><span class="id" title="lemma">update_spec1</span></a> (<a id="f:882" class="idref" href="#f:882"><span class="id" title="binder">f</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a>) <a id="m:883" class="idref" href="#m:883"><span class="id" title="binder">m</span></a> <a id="x:884" class="idref" href="#x:884"><span class="id" title="binder">x</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:884"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.update"><span class="id" title="definition">update</span></a> <a class="idref" href="MMaps.Facts.html#x:884"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#f:882"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:883"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.Facts.html#f:882"><span class="id" title="variable">f</span></a> (<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:884"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:883"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.update"><span class="id" title="definition">update</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">f</span>; [<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.add_spec1"><span class="id" title="axiom">add_spec1</span></a> | <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.remove_spec1"><span class="id" title="axiom">remove_spec1</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.update_spec2" class="idref" href="#Properties.update_spec2"><span class="id" title="lemma">update_spec2</span></a> (<a id="f:885" class="idref" href="#f:885"><span class="id" title="binder">f</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a>) <a id="m:886" class="idref" href="#m:886"><span class="id" title="binder">m</span></a> <a id="x:887" class="idref" href="#x:887"><span class="id" title="binder">x</span></a> <a id="y:888" class="idref" href="#y:888"><span class="id" title="binder">y</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#x:887"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:888"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#y:888"><span class="id" title="variable">y</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.update"><span class="id" title="definition">update</span></a> <a class="idref" href="MMaps.Facts.html#x:887"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#f:885"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m:886"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#y:888"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#m:886"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">NE</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.update"><span class="id" title="definition">update</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">f</span>; [<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.add_spec2"><span class="id" title="axiom">add_spec2</span></a> | <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.remove_spec2"><span class="id" title="axiom">remove_spec2</span></a>]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Properties.update_m" class="idref" href="#Properties.update_m"><span class="id" title="instance">update_m</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)==&gt;</span></a><a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a>) <a class="idref" href="MMaps.Facts.html#Properties.update"><span class="id" title="definition">update</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">Hx</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">Hf</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">Hm</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.update"><span class="id" title="definition">update</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hx</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hm</span> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">Hf</span> (<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span>)) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">f</span>; <span class="id" title="var">f_equiv</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.union_spec" class="idref" href="#Properties.union_spec"><span class="id" title="lemma">union_spec</span></a> (<a id="f:889" class="idref" href="#f:889"><span class="id" title="binder">f</span></a>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.Facts.html#Properties.Elt.elt"><span class="id" title="variable">elt</span></a>) <a id="m1:890" class="idref" href="#m1:890"><span class="id" title="binder">m1</span></a> <a id="m2:891" class="idref" href="#m2:891"><span class="id" title="binder">m2</span></a> <a id="x:892" class="idref" href="#x:892"><span class="id" title="binder">x</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) <a class="idref" href="MMaps.Facts.html#f:889"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:892"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.union"><span class="id" title="definition">union</span></a> <a class="idref" href="MMaps.Facts.html#f:889"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m1:890"><span class="id" title="variable">m1</span></a> <a class="idref" href="MMaps.Facts.html#m2:891"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:892"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m1:890"><span class="id" title="variable">m1</span></a>, <a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#x:892"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m2:891"><span class="id" title="variable">m2</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">e1</span>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">e2</span> ⇒ <a class="idref" href="MMaps.Facts.html#f:889"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#x:892"><span class="id" title="variable">x</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">o</span>,<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> | <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>,<span class="id" title="var">o</span> ⇒ <span class="id" title="var">o</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hf</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.union"><span class="id" title="definition">union</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.merge_spec1mn"><span class="id" title="lemma">merge_spec1mn</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a>, <a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">Hx</span> <span class="id" title="var">o1</span> <span class="id" title="var">o1'</span> &lt;- <span class="id" title="var">o2</span> <span class="id" title="var">o2'</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o1</span>, <span class="id" title="var">o2</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hf</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Properties.union_m" class="idref" href="#Properties.union_m"><span class="id" title="instance">union_m</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)==&gt;</span></a><a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a>) <a class="idref" href="MMaps.Facts.html#Properties.union"><span class="id" title="definition">union</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">Hf</span> <span class="id" title="var">m1</span> <span class="id" title="var">m1'</span> <span class="id" title="var">Hm1</span> <span class="id" title="var">m2</span> <span class="id" title="var">m2'</span> <span class="id" title="var">Hm2</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.union"><span class="id" title="definition">union</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">f_equiv</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">clear</span> -<span class="id" title="var">Hf</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">Hx</span> <span class="id" title="var">o1</span> <span class="id" title="var">o1'</span> &lt;- <span class="id" title="var">o2</span> <span class="id" title="var">o2'</span> &lt;-.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o1</span>, <span class="id" title="var">o2</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hf</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.extend_mapsto_iff" class="idref" href="#Properties.extend_mapsto_iff"><span class="id" title="lemma">extend_mapsto_iff</span></a> : <span class="id" title="keyword">∀</span> <a id="m:893" class="idref" href="#m:893"><span class="id" title="binder">m</span></a> <a id="m':894" class="idref" href="#m':894"><span class="id" title="binder">m'</span></a> <a id="k:895" class="idref" href="#k:895"><span class="id" title="binder">k</span></a> <a id="e:896" class="idref" href="#e:896"><span class="id" title="binder">e</span></a>,<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#k:895"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:896"><span class="id" title="variable">e</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.extend"><span class="id" title="definition">extend</span></a> <a class="idref" href="MMaps.Facts.html#m:893"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':894"><span class="id" title="variable">m'</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#k:895"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:896"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m':894"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#k:895"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:896"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:893"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#k:895"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#m':894"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.extend"><span class="id" title="definition">extend</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pattern</span> <span class="id" title="var">m'</span>, (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> (@<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">m'</span> <span class="id" title="var">m</span>). <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.fold_rec"><span class="id" title="lemma">fold_rec</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">m0</span> <span class="id" title="var">Hm0</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <span class="id" title="var">k</span> <span class="id" title="var">m0</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">intros</span> (<span class="id" title="var">e0</span>,<span class="id" title="var">He0</span>); <span class="id" title="tactic">apply</span> (<span class="id" title="var">Hm0</span> <span class="id" title="var">k</span> <span class="id" title="var">e0</span>); <span class="id" title="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span> (<span class="id" title="var">Hm0</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span> <span class="id" title="var">m0</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">_</span> <span class="id" title="var">Hn</span> <span class="id" title="var">Hadd</span> <span class="id" title="var">IH</span> <span class="id" title="var">k'</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">m2</span> <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <span class="id" title="var">k</span> <span class="id" title="var">e</span> <span class="id" title="var">m1</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hadd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hadd</span>, 2 <a class="idref" href="MMaps.Facts.html#Properties.add_mapsto_iff"><span class="id" title="lemma">add_mapsto_iff</span></a>, <span class="id" title="var">IH</span>, <a class="idref" href="MMaps.Facts.html#Properties.add_in_iff"><span class="id" title="lemma">add_in_iff</span></a>. <span class="id" title="tactic">clear</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.extend_dec" class="idref" href="#Properties.extend_dec"><span class="id" title="lemma">extend_dec</span></a> : <span class="id" title="keyword">∀</span> <a id="m:897" class="idref" href="#m:897"><span class="id" title="binder">m</span></a> <a id="m':898" class="idref" href="#m':898"><span class="id" title="binder">m'</span></a> <a id="k:899" class="idref" href="#k:899"><span class="id" title="binder">k</span></a> <a id="e:900" class="idref" href="#e:900"><span class="id" title="binder">e</span></a>, <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#k:899"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:900"><span class="id" title="variable">e</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.extend"><span class="id" title="definition">extend</span></a> <a class="idref" href="MMaps.Facts.html#m:897"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':898"><span class="id" title="variable">m'</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#k:899"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:900"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m':898"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#k:899"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:900"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:897"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#k:899"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#m':898"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.extend_mapsto_iff"><span class="id" title="lemma">extend_mapsto_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#Properties.In_dec"><span class="id" title="lemma">In_dec</span></a> <span class="id" title="var">m'</span> <span class="id" title="var">k</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">H'</span>|<span class="id" title="var">H'</span>]; [<span class="id" title="tactic">left</span>|<span class="id" title="tactic">right</span>]; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span> <span class="id" title="var">H'</span>; <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.extend_in_iff" class="idref" href="#Properties.extend_in_iff"><span class="id" title="lemma">extend_in_iff</span></a> : <span class="id" title="keyword">∀</span> <a id="m:901" class="idref" href="#m:901"><span class="id" title="binder">m</span></a> <a id="m':902" class="idref" href="#m':902"><span class="id" title="binder">m'</span></a> <a id="k:903" class="idref" href="#k:903"><span class="id" title="binder">k</span></a>,<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#k:903"><span class="id" title="variable">k</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.extend"><span class="id" title="definition">extend</span></a> <a class="idref" href="MMaps.Facts.html#m:901"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':902"><span class="id" title="variable">m'</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#k:903"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#m:901"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#k:903"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#m':902"><span class="id" title="variable">m'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">e</span>,<span class="id" title="var">H</span>); <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.extend_mapsto_iff"><span class="id" title="lemma">extend_mapsto_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; [<span class="id" title="tactic">right</span>|<span class="id" title="tactic">left</span>]; <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#Properties.In_dec"><span class="id" title="lemma">In_dec</span></a> <span class="id" title="var">m'</span> <span class="id" title="var">k</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span>|<span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e</span>,<span class="id" title="var">H</span>). <span class="id" title="tactic">intros</span> <span class="id" title="var">_</span>; <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.extend_mapsto_iff"><span class="id" title="lemma">extend_mapsto_iff</span></a>; <span class="id" title="tactic">left</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> 1 <span class="id" title="keyword">as</span> [<span class="id" title="var">H'</span>|<span class="id" title="var">H'</span>]; [|<span class="id" title="tactic">elim</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e</span>,<span class="id" title="var">H'</span>). <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.extend_mapsto_iff"><span class="id" title="lemma">extend_mapsto_iff</span></a>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.diff_mapsto_iff" class="idref" href="#Properties.diff_mapsto_iff"><span class="id" title="lemma">diff_mapsto_iff</span></a> : <span class="id" title="keyword">∀</span> <a id="m:904" class="idref" href="#m:904"><span class="id" title="binder">m</span></a> <a id="m':905" class="idref" href="#m':905"><span class="id" title="binder">m'</span></a> <a id="k:906" class="idref" href="#k:906"><span class="id" title="binder">k</span></a> <a id="e:907" class="idref" href="#e:907"><span class="id" title="binder">e</span></a>,<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#k:906"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:907"><span class="id" title="variable">e</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.diff"><span class="id" title="definition">diff</span></a> <a class="idref" href="MMaps.Facts.html#m:904"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':905"><span class="id" title="variable">m'</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#k:906"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:907"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:904"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#k:906"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#m':905"><span class="id" title="variable">m'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.diff"><span class="id" title="definition">diff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.filter_iff"><span class="id" title="lemma">filter_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> (<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span> <span class="id" title="var">bool</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.mem_1"><span class="id" title="lemma">mem_1</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? <span class="id" title="var">Hk</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hk</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.diff_in_iff" class="idref" href="#Properties.diff_in_iff"><span class="id" title="lemma">diff_in_iff</span></a> : <span class="id" title="keyword">∀</span> <a id="m:908" class="idref" href="#m:908"><span class="id" title="binder">m</span></a> <a id="m':909" class="idref" href="#m':909"><span class="id" title="binder">m'</span></a> <a id="k:910" class="idref" href="#k:910"><span class="id" title="binder">k</span></a>,<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#k:910"><span class="id" title="variable">k</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.diff"><span class="id" title="definition">diff</span></a> <a class="idref" href="MMaps.Facts.html#m:908"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':909"><span class="id" title="variable">m'</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#k:910"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#m:908"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#k:910"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#m':909"><span class="id" title="variable">m'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">e</span>,<span class="id" title="var">H</span>); <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.diff_mapsto_iff"><span class="id" title="lemma">diff_mapsto_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ((<span class="id" title="var">e</span>,<span class="id" title="var">H</span>),<span class="id" title="var">H'</span>); <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.diff_mapsto_iff"><span class="id" title="lemma">diff_mapsto_iff</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.restrict_mapsto_iff" class="idref" href="#Properties.restrict_mapsto_iff"><span class="id" title="lemma">restrict_mapsto_iff</span></a> : <span class="id" title="keyword">∀</span> <a id="m:911" class="idref" href="#m:911"><span class="id" title="binder">m</span></a> <a id="m':912" class="idref" href="#m':912"><span class="id" title="binder">m'</span></a> <a id="k:913" class="idref" href="#k:913"><span class="id" title="binder">k</span></a> <a id="e:914" class="idref" href="#e:914"><span class="id" title="binder">e</span></a>,<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#k:913"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:914"><span class="id" title="variable">e</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.restrict"><span class="id" title="definition">restrict</span></a> <a class="idref" href="MMaps.Facts.html#m:911"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':912"><span class="id" title="variable">m'</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#k:913"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:914"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:911"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#k:913"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#m':912"><span class="id" title="variable">m'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.restrict"><span class="id" title="definition">restrict</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.filter_iff"><span class="id" title="lemma">filter_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> (<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? <span class="id" title="var">Hk</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hk</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Properties.restrict_in_iff" class="idref" href="#Properties.restrict_in_iff"><span class="id" title="lemma">restrict_in_iff</span></a> : <span class="id" title="keyword">∀</span> <a id="m:915" class="idref" href="#m:915"><span class="id" title="binder">m</span></a> <a id="m':916" class="idref" href="#m':916"><span class="id" title="binder">m'</span></a> <a id="k:917" class="idref" href="#k:917"><span class="id" title="binder">k</span></a>,<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#k:917"><span class="id" title="variable">k</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.restrict"><span class="id" title="definition">restrict</span></a> <a class="idref" href="MMaps.Facts.html#m:915"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':916"><span class="id" title="variable">m'</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#k:917"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#m:915"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#k:917"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#m':916"><span class="id" title="variable">m'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">e</span>,<span class="id" title="var">H</span>); <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.restrict_mapsto_iff"><span class="id" title="lemma">restrict_mapsto_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ((<span class="id" title="var">e</span>,<span class="id" title="var">H</span>),<span class="id" title="var">H'</span>); <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.restrict_mapsto_iff"><span class="id" title="lemma">restrict_mapsto_iff</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="MMaps.Facts.html#Properties.Elt"><span class="id" title="section">Elt</span></a>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Fact</span> <a id="Properties.diamond_add" class="idref" href="#Properties.diamond_add"><span class="id" title="lemma">diamond_add</span></a> {<a id="elt:918" class="idref" href="#elt:918"><span class="id" title="binder">elt</span></a>} : <a class="idref" href="MMaps.Facts.html#Properties.Diamond"><span class="id" title="definition">Diamond</span></a> <a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a> (@<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#elt:918"><span class="id" title="variable">elt</span></a>).<br/>
&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">k'</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">b'</span> <span class="id" title="var">Hk</span> &lt;- &lt;-. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.add_add_2"><span class="id" title="lemma">add_add_2</span></a>.<br/>
&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Properties.extend_m" class="idref" href="#Properties.extend_m"><span class="id" title="instance">extend_m</span></a> {<a id="elt:919" class="idref" href="#elt:919"><span class="id" title="binder">elt</span></a>} : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a>) (@<a class="idref" href="MMaps.Facts.html#Properties.extend"><span class="id" title="definition">extend</span></a> <a class="idref" href="MMaps.Facts.html#elt:919"><span class="id" title="variable">elt</span></a>).<br/>
&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m1</span> <span class="id" title="var">m1'</span> <span class="id" title="var">Hm1</span> <span class="id" title="var">m2</span> <span class="id" title="var">m2'</span> <span class="id" title="var">Hm2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.extend"><span class="id" title="definition">extend</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.fold_Proper"><span class="id" title="instance">fold_Proper</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MMaps.Facts.html#Properties.diamond_add"><span class="id" title="lemma">diamond_add</span></a> <span class="id" title="keyword">with</span> ×.<br/>
&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Properties.restrict_m" class="idref" href="#Properties.restrict_m"><span class="id" title="instance">restrict_m</span></a> {<a id="elt:920" class="idref" href="#elt:920"><span class="id" title="binder">elt</span></a>} : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a>) (@<a class="idref" href="MMaps.Facts.html#Properties.restrict"><span class="id" title="definition">restrict</span></a> <a class="idref" href="MMaps.Facts.html#elt:920"><span class="id" title="variable">elt</span></a>).<br/>
&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m1</span> <span class="id" title="var">m1'</span> <span class="id" title="var">Hm1</span> <span class="id" title="var">m2</span> <span class="id" title="var">m2'</span> <span class="id" title="var">Hm2</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.restrict"><span class="id" title="definition">restrict</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Utils.html#eq_option_alt"><span class="id" title="lemma">eq_option_alt</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>, !<a class="idref" href="MMaps.Facts.html#Properties.filter_iff"><span class="id" title="lemma">filter_iff</span></a>, <span class="id" title="var">Hm1</span>, <span class="id" title="var">Hm2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">Hx</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span> <span class="id" title="var">He</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">Hx</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span> <span class="id" title="var">He</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Properties.diff_m" class="idref" href="#Properties.diff_m"><span class="id" title="instance">diff_m</span></a> {<a id="elt:921" class="idref" href="#elt:921"><span class="id" title="binder">elt</span></a>} : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a>) (@<a class="idref" href="MMaps.Facts.html#Properties.diff"><span class="id" title="definition">diff</span></a> <a class="idref" href="MMaps.Facts.html#elt:921"><span class="id" title="variable">elt</span></a>).<br/>
&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m1</span> <span class="id" title="var">m1'</span> <span class="id" title="var">Hm1</span> <span class="id" title="var">m2</span> <span class="id" title="var">m2'</span> <span class="id" title="var">Hm2</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.diff"><span class="id" title="definition">diff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Utils.html#eq_option_alt"><span class="id" title="lemma">eq_option_alt</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>, !<a class="idref" href="MMaps.Facts.html#Properties.filter_iff"><span class="id" title="lemma">filter_iff</span></a>, <span class="id" title="var">Hm1</span>, <span class="id" title="var">Hm2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">Hx</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span> <span class="id" title="var">He</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">Hx</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span> <span class="id" title="var">He</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Properties.keyb_eq" class="idref" href="#Properties.keyb_eq"><span class="id" title="definition">keyb_eq</span></a> [<a id="elt:922" class="idref" href="#elt:922"><span class="id" title="binder">elt</span></a>] (<a id="x:923" class="idref" href="#x:923"><span class="id" title="binder">x</span></a> <a id="y:924" class="idref" href="#y:924"><span class="id" title="binder">y</span></a> : <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MMaps.Facts.html#elt:922"><span class="id" title="variable">elt</span></a>) := <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MMaps.Facts.html#x:923"><span class="id" title="variable">x</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MMaps.Facts.html#y:924"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MMaps.Facts.html#x:923"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MMaps.Facts.html#y:924"><span class="id" title="variable">y</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.keyb_eq_equivalence" class="idref" href="#Properties.keyb_eq_equivalence"><span class="id" title="lemma">keyb_eq_equivalence</span></a> <a id="elt:925" class="idref" href="#elt:925"><span class="id" title="binder">elt</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> (@<a class="idref" href="MMaps.Facts.html#Properties.keyb_eq"><span class="id" title="definition">keyb_eq</span></a> <a class="idref" href="MMaps.Facts.html#elt:925"><span class="id" title="variable">elt</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.keyb_eq"><span class="id" title="definition">keyb_eq</span></a>.<br/>
&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>, <span class="id" title="var">H0</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.bindings_Equal_imp" class="idref" href="#Properties.bindings_Equal_imp"><span class="id" title="lemma">bindings_Equal_imp</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> [<a id="elt:926" class="idref" href="#elt:926"><span class="id" title="binder">elt</span></a>: <span class="id" title="keyword">Type</span>] (<a id="tab1:927" class="idref" href="#tab1:927"><span class="id" title="binder">tab1</span></a> <a id="tab2:928" class="idref" href="#tab2:928"><span class="id" title="binder">tab2</span></a>: <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#elt:926"><span class="id" title="variable">elt</span></a>), <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="k:929" class="idref" href="#k:929"><span class="id" title="binder">k</span></a> <a id="y:930" class="idref" href="#y:930"><span class="id" title="binder">y</span></a>, <a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#k:929"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#tab1:927"><span class="id" title="variable">tab1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MMaps.Facts.html#y:930"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#k:929"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#tab2:928"><span class="id" title="variable">tab2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MMaps.Facts.html#y:930"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:931" class="idref" href="#x:931"><span class="id" title="binder">x</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> (@<a class="idref" href="MMaps.Facts.html#Properties.keyb_eq"><span class="id" title="definition">keyb_eq</span></a> <a class="idref" href="MMaps.Facts.html#elt:926"><span class="id" title="variable">elt</span></a>) <a class="idref" href="MMaps.Facts.html#x:931"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#tab1:927"><span class="id" title="variable">tab1</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> (@<a class="idref" href="MMaps.Facts.html#Properties.keyb_eq"><span class="id" title="definition">keyb_eq</span></a> <a class="idref" href="MMaps.Facts.html#elt:926"><span class="id" title="variable">elt</span></a>) <a class="idref" href="MMaps.Facts.html#x:931"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#tab2:928"><span class="id" title="variable">tab2</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span> <span class="id" title="var">y</span>].<br/>
&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">k</span>).<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#Properties.bindings_o"><span class="id" title="lemma">bindings_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="MMaps.Facts.html#Properties.bindings_3w"><span class="id" title="lemma">bindings_3w</span></a> <span class="id" title="var">tab1</span>.<br/>
&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="MMaps.Facts.html#Properties.bindings_3w"><span class="id" title="lemma">bindings_3w</span></a> <span class="id" title="var">tab2</span>.<br/>
&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">al</span> := <a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">tab1</span>) <span class="id" title="tactic">in</span> ×. <span class="id" title="var">clearbody</span> <span class="id" title="var">al</span>.<br/>
&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">bl</span> := <a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">tab2</span>) <span class="id" title="tactic">in</span> ×. <span class="id" title="var">clearbody</span> <span class="id" title="var">bl</span>.<br/>
&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">bl</span> <span class="id" title="var">H</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span> <span class="id" title="var">y</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">al</span> <span class="id" title="keyword">as</span> [ | [? ?]]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">Logic.eq_refl</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">bl</span> <span class="id" title="keyword">as</span> [ | [? ? ]]. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> <span class="id" title="var">k</span> <span class="id" title="var">k0</span>) <span class="id" title="var">eqn</span>:?<span class="id" title="var">H</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> <span class="id" title="var">k</span> <span class="id" title="var">k0</span>) <span class="id" title="var">eqn</span>:?<span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;×<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHal</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">clear</span> - <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">al</span> <span class="id" title="keyword">as</span> [ | [? ?]]. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> <span class="id" title="var">k</span> <span class="id" title="var">k1</span>) <span class="id" title="var">eqn</span>:?<span class="id" title="var">H</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">left</span>; <span class="id" title="tactic">hnf</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <span class="id" title="var">IHal</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.bindings_Equal" class="idref" href="#Properties.bindings_Equal"><span class="id" title="lemma">bindings_Equal</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> [<a id="elt:932" class="idref" href="#elt:932"><span class="id" title="binder">elt</span></a>: <span class="id" title="keyword">Type</span>] (<a id="tab1:933" class="idref" href="#tab1:933"><span class="id" title="binder">tab1</span></a> <a id="tab2:934" class="idref" href="#tab2:934"><span class="id" title="binder">tab2</span></a>: <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#elt:932"><span class="id" title="variable">elt</span></a>), <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#tab1:933"><span class="id" title="variable">tab1</span></a> <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.Facts.html#tab2:934"><span class="id" title="variable">tab2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:935" class="idref" href="#x:935"><span class="id" title="binder">x</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> (@<a class="idref" href="MMaps.Facts.html#Properties.keyb_eq"><span class="id" title="definition">keyb_eq</span></a> <a class="idref" href="MMaps.Facts.html#elt:932"><span class="id" title="variable">elt</span></a>) <a class="idref" href="MMaps.Facts.html#x:935"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#tab1:933"><span class="id" title="variable">tab1</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> (@<a class="idref" href="MMaps.Facts.html#Properties.keyb_eq"><span class="id" title="definition">keyb_eq</span></a> <a class="idref" href="MMaps.Facts.html#elt:932"><span class="id" title="variable">elt</span></a>) <a class="idref" href="MMaps.Facts.html#x:935"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#tab2:934"><span class="id" title="variable">tab2</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span> <span class="id" title="var">y</span>].<br/>
&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.bindings_Equal_imp"><span class="id" title="lemma">bindings_Equal_imp</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">H</span> <span class="id" title="var">k0</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">H</span> <span class="id" title="var">k0</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.Equal_implies_eqv" class="idref" href="#Properties.Equal_implies_eqv"><span class="id" title="lemma">Equal_implies_eqv</span></a>:<br/>
&nbsp;<span class="id" title="keyword">∀</span> [<a id="elt:936" class="idref" href="#elt:936"><span class="id" title="binder">elt</span></a> <a id="A:937" class="idref" href="#A:937"><span class="id" title="binder">A</span></a>: <span class="id" title="keyword">Type</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<a id="eqv:938" class="idref" href="#eqv:938"><span class="id" title="binder">eqv</span></a>: <a class="idref" href="MMaps.Facts.html#A:937"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#A:937"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>] <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="eqv_rel:939" class="idref" href="#eqv_rel:939"><span class="id" title="binder">eqv_rel</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="MMaps.Facts.html#eqv:938"><span class="id" title="variable">eqv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="lift:940" class="idref" href="#lift:940"><span class="id" title="binder">lift</span></a>: <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#elt:936"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#A:937"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="lift_prop:944" class="idref" href="#lift_prop:944"><span class="id" title="binder">lift_prop</span></a>: <span class="id" title="keyword">∀</span> <a id="k:941" class="idref" href="#k:941"><span class="id" title="binder">k</span></a> <a id="k':942" class="idref" href="#k':942"><span class="id" title="binder">k'</span></a> <a id="x:943" class="idref" href="#x:943"><span class="id" title="binder">x</span></a>, <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#k:941"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#k':942"><span class="id" title="variable">k'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#eqv:938"><span class="id" title="variable">eqv</span></a> (<a class="idref" href="MMaps.Facts.html#lift:940"><span class="id" title="variable">lift</span></a> <a class="idref" href="MMaps.Facts.html#k:941"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#x:943"><span class="id" title="variable">x</span></a>) (<a class="idref" href="MMaps.Facts.html#lift:940"><span class="id" title="variable">lift</span></a> <a class="idref" href="MMaps.Facts.html#k':942"><span class="id" title="variable">k'</span></a> <a class="idref" href="MMaps.Facts.html#x:943"><span class="id" title="variable">x</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f:945" class="idref" href="#f:945"><span class="id" title="binder">f</span></a>:  <a class="idref" href="MMaps.Facts.html#A:937"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#A:937"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#A:937"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f_mor:950" class="idref" href="#f_mor:950"><span class="id" title="binder">f_mor</span></a>: <span class="id" title="keyword">∀</span> <a id="x1:946" class="idref" href="#x1:946"><span class="id" title="binder">x1</span></a> <a id="y1:947" class="idref" href="#y1:947"><span class="id" title="binder">y1</span></a>, <a class="idref" href="MMaps.Facts.html#eqv:938"><span class="id" title="variable">eqv</span></a> <a class="idref" href="MMaps.Facts.html#x1:946"><span class="id" title="variable">x1</span></a> <a class="idref" href="MMaps.Facts.html#y1:947"><span class="id" title="variable">y1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x2:948" class="idref" href="#x2:948"><span class="id" title="binder">x2</span></a> <a id="y2:949" class="idref" href="#y2:949"><span class="id" title="binder">y2</span></a>, <a class="idref" href="MMaps.Facts.html#eqv:938"><span class="id" title="variable">eqv</span></a> <a class="idref" href="MMaps.Facts.html#x2:948"><span class="id" title="variable">x2</span></a> <a class="idref" href="MMaps.Facts.html#y2:949"><span class="id" title="variable">y2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#eqv:938"><span class="id" title="variable">eqv</span></a> (<a class="idref" href="MMaps.Facts.html#f:945"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#x1:946"><span class="id" title="variable">x1</span></a> <a class="idref" href="MMaps.Facts.html#x2:948"><span class="id" title="variable">x2</span></a>) (<a class="idref" href="MMaps.Facts.html#f:945"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#y1:947"><span class="id" title="variable">y1</span></a> <a class="idref" href="MMaps.Facts.html#y2:949"><span class="id" title="variable">y2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f_assoc:954" class="idref" href="#f_assoc:954"><span class="id" title="binder">f_assoc</span></a>: <span class="id" title="keyword">∀</span> <a id="x:951" class="idref" href="#x:951"><span class="id" title="binder">x</span></a> <a id="y:952" class="idref" href="#y:952"><span class="id" title="binder">y</span></a> <a id="z:953" class="idref" href="#z:953"><span class="id" title="binder">z</span></a> : <a class="idref" href="MMaps.Facts.html#A:937"><span class="id" title="variable">A</span></a>, <a class="idref" href="MMaps.Facts.html#eqv:938"><span class="id" title="variable">eqv</span></a> (<a class="idref" href="MMaps.Facts.html#f:945"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#x:951"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.Facts.html#f:945"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#y:952"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#z:953"><span class="id" title="variable">z</span></a>)) (<a class="idref" href="MMaps.Facts.html#f:945"><span class="id" title="variable">f</span></a> (<a class="idref" href="MMaps.Facts.html#f:945"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#x:951"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:952"><span class="id" title="variable">y</span></a>) <a class="idref" href="MMaps.Facts.html#z:953"><span class="id" title="variable">z</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f_commut:957" class="idref" href="#f_commut:957"><span class="id" title="binder">f_commut</span></a>: <span class="id" title="keyword">∀</span> <a id="x:955" class="idref" href="#x:955"><span class="id" title="binder">x</span></a> <a id="y:956" class="idref" href="#y:956"><span class="id" title="binder">y</span></a> : <a class="idref" href="MMaps.Facts.html#A:937"><span class="id" title="variable">A</span></a>, <a class="idref" href="MMaps.Facts.html#eqv:938"><span class="id" title="variable">eqv</span></a> (<a class="idref" href="MMaps.Facts.html#f:945"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#x:955"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:956"><span class="id" title="variable">y</span></a>) (<a class="idref" href="MMaps.Facts.html#f:945"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#y:956"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#x:955"><span class="id" title="variable">x</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="u:958" class="idref" href="#u:958"><span class="id" title="binder">u</span></a>: <a class="idref" href="MMaps.Facts.html#A:937"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="u_unit:960" class="idref" href="#u_unit:960"><span class="id" title="binder">u_unit</span></a>: <span class="id" title="keyword">∀</span> <a id="x:959" class="idref" href="#x:959"><span class="id" title="binder">x</span></a>, <a class="idref" href="MMaps.Facts.html#eqv:938"><span class="id" title="variable">eqv</span></a> (<a class="idref" href="MMaps.Facts.html#f:945"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#u:958"><span class="id" title="variable">u</span></a> <a class="idref" href="MMaps.Facts.html#x:959"><span class="id" title="variable">x</span></a>) <a class="idref" href="MMaps.Facts.html#x:959"><span class="id" title="variable">x</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="g:961" class="idref" href="#g:961"><span class="id" title="binder">g</span></a>: <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#elt:936"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#A:937"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#A:937"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="g_eqv:965" class="idref" href="#g_eqv:965"><span class="id" title="binder">g_eqv</span></a>: <span class="id" title="keyword">∀</span> <a id="k:962" class="idref" href="#k:962"><span class="id" title="binder">k</span></a> <a id="x:963" class="idref" href="#x:963"><span class="id" title="binder">x</span></a> <a id="a:964" class="idref" href="#a:964"><span class="id" title="binder">a</span></a>, <a class="idref" href="MMaps.Facts.html#eqv:938"><span class="id" title="variable">eqv</span></a> (<a class="idref" href="MMaps.Facts.html#g:961"><span class="id" title="variable">g</span></a> <a class="idref" href="MMaps.Facts.html#k:962"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#x:963"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#a:964"><span class="id" title="variable">a</span></a>) (<a class="idref" href="MMaps.Facts.html#f:945"><span class="id" title="variable">f</span></a> (<a class="idref" href="MMaps.Facts.html#lift:940"><span class="id" title="variable">lift</span></a> <a class="idref" href="MMaps.Facts.html#k:962"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#x:963"><span class="id" title="variable">x</span></a>) <a class="idref" href="MMaps.Facts.html#a:964"><span class="id" title="variable">a</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="tab1:966" class="idref" href="#tab1:966"><span class="id" title="binder">tab1</span></a> <a id="tab2:967" class="idref" href="#tab2:967"><span class="id" title="binder">tab2</span></a>: <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#elt:936"><span class="id" title="variable">elt</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#tab1:966"><span class="id" title="variable">tab1</span></a> <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.Facts.html#tab2:967"><span class="id" title="variable">tab2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#eqv:938"><span class="id" title="variable">eqv</span></a> (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <a class="idref" href="MMaps.Facts.html#g:961"><span class="id" title="variable">g</span></a> <a class="idref" href="MMaps.Facts.html#tab1:966"><span class="id" title="variable">tab1</span></a> <a class="idref" href="MMaps.Facts.html#u:958"><span class="id" title="variable">u</span></a>) (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <a class="idref" href="MMaps.Facts.html#g:961"><span class="id" title="variable">g</span></a> <a class="idref" href="MMaps.Facts.html#tab2:967"><span class="id" title="variable">tab2</span></a> <a class="idref" href="MMaps.Facts.html#u:958"><span class="id" title="variable">u</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">ND1</span> := <a class="idref" href="MMaps.Facts.html#Properties.bindings_3w"><span class="id" title="lemma">bindings_3w</span></a> <span class="id" title="var">tab1</span>).<br/>
&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">ND2</span> := <a class="idref" href="MMaps.Facts.html#Properties.bindings_3w"><span class="id" title="lemma">bindings_3w</span></a> <span class="id" title="var">tab2</span>).<br/>
&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.eq_key"><span class="id" title="definition">eq_key</span></a> (<span class="id" title="var">elt</span>:=<span class="id" title="var">elt</span>))). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#Properties.eq_key"><span class="id" title="definition">eq_key</span></a>, <a class="idref" href="MMaps.Interface.html#Fst"><span class="id" title="definition">Fst</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">etransitivity</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#M.fold_spec"><span class="id" title="axiom">fold_spec</span></a>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#fold_left_rev_right"><span class="id" title="lemma">fold_left_rev_right</span></a>.<br/>
&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<span class="id" title="keyword">fun</span> <a id="p:968" class="idref" href="#p:968"><span class="id" title="binder"><span id="p:970" class="id">p</span></span></a> ⇒ <span class="id" title="var">f</span> (<span class="id" title="var">lift</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MMaps.Facts.html#p:968"><span class="id" title="variable">p</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MMaps.Facts.html#p:968"><span class="id" title="variable">p</span></a>))) <span class="id" title="var">u</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">tab1</span>)));<br/>
&nbsp;&nbsp;[ |  <span class="id" title="tactic">transitivity</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<span class="id" title="keyword">fun</span> <a id="p:969" class="idref" href="#p:969"><span class="id" title="binder"><span id="p:971" class="id">p</span></span></a> ⇒ <span class="id" title="var">f</span> (<span class="id" title="var">lift</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MMaps.Facts.html#p:969"><span class="id" title="variable">p</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MMaps.Facts.html#p:969"><span class="id" title="variable">p</span></a>))) <span class="id" title="var">u</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">tab2</span>)))].<br/>

<br/>
&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">u_unit</span>; <span class="id" title="var">revert</span> <span class="id" title="var">u</span>; <span class="id" title="tactic">induction</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">tab1</span>)) <span class="id" title="keyword">as</span> [ | [<span class="id" title="var">a</span> <span class="id" title="var">y</span>] <span class="id" title="var">al</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">reflexivity</span> | ]; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">g_eqv</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">f_mor</span>; [<span class="id" title="tactic">reflexivity</span> | ]; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHal</span>.<br/>
&nbsp;2: <span class="id" title="tactic">symmetry</span>; <br/>
&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">u_unit</span>; <span class="id" title="var">revert</span> <span class="id" title="var">u</span>; <span class="id" title="tactic">induction</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">tab2</span>)) <span class="id" title="keyword">as</span> [ | [<span class="id" title="var">a</span> <span class="id" title="var">y</span>] <span class="id" title="var">al</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">reflexivity</span> | ]; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">g_eqv</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">f_mor</span>; [<span class="id" title="tactic">reflexivity</span> | ]; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHal</span>.<br/>
&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">g</span> <span class="id" title="var">g_eqv</span> <span class="id" title="var">u_unit</span>.<br/>
&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">∀</span> <a id="x:972" class="idref" href="#x:972"><span class="id" title="binder"><span id="x:973" class="id">x</span></span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.keyb_eq"><span class="id" title="definition">keyb_eq</span></a> (<span class="id" title="var">elt</span>:=<span class="id" title="var">elt</span>)) <a class="idref" href="MMaps.Facts.html#x:972"><span class="id" title="variable">x</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">tab1</span>)) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.keyb_eq"><span class="id" title="definition">keyb_eq</span></a> (<span class="id" title="var">elt</span>:=<span class="id" title="var">elt</span>)) <a class="idref" href="MMaps.Facts.html#x:972"><span class="id" title="variable">x</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">tab2</span>)))<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_rev"><span class="id" title="lemma">InA_rev</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.bindings_Equal"><span class="id" title="lemma">bindings_Equal</span></a>; <span class="id" title="tactic">auto</span>).<br/>
&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#NoDupA_rev"><span class="id" title="lemma">NoDupA_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ND1</span>, <span class="id" title="var">ND2</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;<span class="id" title="tactic">change</span> <a class="idref" href="MMaps.Facts.html#K.t"><span class="id" title="axiom">K.t</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">al</span> := <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">tab1</span>)) <span class="id" title="tactic">in</span> *; <span class="id" title="var">clearbody</span> <span class="id" title="var">al</span>.<br/>
&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">bl</span> := <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">tab2</span>)) <span class="id" title="tactic">in</span> *; <span class="id" title="var">clearbody</span> <span class="id" title="var">bl</span>.<br/>
&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span> <span class="id" title="var">tab1</span> <span class="id" title="var">tab2</span>.<br/>
&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">bl</span> <span class="id" title="var">ND2</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">al</span> <span class="id" title="keyword">as</span> [ | [<span class="id" title="var">a</span> <span class="id" title="var">x</span>] <span class="id" title="var">al</span>]; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">ND2</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">ND2</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hx</span>: <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.keyb_eq"><span class="id" title="definition">keyb_eq</span></a> (<span class="id" title="var">elt</span>:=<span class="id" title="var">elt</span>)) <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>); [ | <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hx</span>].<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">left</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;- <span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="a':974" class="idref" href="#a':974"><span class="id" title="binder"><span id="a':975" class="id">a'</span></span></a>: <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <span class="id" title="var">a</span> <a class="idref" href="MMaps.Facts.html#a':974"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#a':974"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">bl</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H1</span> <span class="id" title="var">ND2</span> <span class="id" title="var">ND1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">ND1</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">ND1</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H1</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">_</span>]. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> (<span class="id" title="keyword">ltac</span>:(<span class="id" title="tactic">left</span>; <span class="id" title="tactic">reflexivity</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">bl</span> <span class="id" title="keyword">as</span> [ | [<span class="id" title="var">b</span> <span class="id" title="var">y</span>] <span class="id" title="var">bl</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHbl</span> <span class="id" title="var">H1</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">z</span> [? ?]]. <span class="id" title="tactic">∃</span> <span class="id" title="var">z</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a'</span> [? ?]].<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">ND1</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">ND1</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHal</span> <span class="id" title="var">H6</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">List.filter</span></a> (<span class="id" title="keyword">fun</span> <a id="p:976" class="idref" href="#p:976"><span class="id" title="binder"><span id="p:977" class="id">p</span></span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MMaps.Facts.html#p:976"><span class="id" title="variable">p</span></a>) <span class="id" title="var">a'</span>)) <span class="id" title="var">bl</span>)).<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">f_mor</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">lift_prop</span> <span class="id" title="var">a</span> <span class="id" title="var">a'</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHal</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Utils.html#NoDupA_filter"><span class="id" title="lemma">NoDupA_filter</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;+<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H1</span> <span class="id" title="var">H5</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">EQ0</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">PR</span>: <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.keyb_eq"><span class="id" title="definition">keyb_eq</span></a> (<span class="id" title="var">elt</span>:=<span class="id" title="var">elt</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) (<span class="id" title="keyword">fun</span> <a id="p:978" class="idref" href="#p:978"><span class="id" title="binder"><span id="p:979" class="id">p</span></span></a> : <a class="idref" href="MMaps.Facts.html#K.t"><span class="id" title="axiom">K.t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <span class="id" title="var">elt</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MMaps.Facts.html#p:978"><span class="id" title="variable">p</span></a>) <span class="id" title="var">a'</span>))). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">_</span>]. <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">x</span>) <span class="id" title="var">a'</span>) <span class="id" title="var">eqn</span>:?<span class="id" title="var">H</span>, (<a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">y</span>) <span class="id" title="var">a'</span>) <span class="id" title="var">eqn</span>:?<span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">k</span> <span class="id" title="var">y</span>]. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H1</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">k</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">bl</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">al</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#filter_InA"><span class="id" title="lemma">filter_InA</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.keyb_eq"><span class="id" title="definition">keyb_eq</span></a> (<span class="id" title="var">elt</span>:=<span class="id" title="var">elt</span>)) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">k</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">bl</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H1</span>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#filter_InA"><span class="id" title="lemma">filter_InA</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> <span class="id" title="var">k</span> <span class="id" title="var">a'</span>) <span class="id" title="var">eqn</span>:?<span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="var">contradiction</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">clear</span> - <span class="id" title="var">H0</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">al</span> <span class="id" title="keyword">as</span> [| [<span class="id" title="var">j</span> <span class="id" title="var">z</span>] <span class="id" title="var">al</span>]; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">hnf</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHal</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#filter_InA"><span class="id" title="lemma">filter_InA</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;+<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">IHal</span> <span class="id" title="var">H</span> <span class="id" title="var">H5</span> <span class="id" title="var">H6</span> <span class="id" title="var">al</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">bl</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">ND2</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">ND2</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHbl</span> <span class="id" title="var">H4</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">f_mor</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <span class="id" title="var">a'</span> <span class="id" title="var">a'</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">IHbl</span> <span class="id" title="var">H4</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">bl</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <span class="id" title="var">a'</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">a0</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eq_key"><span class="id" title="definition">eq_key</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">bl</span>). <span class="id" title="tactic">split</span>; <span class="id" title="var">contradict</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">left</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">right</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">a0</span>) <span class="id" title="var">a'</span>) <span class="id" title="var">eqn</span>:?<span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">f_mor</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">a0</span>) <span class="id" title="var">a'</span>) <span class="id" title="var">eqn</span>:?<span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">clear</span> - <span class="id" title="var">H1</span> <span class="id" title="var">H</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">bl</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">left</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">right</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. 2: <span class="id" title="tactic">apply</span> <span class="id" title="var">f_mor</span>; [ | <span class="id" title="tactic">apply</span> <span class="id" title="var">IHbl</span>; <span class="id" title="tactic">auto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1:= (<span class="id" title="var">lift</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">a0</span>) (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="var">a0</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">f_assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">f_mor</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">f_commut</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">f_assoc</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.bindings_remove" class="idref" href="#Properties.bindings_remove"><span class="id" title="lemma">bindings_remove</span></a>: <br/>
&nbsp;<span class="id" title="keyword">∀</span> {<a id="elt:980" class="idref" href="#elt:980"><span class="id" title="binder">elt</span></a>} <a id="k:981" class="idref" href="#k:981"><span class="id" title="binder">k</span></a> <a id="tab:982" class="idref" href="#tab:982"><span class="id" title="binder">tab</span></a> <a id="k':983" class="idref" href="#k':983"><span class="id" title="binder">k'</span></a> <a id="y:984" class="idref" href="#y:984"><span class="id" title="binder">y</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.keyb_eq"><span class="id" title="definition">keyb_eq</span></a> (<span class="id" title="var">elt</span>:=<a class="idref" href="MMaps.Facts.html#elt:980"><span class="id" title="variable">elt</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#k':983"><span class="id" title="variable">k'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.Facts.html#y:984"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <a class="idref" href="MMaps.Facts.html#k:981"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#tab:982"><span class="id" title="variable">tab</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.keyb_eq"><span class="id" title="definition">keyb_eq</span></a> (<span class="id" title="var">elt</span>:=<a class="idref" href="MMaps.Facts.html#elt:980"><span class="id" title="variable">elt</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#k':983"><span class="id" title="variable">k'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.Facts.html#y:984"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">List.filter</span></a> (<span class="id" title="keyword">fun</span> <a id="p:985" class="idref" href="#p:985"><span class="id" title="binder">p</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MMaps.Facts.html#p:985"><span class="id" title="variable">p</span></a>) <a class="idref" href="MMaps.Facts.html#k:981"><span class="id" title="variable">k</span></a>)) (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#tab:982"><span class="id" title="variable">tab</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#filter_InA"><span class="id" title="lemma">filter_InA</span></a>.<br/>
2:{<br/>
<span class="id" title="tactic">intros</span> ? ? [? <span class="id" title="var">_</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">f_equal</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a> <span class="id" title="tactic">in</span> ×.<br/>
<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">x</span>) <span class="id" title="var">k</span>) <span class="id" title="var">eqn</span>:?<span class="id" title="var">H</span>, (<a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">y0</span>) <span class="id" title="var">k</span>) <span class="id" title="var">eqn</span>:?<span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">congruence</span>.<br/>
}<br/>
<span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="MMaps.Facts.html#Properties.bindings_mapsto_iff"><span class="id" title="lemma">bindings_mapsto_iff</span></a>.<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.remove_mapsto_iff"><span class="id" title="lemma">remove_mapsto_iff</span></a>.<br/>
<span class="id" title="tactic">simpl</span>.<br/>
<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> [? ?]; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> <span class="id" title="var">k'</span> <span class="id" title="var">k</span>) <span class="id" title="var">eqn</span>:?<span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="var">contradiction</span>.<br/>
<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">discriminate</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  The lemma <span class="inlinecode"><a class="idref" href="MMaps.Facts.html#Properties.relate_fold_add"><span class="id" title="lemma">relate_fold_add</span></a></span> is useful when one is interpreting a table as a "fold"
  of an associative-commutative operator.

<div class="paragraph"> </div>

  For an example of its use, see sections 8 and 9 of this paper,
  "VCFloat2: Floating-point Error Analysis in Coq",
  by Andrew W. Appel and Ariel E. Kellison, in CPP'24: ACM SIGPLAN International Conference
  on Certified Programs and Proofs, (to appear) January 2024,
  https://doi.org/10.1145/3636501.3636953
  or see "Prune.v" in https://github.com/VeriNum/vcfloat

<div class="paragraph"> </div>

  For a simpler example, see <span class="inlinecode"><a class="idref" href="MMaps.demo.html#add_to_table_correct"><span class="id" title="lemma">add_to_table_correct</span></a></span> in the file demo.v.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Properties.relate_fold_add" class="idref" href="#Properties.relate_fold_add"><span class="id" title="lemma">relate_fold_add</span></a>:<br/>
&nbsp;<span class="id" title="keyword">∀</span> [<a id="elt:986" class="idref" href="#elt:986"><span class="id" title="binder">elt</span></a> <a id="A:987" class="idref" href="#A:987"><span class="id" title="binder">A</span></a>: <span class="id" title="keyword">Type</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<a id="eqv:988" class="idref" href="#eqv:988"><span class="id" title="binder">eqv</span></a>: <a class="idref" href="MMaps.Facts.html#A:987"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#A:987"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>] <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="eqv_rel:989" class="idref" href="#eqv_rel:989"><span class="id" title="binder">eqv_rel</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="MMaps.Facts.html#eqv:988"><span class="id" title="variable">eqv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="lift:990" class="idref" href="#lift:990"><span class="id" title="binder">lift</span></a>: <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#elt:986"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#A:987"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="lift_prop:994" class="idref" href="#lift_prop:994"><span class="id" title="binder">lift_prop</span></a>: <span class="id" title="keyword">∀</span> <a id="k:991" class="idref" href="#k:991"><span class="id" title="binder">k</span></a> <a id="k':992" class="idref" href="#k':992"><span class="id" title="binder">k'</span></a> <a id="x:993" class="idref" href="#x:993"><span class="id" title="binder">x</span></a>, <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="MMaps.Facts.html#k:991"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#k':992"><span class="id" title="variable">k'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#eqv:988"><span class="id" title="variable">eqv</span></a> (<a class="idref" href="MMaps.Facts.html#lift:990"><span class="id" title="variable">lift</span></a> <a class="idref" href="MMaps.Facts.html#k:991"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#x:993"><span class="id" title="variable">x</span></a>) (<a class="idref" href="MMaps.Facts.html#lift:990"><span class="id" title="variable">lift</span></a> <a class="idref" href="MMaps.Facts.html#k':992"><span class="id" title="variable">k'</span></a> <a class="idref" href="MMaps.Facts.html#x:993"><span class="id" title="variable">x</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f:995" class="idref" href="#f:995"><span class="id" title="binder">f</span></a>:  <a class="idref" href="MMaps.Facts.html#A:987"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#A:987"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#A:987"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f_mor:1000" class="idref" href="#f_mor:1000"><span class="id" title="binder">f_mor</span></a>: <span class="id" title="keyword">∀</span> <a id="x1:996" class="idref" href="#x1:996"><span class="id" title="binder">x1</span></a> <a id="y1:997" class="idref" href="#y1:997"><span class="id" title="binder">y1</span></a>, <a class="idref" href="MMaps.Facts.html#eqv:988"><span class="id" title="variable">eqv</span></a> <a class="idref" href="MMaps.Facts.html#x1:996"><span class="id" title="variable">x1</span></a> <a class="idref" href="MMaps.Facts.html#y1:997"><span class="id" title="variable">y1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x2:998" class="idref" href="#x2:998"><span class="id" title="binder">x2</span></a> <a id="y2:999" class="idref" href="#y2:999"><span class="id" title="binder">y2</span></a>, <a class="idref" href="MMaps.Facts.html#eqv:988"><span class="id" title="variable">eqv</span></a> <a class="idref" href="MMaps.Facts.html#x2:998"><span class="id" title="variable">x2</span></a> <a class="idref" href="MMaps.Facts.html#y2:999"><span class="id" title="variable">y2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#eqv:988"><span class="id" title="variable">eqv</span></a> (<a class="idref" href="MMaps.Facts.html#f:995"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#x1:996"><span class="id" title="variable">x1</span></a> <a class="idref" href="MMaps.Facts.html#x2:998"><span class="id" title="variable">x2</span></a>) (<a class="idref" href="MMaps.Facts.html#f:995"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#y1:997"><span class="id" title="variable">y1</span></a> <a class="idref" href="MMaps.Facts.html#y2:999"><span class="id" title="variable">y2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f_assoc:1004" class="idref" href="#f_assoc:1004"><span class="id" title="binder">f_assoc</span></a>: <span class="id" title="keyword">∀</span> <a id="x:1001" class="idref" href="#x:1001"><span class="id" title="binder">x</span></a> <a id="y:1002" class="idref" href="#y:1002"><span class="id" title="binder">y</span></a> <a id="z:1003" class="idref" href="#z:1003"><span class="id" title="binder">z</span></a> : <a class="idref" href="MMaps.Facts.html#A:987"><span class="id" title="variable">A</span></a>, <a class="idref" href="MMaps.Facts.html#eqv:988"><span class="id" title="variable">eqv</span></a> (<a class="idref" href="MMaps.Facts.html#f:995"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#x:1001"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.Facts.html#f:995"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#y:1002"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#z:1003"><span class="id" title="variable">z</span></a>)) (<a class="idref" href="MMaps.Facts.html#f:995"><span class="id" title="variable">f</span></a> (<a class="idref" href="MMaps.Facts.html#f:995"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#x:1001"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:1002"><span class="id" title="variable">y</span></a>) <a class="idref" href="MMaps.Facts.html#z:1003"><span class="id" title="variable">z</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f_commut:1007" class="idref" href="#f_commut:1007"><span class="id" title="binder">f_commut</span></a>: <span class="id" title="keyword">∀</span> <a id="x:1005" class="idref" href="#x:1005"><span class="id" title="binder">x</span></a> <a id="y:1006" class="idref" href="#y:1006"><span class="id" title="binder">y</span></a> : <a class="idref" href="MMaps.Facts.html#A:987"><span class="id" title="variable">A</span></a>, <a class="idref" href="MMaps.Facts.html#eqv:988"><span class="id" title="variable">eqv</span></a> (<a class="idref" href="MMaps.Facts.html#f:995"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#x:1005"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:1006"><span class="id" title="variable">y</span></a>) (<a class="idref" href="MMaps.Facts.html#f:995"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#y:1006"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#x:1005"><span class="id" title="variable">x</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="u:1008" class="idref" href="#u:1008"><span class="id" title="binder">u</span></a>: <a class="idref" href="MMaps.Facts.html#A:987"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="u_unit:1010" class="idref" href="#u_unit:1010"><span class="id" title="binder">u_unit</span></a>: <span class="id" title="keyword">∀</span> <a id="x:1009" class="idref" href="#x:1009"><span class="id" title="binder">x</span></a>, <a class="idref" href="MMaps.Facts.html#eqv:988"><span class="id" title="variable">eqv</span></a> (<a class="idref" href="MMaps.Facts.html#f:995"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#u:1008"><span class="id" title="variable">u</span></a> <a class="idref" href="MMaps.Facts.html#x:1009"><span class="id" title="variable">x</span></a>) <a class="idref" href="MMaps.Facts.html#x:1009"><span class="id" title="variable">x</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="g:1011" class="idref" href="#g:1011"><span class="id" title="binder">g</span></a>: <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#elt:986"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#A:987"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#A:987"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="g_eqv:1015" class="idref" href="#g_eqv:1015"><span class="id" title="binder">g_eqv</span></a>: <span class="id" title="keyword">∀</span> <a id="k:1012" class="idref" href="#k:1012"><span class="id" title="binder">k</span></a> <a id="x:1013" class="idref" href="#x:1013"><span class="id" title="binder">x</span></a> <a id="a:1014" class="idref" href="#a:1014"><span class="id" title="binder">a</span></a>, <a class="idref" href="MMaps.Facts.html#eqv:988"><span class="id" title="variable">eqv</span></a> (<a class="idref" href="MMaps.Facts.html#g:1011"><span class="id" title="variable">g</span></a> <a class="idref" href="MMaps.Facts.html#k:1012"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#x:1013"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#a:1014"><span class="id" title="variable">a</span></a>) (<a class="idref" href="MMaps.Facts.html#f:995"><span class="id" title="variable">f</span></a> (<a class="idref" href="MMaps.Facts.html#lift:990"><span class="id" title="variable">lift</span></a> <a class="idref" href="MMaps.Facts.html#k:1012"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#x:1013"><span class="id" title="variable">x</span></a>) <a class="idref" href="MMaps.Facts.html#a:1014"><span class="id" title="variable">a</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="tab:1016" class="idref" href="#tab:1016"><span class="id" title="binder">tab</span></a>: <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#elt:986"><span class="id" title="variable">elt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="k:1017" class="idref" href="#k:1017"><span class="id" title="binder">k</span></a>: <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a>) (<a id="new:1018" class="idref" href="#new:1018"><span class="id" title="binder">new</span></a> <a id="oldnew:1019" class="idref" href="#oldnew:1019"><span class="id" title="binder">oldnew</span></a> : <a class="idref" href="MMaps.Facts.html#elt:986"><span class="id" title="variable">elt</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#eqv:988"><span class="id" title="variable">eqv</span></a> (<a class="idref" href="MMaps.Facts.html#f:995"><span class="id" title="variable">f</span></a> (<a class="idref" href="MMaps.Facts.html#lift:990"><span class="id" title="variable">lift</span></a> <a class="idref" href="MMaps.Facts.html#k:1017"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#new:1018"><span class="id" title="variable">new</span></a>) (<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#k:1017"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#tab:1016"><span class="id" title="variable">tab</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">x</span> ⇒ <a class="idref" href="MMaps.Facts.html#lift:990"><span class="id" title="variable">lift</span></a> <a class="idref" href="MMaps.Facts.html#k:1017"><span class="id" title="variable">k</span></a> <span class="id" title="var">x</span> | <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="MMaps.Facts.html#u:1008"><span class="id" title="variable">u</span></a> <span class="id" title="keyword">end</span>)) (<a class="idref" href="MMaps.Facts.html#lift:990"><span class="id" title="variable">lift</span></a> <a class="idref" href="MMaps.Facts.html#k:1017"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#oldnew:1019"><span class="id" title="variable">oldnew</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#eqv:988"><span class="id" title="variable">eqv</span></a> (<a class="idref" href="MMaps.Facts.html#f:995"><span class="id" title="variable">f</span></a> (<a class="idref" href="MMaps.Facts.html#lift:990"><span class="id" title="variable">lift</span></a> <a class="idref" href="MMaps.Facts.html#k:1017"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#new:1018"><span class="id" title="variable">new</span></a>) (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <a class="idref" href="MMaps.Facts.html#g:1011"><span class="id" title="variable">g</span></a> <a class="idref" href="MMaps.Facts.html#tab:1016"><span class="id" title="variable">tab</span></a> <a class="idref" href="MMaps.Facts.html#u:1008"><span class="id" title="variable">u</span></a>)) (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <a class="idref" href="MMaps.Facts.html#g:1011"><span class="id" title="variable">g</span></a> (<a class="idref" href="MMaps.Facts.html#M.add"><span class="id" title="axiom">add</span></a> <a class="idref" href="MMaps.Facts.html#k:1017"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#oldnew:1019"><span class="id" title="variable">oldnew</span></a> <a class="idref" href="MMaps.Facts.html#tab:1016"><span class="id" title="variable">tab</span></a>) <a class="idref" href="MMaps.Facts.html#u:1008"><span class="id" title="variable">u</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">set</span> (<span class="id" title="var">get</span> <a id="k:1020" class="idref" href="#k:1020"><span class="id" title="binder"><span id="k:1022" class="id">k</span></span></a> <a id="tab:1021" class="idref" href="#tab:1021"><span class="id" title="binder"><span id="tab:1023" class="id">tab</span></span></a> := <span class="id" title="keyword">match</span> <a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <a class="idref" href="MMaps.Facts.html#k:1020"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#tab:1021"><span class="id" title="variable">tab</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">x</span> ⇒ <span class="id" title="var">lift</span> <a class="idref" href="MMaps.Facts.html#k:1020"><span class="id" title="variable">k</span></a> <span class="id" title="var">x</span> | <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <span class="id" title="var">u</span> <span class="id" title="keyword">end</span>) <span class="id" title="tactic">in</span> ×.<br/>
<span class="id" title="tactic">fold</span> (<span class="id" title="var">get</span> <span class="id" title="var">k</span> <span class="id" title="var">tab</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">∀</span> <a id="tab:1024" class="idref" href="#tab:1024"><span class="id" title="binder"><span id="tab:1026" class="id">tab</span></span></a> <a id="k:1025" class="idref" href="#k:1025"><span class="id" title="binder"><span id="k:1027" class="id">k</span></span></a>, <span class="id" title="var">eqv</span> (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <span class="id" title="var">g</span> <a class="idref" href="MMaps.Facts.html#tab:1024"><span class="id" title="variable">tab</span></a> <span class="id" title="var">u</span>) (<span class="id" title="var">f</span> (<span class="id" title="var">get</span> <a class="idref" href="MMaps.Facts.html#k:1025"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#tab:1024"><span class="id" title="variable">tab</span></a>) (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <span class="id" title="var">g</span> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <a class="idref" href="MMaps.Facts.html#k:1025"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#tab:1024"><span class="id" title="variable">tab</span></a>) <span class="id" title="var">u</span>))). {<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span> <span class="id" title="var">oldnew</span> <span class="id" title="var">new</span> <span class="id" title="var">tab</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">get</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">h</span> := <span class="id" title="keyword">fun</span> (<a id="y:1028" class="idref" href="#y:1028"><span class="id" title="binder"><span id="y:1030" class="id">y</span></span></a> : <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <span class="id" title="var">elt</span>) (<a id="x:1029" class="idref" href="#x:1029"><span class="id" title="binder"><span id="x:1031" class="id">x</span></span></a> : <span class="id" title="var">A</span>) ⇒ <span class="id" title="var">g</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MMaps.Facts.html#y:1028"><span class="id" title="variable">y</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="MMaps.Facts.html#y:1028"><span class="id" title="variable">y</span></a>) <a class="idref" href="MMaps.Facts.html#x:1029"><span class="id" title="variable">x</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">DEL</span>: <span class="id" title="keyword">∀</span> <a id="al:1032" class="idref" href="#al:1032"><span class="id" title="binder"><span id="al:1037" class="id">al</span></span></a> <a id="z:1033" class="idref" href="#z:1033"><span class="id" title="binder"><span id="z:1038" class="id">z</span></span></a> <a id="k:1034" class="idref" href="#k:1034"><span class="id" title="binder"><span id="k:1039" class="id">k</span></span></a> <a id="e:1035" class="idref" href="#e:1035"><span class="id" title="binder"><span id="e:1040" class="id">e</span></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#findA"><span class="id" title="definition">findA</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> <a class="idref" href="MMaps.Facts.html#k:1034"><span class="id" title="variable">k</span></a>) <a class="idref" href="MMaps.Facts.html#al:1032"><span class="id" title="variable">al</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MMaps.Facts.html#e:1035"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#NoDupA"><span class="id" title="inductive">NoDupA</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eq_key"><span class="id" title="definition">eq_key</span></a> <a class="idref" href="MMaps.Facts.html#al:1032"><span class="id" title="variable">al</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eqv</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> <span class="id" title="var">h</span> <a class="idref" href="MMaps.Facts.html#z:1033"><span class="id" title="variable">z</span></a> <a class="idref" href="MMaps.Facts.html#al:1032"><span class="id" title="variable">al</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> (<span class="id" title="var">lift</span> <a class="idref" href="MMaps.Facts.html#k:1034"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.Facts.html#e:1035"><span class="id" title="variable">e</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> <span class="id" title="var">h</span> <a class="idref" href="MMaps.Facts.html#z:1033"><span class="id" title="variable">z</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">List.filter</span></a> (<span class="id" title="keyword">fun</span> <a id="p:1036" class="idref" href="#p:1036"><span class="id" title="binder"><span id="p:1041" class="id">p</span></span></a> : <a class="idref" href="MMaps.Facts.html#K.t"><span class="id" title="axiom">K.t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <span class="id" title="var">elt</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MMaps.Facts.html#p:1036"><span class="id" title="variable">p</span></a>) <a class="idref" href="MMaps.Facts.html#k:1034"><span class="id" title="variable">k</span></a>)) <a class="idref" href="MMaps.Facts.html#al:1032"><span class="id" title="variable">al</span></a>)))). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">al</span> <span class="id" title="keyword">as</span> [ | [<span class="id" title="var">a</span> <span class="id" title="var">x</span>] <span class="id" title="var">al</span>]. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> <span class="id" title="var">k</span> <span class="id" title="var">a</span>) <span class="id" title="var">eqn</span>:?<span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">IHal</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">h</span> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">g_eqv</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">f_mor</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">lift_prop</span>; <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">al</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">h</span> <span class="id" title="tactic">at</span> 1; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">g_eqv</span>. <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">f_mor</span>; [<span class="id" title="tactic">reflexivity</span> |]. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">a0</span>) <span class="id" title="var">k</span>) <span class="id" title="var">eqn</span>:?<span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">contradiction</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">left</span>; <span class="id" title="tactic">hnf</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">h</span> <span class="id" title="tactic">at</span> 2. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">g_eqv</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">h</span> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">g_eqv</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_sym"><span class="id" title="lemma">eqb_sym</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">h</span> <span class="id" title="tactic">at</span> 2. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">f_mor</span>; [ <span class="id" title="tactic">reflexivity</span> | <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">g_eqv</span> ]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">f_assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">f_mor</span>; [ <span class="id" title="tactic">apply</span> <span class="id" title="var">f_commut</span> | <span class="id" title="tactic">reflexivity</span> ]]. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">f_assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">f_mor</span> ; [ <span class="id" title="tactic">reflexivity</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.find"><span class="id" title="axiom">find</span></a> <span class="id" title="var">k</span> <span class="id" title="var">tab</span>) <span class="id" title="var">eqn</span>:?<span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MMaps.Facts.html#Properties.bindings_remove"><span class="id" title="lemma">bindings_remove</span></a> <span class="id" title="var">k</span> <span class="id" title="var">tab</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#M.fold_spec"><span class="id" title="axiom">fold_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">z</span> := <span class="id" title="var">u</span>). <span class="id" title="var">clearbody</span> <span class="id" title="var">z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.bindings_o"><span class="id" title="lemma">bindings_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#fold_left_rev_right"><span class="id" title="lemma">fold_left_rev_right</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">∀</span> (<a id="k':1042" class="idref" href="#k':1042"><span class="id" title="binder"><span id="k':1045" class="id">k'</span></span></a> : <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a>) (<a id="y:1043" class="idref" href="#y:1043"><span class="id" title="binder"><span id="y:1046" class="id">y</span></span></a> : <span class="id" title="var">elt</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.keyb_eq"><span class="id" title="definition">keyb_eq</span></a> (<span class="id" title="var">elt</span>:=<span class="id" title="var">elt</span>)) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#k':1042"><span class="id" title="variable">k'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MMaps.Facts.html#y:1043"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <span class="id" title="var">k</span> <span class="id" title="var">tab</span>))) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.keyb_eq"><span class="id" title="definition">keyb_eq</span></a> (<span class="id" title="var">elt</span>:=<span class="id" title="var">elt</span>)) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#k':1042"><span class="id" title="variable">k'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MMaps.Facts.html#y:1043"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">List.filter</span></a> (<span class="id" title="keyword">fun</span> <a id="p:1044" class="idref" href="#p:1044"><span class="id" title="binder"><span id="p:1047" class="id">p</span></span></a> : <a class="idref" href="MMaps.Facts.html#K.t"><span class="id" title="axiom">K.t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <span class="id" title="var">elt</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MMaps.Facts.html#p:1044"><span class="id" title="variable">p</span></a>) <span class="id" title="var">k</span>)) (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">tab</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.Utils.html#filter_rev"><span class="id" title="lemma">filter_rev</span></a>, !<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_rev"><span class="id" title="lemma">InA_rev</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MMaps.Facts.html#Properties.bindings_3w"><span class="id" title="lemma">bindings_3w</span></a> <span class="id" title="var">tab</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MMaps.Facts.html#Properties.bindings_3w"><span class="id" title="lemma">bindings_3w</span></a> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <span class="id" title="var">k</span> <span class="id" title="var">tab</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#Properties.findA_rev"><span class="id" title="lemma">findA_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#NoDupA_rev"><span class="id" title="lemma">NoDupA_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; [ |  <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqk_equiv"><span class="id" title="instance">eqk_equiv</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#NoDupA_rev"><span class="id" title="lemma">NoDupA_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; [ |  <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqk_equiv"><span class="id" title="instance">eqk_equiv</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> <a class="idref" href="MMaps.Facts.html#K.t"><span class="id" title="axiom">K.t</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>,<span class="id" title="var">H0</span>,<span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <span class="id" title="var">k</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <span class="id" title="var">k</span> <span class="id" title="var">tab</span>))))). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#map_rev"><span class="id" title="lemma">List.map_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_rev"><span class="id" title="lemma">InA_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#Properties.in_fst_bindings_iff"><span class="id" title="lemma">in_fst_bindings_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.remove_in_iff"><span class="id" title="lemma">remove_in_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">bl</span> := <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <span class="id" title="var">k</span> <span class="id" title="var">tab</span>))) <span class="id" title="tactic">in</span> *; <span class="id" title="var">clearbody</span> <span class="id" title="var">bl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">al</span> := <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">tab</span>)) <span class="id" title="tactic">in</span> *; <span class="id" title="var">clearbody</span> <span class="id" title="var">al</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">DEL</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">f_mor</span>; [ <span class="id" title="tactic">reflexivity</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">al'</span> := <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">List.filter</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#NoDupA"><span class="id" title="inductive">NoDupA</span></a> <a class="idref" href="MMaps.Facts.html#Properties.eq_key"><span class="id" title="definition">eq_key</span></a> <span class="id" title="var">al'</span>). <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Utils.html#NoDupA_filter"><span class="id" title="lemma">NoDupA_filter</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">al'</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">al</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">bl</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">al'</span> <span class="id" title="keyword">as</span> [ | [<span class="id" title="var">a</span> <span class="id" title="var">x</span>] <span class="id" title="var">al</span>]; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">bl</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H1</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">p</span>) (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="var">p</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.keyb_eq"><span class="id" title="definition">keyb_eq</span></a> (<span class="id" title="var">elt</span>:=<span class="id" title="var">elt</span>)) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>). <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">left</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHal</span> <span class="id" title="var">H2</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">List.filter</span></a> (<span class="id" title="keyword">fun</span> <a id="p:1048" class="idref" href="#p:1048"><span class="id" title="binder"><span id="p:1049" class="id">p</span></span></a> : <a class="idref" href="MMaps.Facts.html#K.t"><span class="id" title="axiom">K.t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <span class="id" title="var">elt</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MMaps.Facts.html#p:1048"><span class="id" title="variable">p</span></a>) <span class="id" title="var">a</span>)) <span class="id" title="var">bl</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">h</span> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">g_eqv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">f_mor</span>; [<span class="id" title="tactic">reflexivity</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">PR</span>: <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.keyb_eq"><span class="id" title="definition">keyb_eq</span></a> (<span class="id" title="var">elt</span>:=<span class="id" title="var">elt</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) (<span class="id" title="keyword">fun</span> <a id="p:1050" class="idref" href="#p:1050"><span class="id" title="binder"><span id="p:1051" class="id">p</span></span></a> : <a class="idref" href="MMaps.Facts.html#K.t"><span class="id" title="axiom">K.t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <span class="id" title="var">elt</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MMaps.Facts.html#p:1050"><span class="id" title="variable">p</span></a>) <span class="id" title="var">a</span>))). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">_</span>]. <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">x</span>) <span class="id" title="var">a</span>) <span class="id" title="var">eqn</span>:?<span class="id" title="var">H</span>, (<a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">y</span>) <span class="id" title="var">a</span>) <span class="id" title="var">eqn</span>:?<span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#filter_InA"><span class="id" title="lemma">filter_InA</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">PR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_cons"><span class="id" title="lemma">InA_cons</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">right</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> <span class="id" title="var">k'</span> <span class="id" title="var">a</span>) <span class="id" title="var">eqn</span>:?<span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">hnf</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H4</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Utils.html#NoDupA_filter"><span class="id" title="lemma">NoDupA_filter</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">DEL</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> <span class="id" title="var">a</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.keyb_eq"><span class="id" title="definition">keyb_eq</span></a> (<span class="id" title="var">elt</span>:=<span class="id" title="var">elt</span>)) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">bl</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">bl</span> <span class="id" title="keyword">as</span> [ | [<span class="id" title="var">k</span> <span class="id" title="var">y</span>] <span class="id" title="var">bl</span>]. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> <span class="id" title="var">a</span> <span class="id" title="var">k</span>) <span class="id" title="var">eqn</span>:?<span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H1</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">bl</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">hnf</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">u_unit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">tab</span> <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <span class="id" title="var">k</span> <span class="id" title="var">tab</span>). <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.remove_id"><span class="id" title="lemma">remove_id</span></a>. <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.in_find"><span class="id" title="lemma">in_find</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="MMaps.Facts.html#Properties.bindings_Equal"><span class="id" title="lemma">bindings_Equal</span></a> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#M.fold_spec"><span class="id" title="axiom">fold_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MMaps.Facts.html#Properties.bindings_3w"><span class="id" title="lemma">bindings_3w</span></a> <span class="id" title="var">tab</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="MMaps.Facts.html#Properties.bindings_3w"><span class="id" title="lemma">bindings_3w</span></a> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <span class="id" title="var">k</span> <span class="id" title="var">tab</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">∀</span> <a id="x:1052" class="idref" href="#x:1052"><span class="id" title="binder"><span id="x:1053" class="id">x</span></span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.keyb_eq"><span class="id" title="definition">keyb_eq</span></a> (<span class="id" title="var">elt</span>:=<span class="id" title="var">elt</span>)) <a class="idref" href="MMaps.Facts.html#x:1052"><span class="id" title="variable">x</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">tab</span>)) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.keyb_eq"><span class="id" title="definition">keyb_eq</span></a> (<span class="id" title="var">elt</span>:=<span class="id" title="var">elt</span>)) <a class="idref" href="MMaps.Facts.html#x:1052"><span class="id" title="variable">x</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <span class="id" title="var">k</span> <span class="id" title="var">tab</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_rev"><span class="id" title="lemma">InA_rev</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#NoDupA_rev"><span class="id" title="lemma">NoDupA_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; [ |  <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqk_equiv"><span class="id" title="instance">eqk_equiv</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#NoDupA_rev"><span class="id" title="lemma">NoDupA_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>; [ |  <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqk_equiv"><span class="id" title="instance">eqk_equiv</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#fold_left_rev_right"><span class="id" title="lemma">fold_left_rev_right</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> <a class="idref" href="MMaps.Facts.html#K.t"><span class="id" title="axiom">K.t</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">bl</span> := <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <span class="id" title="var">k</span> <span class="id" title="var">tab</span>))) <span class="id" title="tactic">in</span> *; <span class="id" title="var">clearbody</span> <span class="id" title="var">bl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">al</span> := <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">tab</span>)) <span class="id" title="tactic">in</span> *; <span class="id" title="var">clearbody</span> <span class="id" title="var">al</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">tab</span> <span class="id" title="var">H0</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">bl</span> <span class="id" title="var">H3</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">al</span> <span class="id" title="keyword">as</span> [ | [<span class="id" title="var">a</span> <span class="id" title="var">y</span>] <span class="id" title="var">al</span>]; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">bl</span> <span class="id" title="keyword">as</span> [ | [<span class="id" title="var">b</span> <span class="id" title="var">zz</span>] <span class="id" title="var">bl</span>]; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hx</span>: <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.keyb_eq"><span class="id" title="definition">keyb_eq</span></a> (<span class="id" title="var">elt</span>:=<span class="id" title="var">elt</span>)) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">zz</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>); [ | <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hx</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">H4</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">zz</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>). <span class="id" title="tactic">left</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">h</span> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">g_eqv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHal</span> <span class="id" title="var">H5</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">List.filter</span></a> (<span class="id" title="keyword">fun</span> <a id="p:1054" class="idref" href="#p:1054"><span class="id" title="binder"><span id="p:1055" class="id">p</span></span></a> : <a class="idref" href="MMaps.Facts.html#K.t"><span class="id" title="axiom">K.t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <span class="id" title="var">elt</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MMaps.Facts.html#p:1054"><span class="id" title="variable">p</span></a>) <span class="id" title="var">a</span>)) <span class="id" title="var">bl</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">f_mor</span>; [<span class="id" title="tactic">reflexivity</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Utils.html#NoDupA_filter"><span class="id" title="lemma">NoDupA_filter</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">k'</span> <span class="id" title="var">x'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">PR</span>: <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.keyb_eq"><span class="id" title="definition">keyb_eq</span></a> (<span class="id" title="var">elt</span>:=<span class="id" title="var">elt</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) (<span class="id" title="keyword">fun</span> <a id="p:1056" class="idref" href="#p:1056"><span class="id" title="binder"><span id="p:1057" class="id">p</span></span></a> : <a class="idref" href="MMaps.Facts.html#K.t"><span class="id" title="axiom">K.t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <span class="id" title="var">elt</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MMaps.Facts.html#p:1056"><span class="id" title="variable">p</span></a>) <span class="id" title="var">a</span>))). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">_</span>]. <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">x</span>) <span class="id" title="var">a</span>) <span class="id" title="var">eqn</span>:?<span class="id" title="var">H</span>, (<a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">y</span>) <span class="id" title="var">a</span>) <span class="id" title="var">eqn</span>:?<span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#filter_InA"><span class="id" title="lemma">filter_InA</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">PR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">right</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> <span class="id" title="var">k'</span> <span class="id" title="var">a</span>) <span class="id" title="var">eqn</span>:?<span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">hnf</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H6</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">DEL</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> (<a class="idref" href="MMaps.Facts.html#Properties.keyb_eq"><span class="id" title="definition">keyb_eq</span></a> (<span class="id" title="var">elt</span>:=<span class="id" title="var">elt</span>)) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">bl</span>). <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H4</span>. <span class="id" title="tactic">left</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H3</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">bl</span> <span class="id" title="keyword">as</span> [ | [<span class="id" title="var">b</span> <span class="id" title="var">x</span>] <span class="id" title="var">bl</span>]. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#Properties.eqb"><span class="id" title="definition">eqb</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) <span class="id" title="var">eqn</span>:?<span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">clear</span> - <span class="id" title="var">H1</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">bl</span> <span class="id" title="keyword">as</span> [ | [<span class="id" title="var">k</span> <span class="id" title="var">s</span>] <span class="id" title="var">bl</span>]. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">auto</span>.<br/>
}<br/>
<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">f_mor</span>; [ <span class="id" title="tactic">reflexivity</span> | <span class="id" title="tactic">apply</span> (<span class="id" title="var">H0</span> <span class="id" title="var">_</span> <span class="id" title="var">k</span>)].<br/>
<span class="id" title="var">etransitivity</span>; [ | <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> (<span class="id" title="var">H0</span> <span class="id" title="var">_</span> <span class="id" title="var">k</span>)].<br/>
<span class="id" title="var">etransitivity</span>; [ | <span class="id" title="tactic">apply</span> <span class="id" title="var">f_mor</span>; [ <span class="id" title="tactic">reflexivity</span> | ] ].<br/>
<span class="id" title="tactic">instantiate</span> (1 := <a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <span class="id" title="var">g</span> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <span class="id" title="var">k</span> <span class="id" title="var">tab</span>) <span class="id" title="var">u</span>).<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">f_assoc</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">f_mor</span>; [ | <span class="id" title="tactic">reflexivity</span>].<br/>
<span class="id" title="tactic">unfold</span> <span class="id" title="var">get</span>.<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#M.add_spec1"><span class="id" title="axiom">add_spec1</span></a>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.Equal_implies_eqv"><span class="id" title="lemma">Equal_implies_eqv</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">lift</span>:=<span class="id" title="var">lift</span>)(<span class="id" title="var">f</span>:=<span class="id" title="var">f</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">symmetry</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#Properties.remove_add_1"><span class="id" title="lemma">remove_add_1</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MMaps.Facts.html#Properties"><span class="id" title="module">Properties</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab26"></a><h2 class="section">Properties specific to maps with ordered keys</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <a id="OrdProperties" class="idref" href="#OrdProperties"><span class="id" title="module">OrdProperties</span></a> (<span class="id" title="var">K</span>:<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Structures.Orders.html#OrderedType"><span class="id" title="module">OrderedType</span></a>)(<span class="id" title="var">M</span>:<a class="idref" href="MMaps.Interface.html#S"><span class="id" title="module">S</span></a> <a class="idref" href="MMaps.Facts.html#K"><span class="id" title="module">K</span></a>).<br/>
&nbsp;<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Import</span> <a id="OrdProperties.F" class="idref" href="#OrdProperties.F"><span class="id" title="module">F</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Structures.OrdersFacts.html#OrderedTypeFacts"><span class="id" title="module">OrderedTypeFacts</span></a> <a class="idref" href="MMaps.Facts.html#K"><span class="id" title="module">K</span></a>.<br/>
&nbsp;<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Import</span> <a id="OrdProperties.O" class="idref" href="#OrdProperties.O"><span class="id" title="module">O</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Structures.OrdersLists.html#KeyOrderedType"><span class="id" title="module">KeyOrderedType</span></a> <a class="idref" href="MMaps.Facts.html#K"><span class="id" title="module">K</span></a>.<br/>
&nbsp;<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Import</span> <a id="OrdProperties.P" class="idref" href="#OrdProperties.P"><span class="id" title="module">P</span></a> := <a class="idref" href="MMaps.Facts.html#Properties"><span class="id" title="module">Properties</span></a> <a class="idref" href="MMaps.Facts.html#K"><span class="id" title="module">K</span></a> <a class="idref" href="MMaps.Facts.html#M"><span class="id" title="module">M</span></a>.<br/>
&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="MMaps.Facts.html#M"><span class="id" title="module">M</span></a>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Section</span> <a id="OrdProperties.Elt" class="idref" href="#OrdProperties.Elt"><span class="id" title="section">Elt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="OrdProperties.Elt.elt" class="idref" href="#OrdProperties.Elt.elt"><span class="id" title="variable">elt</span></a>:<span class="id" title="keyword">Type</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="OrdProperties.Above" class="idref" href="#OrdProperties.Above"><span class="id" title="definition">Above</span></a> <a id="x:1060" class="idref" href="#x:1060"><span class="id" title="binder">x</span></a> (<a id="m:1061" class="idref" href="#m:1061"><span class="id" title="binder">m</span></a>:<a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.Elt.elt"><span class="id" title="variable">elt</span></a>) := <span class="id" title="keyword">∀</span> <a id="y:1062" class="idref" href="#y:1062"><span class="id" title="binder">y</span></a>, <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#y:1062"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#m:1061"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#K.lt"><span class="id" title="axiom">K.lt</span></a> <a class="idref" href="MMaps.Facts.html#y:1062"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#x:1060"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="OrdProperties.Below" class="idref" href="#OrdProperties.Below"><span class="id" title="definition">Below</span></a> <a id="x:1063" class="idref" href="#x:1063"><span class="id" title="binder">x</span></a> (<a id="m:1064" class="idref" href="#m:1064"><span class="id" title="binder">m</span></a>:<a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.Elt.elt"><span class="id" title="variable">elt</span></a>) := <span class="id" title="keyword">∀</span> <a id="y:1065" class="idref" href="#y:1065"><span class="id" title="binder">y</span></a>, <a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#y:1065"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.Facts.html#m:1064"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#K.lt"><span class="id" title="axiom">K.lt</span></a> <a class="idref" href="MMaps.Facts.html#x:1063"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#y:1065"><span class="id" title="variable">y</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="OrdProperties.Elt.Bindings" class="idref" href="#OrdProperties.Elt.Bindings"><span class="id" title="section">Bindings</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="OrdProperties.bindings_spec2'" class="idref" href="#OrdProperties.bindings_spec2'"><span class="id" title="lemma">bindings_spec2'</span></a> (<a id="m:1066" class="idref" href="#m:1066"><span class="id" title="binder">m</span></a>:<a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.Elt.elt"><span class="id" title="variable">elt</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Sorting.Sorted.html#sort"><span class="id" title="abbreviation">sort</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.ltk"><span class="id" title="definition">ltk</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#m:1066"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#M.bindings_spec2"><span class="id" title="axiom">bindings_spec2</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Hint Resolve</span> <span class="id" title="var">bindings_spec2'</span> : <span class="id" title="var">map</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="OrdProperties.sort_equivlistA_eqlistA" class="idref" href="#OrdProperties.sort_equivlistA_eqlistA"><span class="id" title="lemma">sort_equivlistA_eqlistA</span></a> : <span class="id" title="keyword">∀</span> <a id="l:1067" class="idref" href="#l:1067"><span class="id" title="binder">l</span></a> <a id="l':1068" class="idref" href="#l':1068"><span class="id" title="binder">l'</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><a class="idref" href="MMaps.Facts.html#OrdProperties.Elt.elt"><span class="id" title="variable">elt</span></a>),<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Sorting.Sorted.html#sort"><span class="id" title="abbreviation">sort</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.ltk"><span class="id" title="definition">ltk</span></a> <a class="idref" href="MMaps.Facts.html#l:1067"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Sorting.Sorted.html#sort"><span class="id" title="abbreviation">sort</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.ltk"><span class="id" title="definition">ltk</span></a> <a class="idref" href="MMaps.Facts.html#l':1068"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#equivlistA"><span class="id" title="definition">equivlistA</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.eqke"><span class="id" title="definition">eqke</span></a> <a class="idref" href="MMaps.Facts.html#l:1067"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.Facts.html#l':1068"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#eqlistA"><span class="id" title="inductive">eqlistA</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.eqke"><span class="id" title="definition">eqke</span></a> <a class="idref" href="MMaps.Facts.html#l:1067"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.Facts.html#l':1068"><span class="id" title="variable">l'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#SortA_equivlistA_eqlistA"><span class="id" title="lemma">SortA_equivlistA_eqlistA</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">klean</span> := <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.eqke"><span class="id" title="definition">O.eqke</span></a>, <a class="idref" href="MMaps.Facts.html#OrdProperties.ltk"><span class="id" title="definition">O.ltk</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.RelationPairs.html#RelCompFun"><span class="id" title="definition">RelCompFun</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">keauto</span> := <span class="id" title="var">klean</span>; <span class="id" title="tactic">intuition</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="OrdProperties.gtb" class="idref" href="#OrdProperties.gtb"><span class="id" title="definition">gtb</span></a> (<a id="p:1069" class="idref" href="#p:1069"><span class="id" title="binder">p</span></a> <a id="p':1070" class="idref" href="#p':1070"><span class="id" title="binder">p'</span></a>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><a class="idref" href="MMaps.Facts.html#OrdProperties.Elt.elt"><span class="id" title="variable">elt</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.Facts.html#K.compare"><span class="id" title="axiom">K.compare</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MMaps.Facts.html#p:1069"><span class="id" title="variable">p</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="MMaps.Facts.html#p':1070"><span class="id" title="variable">p'</span></a>) <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> | <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="OrdProperties.leb" class="idref" href="#OrdProperties.leb"><span class="id" title="definition">leb</span></a> <a id="p:1071" class="idref" href="#p:1071"><span class="id" title="binder">p</span></a> := <span class="id" title="keyword">fun</span> <a id="p':1072" class="idref" href="#p':1072"><span class="id" title="binder">p'</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="MMaps.Facts.html#OrdProperties.gtb"><span class="id" title="definition">gtb</span></a> <a class="idref" href="MMaps.Facts.html#p:1071"><span class="id" title="variable">p</span></a> <a class="idref" href="MMaps.Facts.html#p':1072"><span class="id" title="variable">p'</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="OrdProperties.bindings_lt" class="idref" href="#OrdProperties.bindings_lt"><span class="id" title="definition">bindings_lt</span></a> <a id="p:1073" class="idref" href="#p:1073"><span class="id" title="binder">p</span></a> <a id="m:1074" class="idref" href="#m:1074"><span class="id" title="binder">m</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">List.filter</span></a> (<a class="idref" href="MMaps.Facts.html#OrdProperties.gtb"><span class="id" title="definition">gtb</span></a> <a class="idref" href="MMaps.Facts.html#p:1073"><span class="id" title="variable">p</span></a>) (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#m:1074"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="OrdProperties.bindings_ge" class="idref" href="#OrdProperties.bindings_ge"><span class="id" title="definition">bindings_ge</span></a> <a id="p:1075" class="idref" href="#p:1075"><span class="id" title="binder">p</span></a> <a id="m:1076" class="idref" href="#m:1076"><span class="id" title="binder">m</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">List.filter</span></a> (<a class="idref" href="MMaps.Facts.html#OrdProperties.leb"><span class="id" title="definition">leb</span></a> <a class="idref" href="MMaps.Facts.html#p:1075"><span class="id" title="variable">p</span></a>) (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#m:1076"><span class="id" title="variable">m</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="OrdProperties.gtb_1" class="idref" href="#OrdProperties.gtb_1"><span class="id" title="lemma">gtb_1</span></a> : <span class="id" title="keyword">∀</span> <a id="p:1077" class="idref" href="#p:1077"><span class="id" title="binder">p</span></a> <a id="p':1078" class="idref" href="#p':1078"><span class="id" title="binder">p'</span></a>, <a class="idref" href="MMaps.Facts.html#OrdProperties.gtb"><span class="id" title="definition">gtb</span></a> <a class="idref" href="MMaps.Facts.html#p:1077"><span class="id" title="variable">p</span></a> <a class="idref" href="MMaps.Facts.html#p':1078"><span class="id" title="variable">p'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.ltk"><span class="id" title="definition">ltk</span></a> <a class="idref" href="MMaps.Facts.html#p':1078"><span class="id" title="variable">p'</span></a> <a class="idref" href="MMaps.Facts.html#p:1077"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">x</span>,<span class="id" title="var">e</span>) (<span class="id" title="var">y</span>,<span class="id" title="var">e'</span>); <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.gtb"><span class="id" title="definition">gtb</span></a>; <span class="id" title="var">klean</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <a class="idref" href="MMaps.Facts.html#K.compare_spec"><span class="id" title="axiom">K.compare_spec</span></a>; <span class="id" title="tactic">intuition</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="var">F.order</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="OrdProperties.leb_1" class="idref" href="#OrdProperties.leb_1"><span class="id" title="lemma">leb_1</span></a> : <span class="id" title="keyword">∀</span> <a id="p:1079" class="idref" href="#p:1079"><span class="id" title="binder">p</span></a> <a id="p':1080" class="idref" href="#p':1080"><span class="id" title="binder">p'</span></a>, <a class="idref" href="MMaps.Facts.html#OrdProperties.leb"><span class="id" title="definition">leb</span></a> <a class="idref" href="MMaps.Facts.html#p:1079"><span class="id" title="variable">p</span></a> <a class="idref" href="MMaps.Facts.html#p':1080"><span class="id" title="variable">p'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#OrdProperties.ltk"><span class="id" title="definition">ltk</span></a> <a class="idref" href="MMaps.Facts.html#p':1080"><span class="id" title="variable">p'</span></a> <a class="idref" href="MMaps.Facts.html#p:1079"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">x</span>,<span class="id" title="var">e</span>) (<span class="id" title="var">y</span>,<span class="id" title="var">e'</span>); <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.leb"><span class="id" title="definition">leb</span></a>, <a class="idref" href="MMaps.Facts.html#OrdProperties.gtb"><span class="id" title="definition">gtb</span></a>; <span class="id" title="var">klean</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <a class="idref" href="MMaps.Facts.html#K.compare_spec"><span class="id" title="axiom">K.compare_spec</span></a>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="var">F.order</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="OrdProperties.gtb_compat" class="idref" href="#OrdProperties.gtb_compat"><span class="id" title="instance">gtb_compat</span></a> : <span class="id" title="keyword">∀</span> <a id="p:1081" class="idref" href="#p:1081"><span class="id" title="binder">p</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#OrdProperties.eqke"><span class="id" title="definition">eqke</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) (<a class="idref" href="MMaps.Facts.html#OrdProperties.gtb"><span class="id" title="definition">gtb</span></a> <a class="idref" href="MMaps.Facts.html#p:1081"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span> (<span class="id" title="var">x</span>,<span class="id" title="var">e</span>) (<span class="id" title="var">a</span>,<span class="id" title="var">e'</span>) (<span class="id" title="var">b</span>,<span class="id" title="var">e''</span>) <span class="id" title="var">H</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MMaps.Facts.html#OrdProperties.gtb_1"><span class="id" title="lemma">gtb_1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e'</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)(<a class="idref" href="MMaps.Facts.html#OrdProperties.gtb_1"><span class="id" title="lemma">gtb_1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e''</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#OrdProperties.gtb"><span class="id" title="definition">gtb</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e'</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>); <span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#OrdProperties.gtb"><span class="id" title="definition">gtb</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e''</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>); <span class="id" title="var">klean</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> &lt;-<span class="id" title="var">H</span>, &lt;-<span class="id" title="var">H1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>, &lt;- <span class="id" title="var">H2</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="OrdProperties.leb_compat" class="idref" href="#OrdProperties.leb_compat"><span class="id" title="instance">leb_compat</span></a> : <span class="id" title="keyword">∀</span> <a id="p:1082" class="idref" href="#p:1082"><span class="id" title="binder">p</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#OrdProperties.eqke"><span class="id" title="definition">eqke</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) (<a class="idref" href="MMaps.Facts.html#OrdProperties.leb"><span class="id" title="definition">leb</span></a> <a class="idref" href="MMaps.Facts.html#p:1082"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.leb"><span class="id" title="definition">leb</span></a>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.gtb_compat"><span class="id" title="instance">gtb_compat</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">gtb_compat</span> <span class="id" title="var">leb_compat</span> <span class="id" title="var">bindings_spec2</span> : <span class="id" title="var">map</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="OrdProperties.bindings_split" class="idref" href="#OrdProperties.bindings_split"><span class="id" title="lemma">bindings_split</span></a> : <span class="id" title="keyword">∀</span> <a id="p:1083" class="idref" href="#p:1083"><span class="id" title="binder">p</span></a> <a id="m:1084" class="idref" href="#m:1084"><span class="id" title="binder">m</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#m:1084"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.bindings_lt"><span class="id" title="definition">bindings_lt</span></a> <a class="idref" href="MMaps.Facts.html#p:1083"><span class="id" title="variable">p</span></a> <a class="idref" href="MMaps.Facts.html#m:1084"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.bindings_ge"><span class="id" title="definition">bindings_ge</span></a> <a class="idref" href="MMaps.Facts.html#p:1083"><span class="id" title="variable">p</span></a> <a class="idref" href="MMaps.Facts.html#m:1084"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.bindings_lt"><span class="id" title="definition">bindings_lt</span></a>, <a class="idref" href="MMaps.Facts.html#OrdProperties.bindings_ge"><span class="id" title="definition">bindings_ge</span></a>, <a class="idref" href="MMaps.Facts.html#OrdProperties.leb"><span class="id" title="definition">leb</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#filter_split"><span class="id" title="lemma">filter_split</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">eqA</span>:=<a class="idref" href="MMaps.Facts.html#OrdProperties.eqk"><span class="id" title="definition">eqk</span></a>) (<span class="id" title="var">ltA</span>:=<a class="idref" href="MMaps.Facts.html#OrdProperties.ltk"><span class="id" title="definition">ltk</span></a>); <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.gtb_1"><span class="id" title="lemma">gtb_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">klean</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Bool.Bool.html#not_true_iff_false"><span class="id" title="lemma">not_true_iff_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.gtb_1"><span class="id" title="lemma">gtb_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">klean</span>. <span class="id" title="var">F.order</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="OrdProperties.bindings_Add" class="idref" href="#OrdProperties.bindings_Add"><span class="id" title="lemma">bindings_Add</span></a> : <span class="id" title="keyword">∀</span> <a id="m:1085" class="idref" href="#m:1085"><span class="id" title="binder">m</span></a> <a id="m':1086" class="idref" href="#m':1086"><span class="id" title="binder">m'</span></a> <a id="x:1087" class="idref" href="#x:1087"><span class="id" title="binder">x</span></a> <a id="e:1088" class="idref" href="#e:1088"><span class="id" title="binder">e</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <a class="idref" href="MMaps.Facts.html#x:1087"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:1085"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.Add"><span class="id" title="definition">Add</span></a> <a class="idref" href="MMaps.Facts.html#x:1087"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:1088"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:1085"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':1086"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#eqlistA"><span class="id" title="inductive">eqlistA</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.eqke"><span class="id" title="definition">eqke</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#m':1086"><span class="id" title="variable">m'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MMaps.Facts.html#OrdProperties.bindings_lt"><span class="id" title="definition">bindings_lt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#x:1087"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.Facts.html#e:1088"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MMaps.Facts.html#m:1085"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#x:1087"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.Facts.html#e:1088"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.bindings_ge"><span class="id" title="definition">bindings_ge</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#x:1087"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.Facts.html#e:1088"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MMaps.Facts.html#m:1085"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.bindings_lt"><span class="id" title="definition">bindings_lt</span></a>, <a class="idref" href="MMaps.Facts.html#OrdProperties.bindings_ge"><span class="id" title="definition">bindings_ge</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.sort_equivlistA_eqlistA"><span class="id" title="lemma">sort_equivlistA_eqlistA</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (@<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#SortA_app"><span class="id" title="lemma">SortA_app</span></a> <span class="id" title="var">_</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.eqke"><span class="id" title="definition">eqke</span></a>); <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (@<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#filter_sort"><span class="id" title="lemma">filter_sort</span></a> <span class="id" title="var">_</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.eqke"><span class="id" title="definition">eqke</span></a>); <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *; <span class="id" title="var">keauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> (@<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#filter_sort"><span class="id" title="lemma">filter_sort</span></a> <span class="id" title="var">_</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.eqke"><span class="id" title="definition">eqke</span></a>); <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *; <span class="id" title="var">keauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> (@<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InfA_alt"><span class="id" title="lemma">InfA_alt</span></a> <span class="id" title="var">_</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.eqke"><span class="id" title="definition">eqke</span></a>); <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *; <span class="id" title="tactic">try</span> (<span class="id" title="var">keauto</span>; <span class="id" title="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#filter_InA"><span class="id" title="lemma">filter_InA</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.leb_1"><span class="id" title="lemma">leb_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span>; <span class="id" title="var">klean</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#OrdProperties.bindings_mapsto_iff"><span class="id" title="lemma">bindings_mapsto_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <span class="id" title="var">x</span> <span class="id" title="var">t0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">contradict</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e0</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.MapsTo_1"><span class="id" title="lemma">MapsTo_1</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">t0</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">F.order</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">F.order</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (@<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#filter_sort"><span class="id" title="lemma">filter_sort</span></a> <span class="id" title="var">_</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.eqke"><span class="id" title="definition">eqke</span></a>); <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *; <span class="id" title="var">keauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#filter_InA"><span class="id" title="lemma">filter_InA</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.gtb_1"><span class="id" title="lemma">gtb_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">x0</span>; <span class="id" title="var">klean</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="var">klean</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">F.order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#filter_InA"><span class="id" title="lemma">filter_InA</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.leb_1"><span class="id" title="lemma">leb_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="var">klean</span>; <span class="id" title="var">F.order</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> (<span class="id" title="var">k</span>,<span class="id" title="var">e'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_app_iff"><span class="id" title="lemma">InA_app_iff</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_cons"><span class="id" title="lemma">InA_cons</span></a>, 2 <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#filter_InA"><span class="id" title="lemma">filter_InA</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;-2 <a class="idref" href="MMaps.Facts.html#OrdProperties.bindings_mapsto_iff"><span class="id" title="lemma">bindings_mapsto_iff</span></a>, <a class="idref" href="MMaps.Facts.html#OrdProperties.leb_1"><span class="id" title="lemma">leb_1</span></a>, <a class="idref" href="MMaps.Facts.html#OrdProperties.gtb_1"><span class="id" title="lemma">gtb_1</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#OrdProperties.find_mapsto_iff"><span class="id" title="lemma">find_mapsto_iff</span></a>, (<span class="id" title="var">H0</span> <span class="id" title="var">k</span>), &lt;- <a class="idref" href="MMaps.Facts.html#OrdProperties.find_mapsto_iff"><span class="id" title="lemma">find_mapsto_iff</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#OrdProperties.add_mapsto_iff"><span class="id" title="lemma">add_mapsto_iff</span></a> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> × ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="MMaps.Facts.html#OrdProperties.eqke"><span class="id" title="definition">eqke</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">k</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e'</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">with</span> (<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <span class="id" title="var">k</span> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <span class="id" title="var">e'</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">klean</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> [(-&gt;,-&gt;)|(<span class="id" title="var">Hk</span>,<span class="id" title="var">Hm</span>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">right</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#OrdProperties.lt_dec"><span class="id" title="lemma">lt_dec</span></a> <span class="id" title="var">k</span> <span class="id" title="var">x</span>); <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> [(<span class="id" title="var">Hm</span>,<span class="id" title="var">LT</span>)|[(-&gt;,-&gt;)|(<span class="id" title="var">Hm</span>,<span class="id" title="var">EQ</span>)]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">right</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">trivial</span>; <span class="id" title="var">F.order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#OrdProperties.eq_dec"><span class="id" title="definition">eq_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">k</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hk</span>|<span class="id" title="var">Hk</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">e'</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="OrdProperties.bindings_Add_Above" class="idref" href="#OrdProperties.bindings_Add_Above"><span class="id" title="lemma">bindings_Add_Above</span></a> : <span class="id" title="keyword">∀</span> <a id="m:1089" class="idref" href="#m:1089"><span class="id" title="binder">m</span></a> <a id="m':1090" class="idref" href="#m':1090"><span class="id" title="binder">m'</span></a> <a id="x:1091" class="idref" href="#x:1091"><span class="id" title="binder">x</span></a> <a id="e:1092" class="idref" href="#e:1092"><span class="id" title="binder">e</span></a>,<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#OrdProperties.Above"><span class="id" title="definition">Above</span></a> <a class="idref" href="MMaps.Facts.html#x:1091"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:1089"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.Add"><span class="id" title="definition">Add</span></a> <a class="idref" href="MMaps.Facts.html#x:1091"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:1092"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:1089"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':1090"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#eqlistA"><span class="id" title="inductive">eqlistA</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.eqke"><span class="id" title="definition">eqke</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#m':1090"><span class="id" title="variable">m'</span></a>) (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#m:1089"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#x:1091"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.Facts.html#e:1092"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.sort_equivlistA_eqlistA"><span class="id" title="lemma">sort_equivlistA_eqlistA</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#SortA_app"><span class="id" title="lemma">SortA_app</span></a> <span class="id" title="var">_</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.eqke"><span class="id" title="definition">eqke</span></a>); <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x0</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#OrdProperties.bindings_mapsto_iff"><span class="id" title="lemma">bindings_mapsto_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>; <span class="id" title="var">klean</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_app_iff"><span class="id" title="lemma">InA_app_iff</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_cons"><span class="id" title="lemma">InA_cons</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_nil"><span class="id" title="lemma">InA_nil</span></a>, &lt;- 2 <a class="idref" href="MMaps.Facts.html#OrdProperties.bindings_mapsto_iff"><span class="id" title="lemma">bindings_mapsto_iff</span></a>,<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#OrdProperties.find_mapsto_iff"><span class="id" title="lemma">find_mapsto_iff</span></a>, (<span class="id" title="var">H0</span> <span class="id" title="var">t0</span>), &lt;- <a class="idref" href="MMaps.Facts.html#OrdProperties.find_mapsto_iff"><span class="id" title="lemma">find_mapsto_iff</span></a>,<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#OrdProperties.add_mapsto_iff"><span class="id" title="lemma">add_mapsto_iff</span></a> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="MMaps.Facts.html#OrdProperties.eqke"><span class="id" title="definition">eqke</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">t0</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e0</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">with</span> (<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <span class="id" title="var">t0</span> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <span class="id" title="var">e0</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> (<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#K.eq_dec"><span class="id" title="axiom">K.eq_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">t0</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span>|<span class="id" title="var">Hneq</span>]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <span class="id" title="var">t0</span> <span class="id" title="var">m</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">∃</span> <span class="id" title="var">e0</span>; <span class="id" title="tactic">auto</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">H</span> <span class="id" title="var">t0</span> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">F.order</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="OrdProperties.bindings_Add_Below" class="idref" href="#OrdProperties.bindings_Add_Below"><span class="id" title="lemma">bindings_Add_Below</span></a> : <span class="id" title="keyword">∀</span> <a id="m:1093" class="idref" href="#m:1093"><span class="id" title="binder">m</span></a> <a id="m':1094" class="idref" href="#m':1094"><span class="id" title="binder">m'</span></a> <a id="x:1095" class="idref" href="#x:1095"><span class="id" title="binder">x</span></a> <a id="e:1096" class="idref" href="#e:1096"><span class="id" title="binder">e</span></a>,<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#OrdProperties.Below"><span class="id" title="definition">Below</span></a> <a class="idref" href="MMaps.Facts.html#x:1095"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:1093"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.Add"><span class="id" title="definition">Add</span></a> <a class="idref" href="MMaps.Facts.html#x:1095"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:1096"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:1093"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':1094"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#eqlistA"><span class="id" title="inductive">eqlistA</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.eqke"><span class="id" title="definition">eqke</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#m':1094"><span class="id" title="variable">m'</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#x:1095"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.Facts.html#e:1096"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#m:1093"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.sort_equivlistA_eqlistA"><span class="id" title="lemma">sort_equivlistA_eqlistA</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Sorting.Sorted.html#sort"><span class="id" title="abbreviation">sort</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.ltk"><span class="id" title="definition">ltk</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">m</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#SortA_app"><span class="id" title="lemma">SortA_app</span></a> <span class="id" title="var">_</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.eqke"><span class="id" title="definition">eqke</span></a>); <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#OrdProperties.bindings_mapsto_iff"><span class="id" title="lemma">bindings_mapsto_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>; <span class="id" title="var">klean</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_cons"><span class="id" title="lemma">InA_cons</span></a>, &lt;- 2 <a class="idref" href="MMaps.Facts.html#OrdProperties.bindings_mapsto_iff"><span class="id" title="lemma">bindings_mapsto_iff</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#OrdProperties.find_mapsto_iff"><span class="id" title="lemma">find_mapsto_iff</span></a>, (<span class="id" title="var">H0</span> <span class="id" title="var">t0</span>), &lt;- <a class="idref" href="MMaps.Facts.html#OrdProperties.find_mapsto_iff"><span class="id" title="lemma">find_mapsto_iff</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#OrdProperties.add_mapsto_iff"><span class="id" title="lemma">add_mapsto_iff</span></a> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> × ).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="MMaps.Facts.html#OrdProperties.eqke"><span class="id" title="definition">eqke</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">t0</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e0</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">with</span> (<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <span class="id" title="var">t0</span> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <span class="id" title="var">e0</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> (<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#K.eq_dec"><span class="id" title="axiom">K.eq_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">t0</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span>|<span class="id" title="var">Hneq</span>]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MMaps.Facts.html#M.In"><span class="id" title="definition">In</span></a> <span class="id" title="var">t0</span> <span class="id" title="var">m</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">∃</span> <span class="id" title="var">e0</span>; <span class="id" title="tactic">auto</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">H</span> <span class="id" title="var">t0</span> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">F.order</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="OrdProperties.bindings_Equal_eqlistA" class="idref" href="#OrdProperties.bindings_Equal_eqlistA"><span class="id" title="lemma">bindings_Equal_eqlistA</span></a> (<a id="m:1097" class="idref" href="#m:1097"><span class="id" title="binder">m</span></a> <a id="m':1098" class="idref" href="#m':1098"><span class="id" title="binder">m'</span></a> : <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.Elt.elt"><span class="id" title="variable">elt</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#m:1097"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#fcb8a577945565d2481ac60f0b5cab27"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.Facts.html#m':1098"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#eqlistA"><span class="id" title="inductive">eqlistA</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.eqke"><span class="id" title="definition">eqke</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#m:1097"><span class="id" title="variable">m</span></a>) (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#m':1098"><span class="id" title="variable">m'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.sort_equivlistA_eqlistA"><span class="id" title="lemma">sort_equivlistA_eqlistA</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#OrdProperties.bindings_mapsto_iff"><span class="id" title="lemma">bindings_mapsto_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.find_mapsto_iff"><span class="id" title="lemma">find_mapsto_iff</span></a>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.bindings_o"><span class="id" title="lemma">bindings_o</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">x</span>,<span class="id" title="var">e</span>), <span class="id" title="var">x'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">x'</span>,<span class="id" title="var">e'</span>). <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.eqb"><span class="id" title="definition">eqb</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">case</span> <a class="idref" href="MMaps.Facts.html#K.eq_dec"><span class="id" title="axiom">K.eq_dec</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="OrdProperties.bindings_Eqdom_eqlistA" class="idref" href="#OrdProperties.bindings_Eqdom_eqlistA"><span class="id" title="lemma">bindings_Eqdom_eqlistA</span></a> (<a id="m:1099" class="idref" href="#m:1099"><span class="id" title="binder">m</span></a> <a id="m':1100" class="idref" href="#m':1100"><span class="id" title="binder">m'</span></a> : <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.Elt.elt"><span class="id" title="variable">elt</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.Eqdom"><span class="id" title="definition">Eqdom</span></a> <a class="idref" href="MMaps.Facts.html#m:1099"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':1100"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#eqlistA"><span class="id" title="inductive">eqlistA</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.eqk"><span class="id" title="definition">eqk</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#m:1099"><span class="id" title="variable">m</span></a>) (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#m':1100"><span class="id" title="variable">m'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#SortA_equivlistA_eqlistA"><span class="id" title="lemma">SortA_equivlistA_eqlistA</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">ltA</span>:=<a class="idref" href="MMaps.Facts.html#OrdProperties.ltk"><span class="id" title="definition">ltk</span></a>); <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">k</span>,<span class="id" title="var">e</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="MMaps.Facts.html#OrdProperties.in_bindings_iff'"><span class="id" title="lemma">in_bindings_iff'</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#M.Eqdom"><span class="id" title="definition">Eqdom</span></a>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.bindings_in_iff"><span class="id" title="lemma">bindings_in_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_nil"><span class="id" title="lemma">InA_nil</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_cons"><span class="id" title="lemma">InA_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">x</span>,<span class="id" title="var">e</span>), <span class="id" title="var">x'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">x'</span>,<span class="id" title="var">e'</span>). <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> (<span class="id" title="var">e2</span>,[<span class="id" title="var">E</span>|<span class="id" title="var">IN</span>]); <span class="id" title="tactic">try</span> (<span class="id" title="tactic">firstorder</span>; <span class="id" title="tactic">fail</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">E</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">E</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">left</span>; <span class="id" title="tactic">compute</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="OrdProperties.bindings_Equiv_eqlistA" class="idref" href="#OrdProperties.bindings_Equiv_eqlistA"><span class="id" title="lemma">bindings_Equiv_eqlistA</span></a> <a id="R:1101" class="idref" href="#R:1101"><span class="id" title="binder">R</span></a> (<a id="m:1102" class="idref" href="#m:1102"><span class="id" title="binder">m</span></a> <a id="m':1103" class="idref" href="#m':1103"><span class="id" title="binder">m'</span></a> : <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.Elt.elt"><span class="id" title="variable">elt</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.Equiv"><span class="id" title="definition">Equiv</span></a> <a class="idref" href="MMaps.Facts.html#R:1101"><span class="id" title="variable">R</span></a> <a class="idref" href="MMaps.Facts.html#m:1102"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':1103"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#eqlistA"><span class="id" title="inductive">eqlistA</span></a> (<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.RelationPairs.html#1a865e5f0175bd948bf92629796d0b23"><span class="id" title="notation">×</span></a> <a class="idref" href="MMaps.Facts.html#R:1101"><span class="id" title="variable">R</span></a>)%<span class="id" title="var">signature</span> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#m:1102"><span class="id" title="variable">m</span></a>) (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#m':1103"><span class="id" title="variable">m'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#M.Equiv"><span class="id" title="definition">Equiv</span></a>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.bindings_Eqdom_eqlistA"><span class="id" title="lemma">bindings_Eqdom_eqlistA</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="MMaps.Facts.html#M.bindings_spec1"><span class="id" title="axiom">bindings_spec1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> (<span class="id" title="var">H</span>,<span class="id" title="var">H'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_cons"><span class="id" title="lemma">InA_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">x</span>,<span class="id" title="var">e</span>), <span class="id" title="var">x'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">x'</span>,<span class="id" title="var">e'</span>). <span class="id" title="tactic">compute</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H'</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>, <span class="id" title="var">x'</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hm</span> := <a class="idref" href="MMaps.Facts.html#M.bindings_spec2"><span class="id" title="axiom">bindings_spec2</span></a> <span class="id" title="var">m</span>); <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hm'</span> := <a class="idref" href="MMaps.Facts.html#M.bindings_spec2"><span class="id" title="axiom">bindings_spec2</span></a> <span class="id" title="var">m'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">now</span> <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_nil"><span class="id" title="lemma">InA_nil</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">Hm</span>; <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">Hm'</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_cons"><span class="id" title="lemma">InA_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">x</span>,<span class="id" title="var">v</span>), <span class="id" title="var">x'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">x'</span>,<span class="id" title="var">v'</span>). <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">E</span>|<span class="id" title="var">IN</span>] [<span class="id" title="var">E'</span>|<span class="id" title="var">IN'</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">E</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">E</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">E'</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">E'</span>); <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assert</span> (<span class="id" title="var">LT</span> : <a class="idref" href="MMaps.Facts.html#OrdProperties.ltk"><span class="id" title="definition">ltk</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x'</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">v'</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">k</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e'</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#SortA_InfA_InA"><span class="id" title="lemma">SortA_InfA_InA</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">eqA</span>:=<a class="idref" href="MMaps.Facts.html#OrdProperties.eqke"><span class="id" title="definition">eqke</span></a>); <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> × ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">LT</span>. <span class="id" title="var">order</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assert</span> (<span class="id" title="var">LT</span> : <a class="idref" href="MMaps.Facts.html#OrdProperties.ltk"><span class="id" title="definition">ltk</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">k</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#SortA_InfA_InA"><span class="id" title="lemma">SortA_InfA_InA</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">l</span>:=<span class="id" title="var">l</span>)(<span class="id" title="var">eqA</span>:=<a class="idref" href="MMaps.Facts.html#OrdProperties.eqke"><span class="id" title="definition">eqke</span></a>); <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> *).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">LT</span>. <span class="id" title="var">order</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.Elt.Bindings"><span class="id" title="section">Bindings</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="OrdProperties.Elt.Min_Max_Elt" class="idref" href="#OrdProperties.Elt.Min_Max_Elt"><span class="id" title="section">Min_Max_Elt</span></a>.<br/>

<br/>
</div>

<div class="doc">
We emulate two <span class="inlinecode"><a class="idref" href="MMaps.Facts.html#OrdProperties.max_elt"><span class="id" title="definition">max_elt</span></a></span> and <span class="inlinecode"><a class="idref" href="MMaps.Facts.html#OrdProperties.min_elt"><span class="id" title="definition">min_elt</span></a></span> functions. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="OrdProperties.min_elt" class="idref" href="#OrdProperties.min_elt"><span class="id" title="definition">min_elt</span></a> <a id="m:1104" class="idref" href="#m:1104"><span class="id" title="binder">m</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><a class="idref" href="MMaps.Facts.html#OrdProperties.Elt.elt"><span class="id" title="variable">elt</span></a>) := <span class="id" title="keyword">match</span> <a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#m:1104"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="OrdProperties.min_elt_Below" class="idref" href="#OrdProperties.min_elt_Below"><span class="id" title="lemma">min_elt_Below</span></a> <a id="m:1105" class="idref" href="#m:1105"><span class="id" title="binder">m</span></a> <a id="x:1106" class="idref" href="#x:1106"><span class="id" title="binder">x</span></a> <a id="e:1107" class="idref" href="#e:1107"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#OrdProperties.min_elt"><span class="id" title="definition">min_elt</span></a> <a class="idref" href="MMaps.Facts.html#m:1105"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#x:1106"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.Facts.html#e:1107"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.Below"><span class="id" title="definition">Below</span></a> <a class="idref" href="MMaps.Facts.html#x:1106"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <a class="idref" href="MMaps.Facts.html#x:1106"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:1105"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.min_elt"><span class="id" title="definition">min_elt</span></a>, <a class="idref" href="MMaps.Facts.html#OrdProperties.Below"><span class="id" title="definition">Below</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.remove_in_iff"><span class="id" title="lemma">remove_in_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.bindings_in_iff"><span class="id" title="lemma">bindings_in_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MMaps.Facts.html#OrdProperties.bindings_spec2'"><span class="id" title="lemma">bindings_spec2'</span></a> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">injection</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">F.order</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (@<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InfA_alt"><span class="id" title="lemma">InfA_alt</span></a> <span class="id" title="var">_</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.eqke"><span class="id" title="definition">eqke</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">H3</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">x0</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="OrdProperties.min_elt_MapsTo" class="idref" href="#OrdProperties.min_elt_MapsTo"><span class="id" title="lemma">min_elt_MapsTo</span></a> <a id="m:1108" class="idref" href="#m:1108"><span class="id" title="binder">m</span></a> <a id="x:1109" class="idref" href="#x:1109"><span class="id" title="binder">x</span></a> <a id="e:1110" class="idref" href="#e:1110"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#OrdProperties.min_elt"><span class="id" title="definition">min_elt</span></a> <a class="idref" href="MMaps.Facts.html#m:1108"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#x:1109"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.Facts.html#e:1110"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#x:1109"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:1110"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:1108"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.min_elt"><span class="id" title="definition">min_elt</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.bindings_mapsto_iff"><span class="id" title="lemma">bindings_mapsto_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">injection</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">compute</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="OrdProperties.min_elt_Empty" class="idref" href="#OrdProperties.min_elt_Empty"><span class="id" title="lemma">min_elt_Empty</span></a> <a id="m:1111" class="idref" href="#m:1111"><span class="id" title="binder">m</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#OrdProperties.min_elt"><span class="id" title="definition">min_elt</span></a> <a class="idref" href="MMaps.Facts.html#m:1111"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.Empty"><span class="id" title="definition">Empty</span></a> <a class="idref" href="MMaps.Facts.html#m:1111"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.min_elt"><span class="id" title="definition">min_elt</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.bindings_Empty"><span class="id" title="lemma">bindings_Empty</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">m</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="OrdProperties.optrel" class="idref" href="#OrdProperties.optrel"><span class="id" title="definition">optrel</span></a> {<a id="A:1112" class="idref" href="#A:1112"><span class="id" title="binder">A</span></a>} (<a id="R:1113" class="idref" href="#R:1113"><span class="id" title="binder">R</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="MMaps.Facts.html#A:1112"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.Facts.html#A:1112"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="o:1114" class="idref" href="#o:1114"><span class="id" title="binder">o</span></a> <a id="o':1115" class="idref" href="#o':1115"><span class="id" title="binder">o'</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.Facts.html#o:1114"><span class="id" title="variable">o</span></a>, <a class="idref" href="MMaps.Facts.html#o':1115"><span class="id" title="variable">o'</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">a</span>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">a'</span> ⇒ <a class="idref" href="MMaps.Facts.html#R:1113"><span class="id" title="variable">R</span></a> <span class="id" title="var">a</span> <span class="id" title="var">a'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>,<span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="OrdProperties.optrel_equiv" class="idref" href="#OrdProperties.optrel_equiv"><span class="id" title="instance">optrel_equiv</span></a> {<a id="A:1118" class="idref" href="#A:1118"><span class="id" title="binder">A</span></a>} (<a id="R:1119" class="idref" href="#R:1119"><span class="id" title="binder">R</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="MMaps.Facts.html#A:1118"><span class="id" title="variable">A</span></a>) `{<a id="Equivalence0:1120" class="idref" href="#Equivalence0:1120"><span class="id" title="binder">!</span></a><a id="Equivalence0:1120" class="idref" href="#Equivalence0:1120"><span class="id" title="binder">Equivalence</span></a> <a id="Equivalence0:1120" class="idref" href="#Equivalence0:1120"><span class="id" title="binder">R</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> (<a class="idref" href="MMaps.Facts.html#OrdProperties.optrel"><span class="id" title="definition">optrel</span></a> <a class="idref" href="MMaps.Facts.html#R:1119"><span class="id" title="variable">R</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">x</span>|]; <span class="id" title="var">now</span> <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">x</span>|] [<span class="id" title="var">y</span>|]; <span class="id" title="var">now</span> <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">x</span>|] [<span class="id" title="var">y</span>|] [<span class="id" title="var">z</span>|]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">transitivity</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="OrdProperties.min_elt_m" class="idref" href="#OrdProperties.min_elt_m"><span class="id" title="instance">min_elt_m</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.optrel"><span class="id" title="definition">optrel</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.eqke"><span class="id" title="definition">eqke</span></a>) <a class="idref" href="MMaps.Facts.html#OrdProperties.min_elt"><span class="id" title="definition">min_elt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">E</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.min_elt"><span class="id" title="definition">min_elt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.bindings_Equal_eqlistA"><span class="id" title="lemma">bindings_Equal_eqlistA</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">E</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">k</span>,<span class="id" title="var">e</span>), <span class="id" title="var">x'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">k'</span>,<span class="id" title="var">e'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="OrdProperties.min_elt_m'" class="idref" href="#OrdProperties.min_elt_m'"><span class="id" title="instance">min_elt_m'</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#M.Eqdom"><span class="id" title="definition">Eqdom</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.optrel"><span class="id" title="definition">optrel</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.eqk"><span class="id" title="definition">eqk</span></a>) <a class="idref" href="MMaps.Facts.html#OrdProperties.min_elt"><span class="id" title="definition">min_elt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">E</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.min_elt"><span class="id" title="definition">min_elt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.bindings_Eqdom_eqlistA"><span class="id" title="lemma">bindings_Eqdom_eqlistA</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">E</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">k</span>,<span class="id" title="var">e</span>), <span class="id" title="var">x'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">k'</span>,<span class="id" title="var">e'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="OrdProperties.optlast" class="idref" href="#OrdProperties.optlast"><span class="id" title="definition">optlast</span></a> {<a id="A:1121" class="idref" href="#A:1121"><span class="id" title="binder">A</span></a>} (<a id="l:1122" class="idref" href="#l:1122"><span class="id" title="binder">l</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="MMaps.Facts.html#A:1121"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.Facts.html#l:1122"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="var">l</span> ⇒ <a class="idref" href="MMaps.Facts.html#optlast:1123"><span class="id" title="definition">optlast</span></a> <a class="idref" href="MMaps.Facts.html#l:1122"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="OrdProperties.max_elt" class="idref" href="#OrdProperties.max_elt"><span class="id" title="definition">max_elt</span></a> (<a id="m:1125" class="idref" href="#m:1125"><span class="id" title="binder">m</span></a> : <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.Elt.elt"><span class="id" title="variable">elt</span></a>) := <a class="idref" href="MMaps.Facts.html#OrdProperties.optlast"><span class="id" title="definition">optlast</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <a class="idref" href="MMaps.Facts.html#m:1125"><span class="id" title="variable">m</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="OrdProperties.max_elt_Above" class="idref" href="#OrdProperties.max_elt_Above"><span class="id" title="lemma">max_elt_Above</span></a> <a id="m:1126" class="idref" href="#m:1126"><span class="id" title="binder">m</span></a> <a id="x:1127" class="idref" href="#x:1127"><span class="id" title="binder">x</span></a> <a id="e:1128" class="idref" href="#e:1128"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#OrdProperties.max_elt"><span class="id" title="definition">max_elt</span></a> <a class="idref" href="MMaps.Facts.html#m:1126"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#x:1127"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.Facts.html#e:1128"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.Above"><span class="id" title="definition">Above</span></a> <a class="idref" href="MMaps.Facts.html#x:1127"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <a class="idref" href="MMaps.Facts.html#x:1127"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:1126"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.remove_in_iff"><span class="id" title="lemma">remove_in_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.bindings_in_iff"><span class="id" title="lemma">bindings_in_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.max_elt"><span class="id" title="definition">max_elt</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MMaps.Facts.html#OrdProperties.bindings_spec2'"><span class="id" title="lemma">bindings_spec2'</span></a> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">H</span> <span class="id" title="var">y</span> <span class="id" title="var">x0</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">m</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">injection</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">intuition</span>. <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">change</span> (<a class="idref" href="MMaps.Facts.html#OrdProperties.optlast"><span class="id" title="definition">optlast</span></a> (<span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="var">l</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">IHl</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">H</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">IHl</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H1</span>; [ | <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">eauto</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">p1</span>,<span class="id" title="var">p2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#K.eq_dec"><span class="id" title="axiom">K.eq_dec</span></a> <span class="id" title="var">p1</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span>|<span class="id" title="var">Hneq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heq</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; <span class="id" title="var">F.order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">transitivity</span> <span class="id" title="var">p1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; <span class="id" title="var">F.order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHl</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">compute</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="OrdProperties.max_elt_MapsTo" class="idref" href="#OrdProperties.max_elt_MapsTo"><span class="id" title="lemma">max_elt_MapsTo</span></a> <a id="m:1129" class="idref" href="#m:1129"><span class="id" title="binder">m</span></a> <a id="x:1130" class="idref" href="#x:1130"><span class="id" title="binder">x</span></a> <a id="e:1131" class="idref" href="#e:1131"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#OrdProperties.max_elt"><span class="id" title="definition">max_elt</span></a> <a class="idref" href="MMaps.Facts.html#m:1129"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#x:1130"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.Facts.html#e:1131"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#M.MapsTo"><span class="id" title="axiom">MapsTo</span></a> <a class="idref" href="MMaps.Facts.html#x:1130"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:1131"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:1129"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.max_elt"><span class="id" title="definition">max_elt</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.bindings_mapsto_iff"><span class="id" title="lemma">bindings_mapsto_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">m</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_cons"><span class="id" title="lemma">InA_cons</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">injection</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> → →. <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="OrdProperties.max_elt_Empty" class="idref" href="#OrdProperties.max_elt_Empty"><span class="id" title="lemma">max_elt_Empty</span></a> <a id="m:1132" class="idref" href="#m:1132"><span class="id" title="binder">m</span></a> : <a class="idref" href="MMaps.Facts.html#OrdProperties.max_elt"><span class="id" title="definition">max_elt</span></a> <a class="idref" href="MMaps.Facts.html#m:1132"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.Empty"><span class="id" title="definition">Empty</span></a> <a class="idref" href="MMaps.Facts.html#m:1132"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.max_elt"><span class="id" title="definition">max_elt</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.bindings_Empty"><span class="id" title="lemma">bindings_Empty</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">m</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H'</span>:=<span class="id" title="var">IHl</span> <span class="id" title="var">H</span>); <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="OrdProperties.optlast_m" class="idref" href="#OrdProperties.optlast_m"><span class="id" title="instance">optlast_m</span></a> {<a id="A:1133" class="idref" href="#A:1133"><span class="id" title="binder">A</span></a>} <a id="R:1134" class="idref" href="#R:1134"><span class="id" title="binder">R</span></a> `{<a id="H:1135" class="idref" href="#H:1135"><span class="id" title="binder">Equivalence</span></a> <a id="H:1135" class="idref" href="#H:1135"><span class="id" title="binder">A</span></a> <a id="H:1135" class="idref" href="#H:1135"><span class="id" title="binder">R</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#eqlistA"><span class="id" title="inductive">eqlistA</span></a> <a class="idref" href="MMaps.Facts.html#R:1134"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.optrel"><span class="id" title="definition">optrel</span></a> <a class="idref" href="MMaps.Facts.html#R:1134"><span class="id" title="variable">R</span></a>) (@<a class="idref" href="MMaps.Facts.html#OrdProperties.optlast"><span class="id" title="definition">optlast</span></a> <a class="idref" href="MMaps.Facts.html#A:1133"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>, <span class="id" title="var">l'</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="OrdProperties.max_elt_m" class="idref" href="#OrdProperties.max_elt_m"><span class="id" title="instance">max_elt_m</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.optrel"><span class="id" title="definition">optrel</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.eqke"><span class="id" title="definition">eqke</span></a>) <a class="idref" href="MMaps.Facts.html#OrdProperties.max_elt"><span class="id" title="definition">max_elt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">E</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.max_elt"><span class="id" title="definition">max_elt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.bindings_Equal_eqlistA"><span class="id" title="lemma">bindings_Equal_eqlistA</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">E</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="OrdProperties.max_elt_m'" class="idref" href="#OrdProperties.max_elt_m'"><span class="id" title="instance">max_elt_m'</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#M.Eqdom"><span class="id" title="definition">Eqdom</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.optrel"><span class="id" title="definition">optrel</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.eqk"><span class="id" title="definition">eqk</span></a>) <a class="idref" href="MMaps.Facts.html#OrdProperties.max_elt"><span class="id" title="definition">max_elt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">E</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.max_elt"><span class="id" title="definition">max_elt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.bindings_Eqdom_eqlistA"><span class="id" title="lemma">bindings_Eqdom_eqlistA</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">E</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.Elt.Min_Max_Elt"><span class="id" title="section">Min_Max_Elt</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="OrdProperties.Elt.Induction_Principles" class="idref" href="#OrdProperties.Elt.Induction_Principles"><span class="id" title="section">Induction_Principles</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="OrdProperties.map_induction_max" class="idref" href="#OrdProperties.map_induction_max"><span class="id" title="lemma">map_induction_max</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="P:1136" class="idref" href="#P:1136"><span class="id" title="binder">P</span></a> : <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>,<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="m:1137" class="idref" href="#m:1137"><span class="id" title="binder">m</span></a>, <a class="idref" href="MMaps.Facts.html#OrdProperties.Empty"><span class="id" title="definition">Empty</span></a> <a class="idref" href="MMaps.Facts.html#m:1137"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#P:1136"><span class="id" title="variable">P</span></a> <a class="idref" href="MMaps.Facts.html#m:1137"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="m:1138" class="idref" href="#m:1138"><span class="id" title="binder">m</span></a> <a id="m':1139" class="idref" href="#m':1139"><span class="id" title="binder">m'</span></a>, <a class="idref" href="MMaps.Facts.html#P:1136"><span class="id" title="variable">P</span></a> <a class="idref" href="MMaps.Facts.html#m:1138"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <a id="x:1140" class="idref" href="#x:1140"><span class="id" title="binder">x</span></a> <a id="e:1141" class="idref" href="#e:1141"><span class="id" title="binder">e</span></a>, <a class="idref" href="MMaps.Facts.html#OrdProperties.Above"><span class="id" title="definition">Above</span></a> <a class="idref" href="MMaps.Facts.html#x:1140"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:1138"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.Add"><span class="id" title="definition">Add</span></a> <a class="idref" href="MMaps.Facts.html#x:1140"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:1141"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:1138"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':1139"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#P:1136"><span class="id" title="variable">P</span></a> <a class="idref" href="MMaps.Facts.html#m':1139"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="m:1142" class="idref" href="#m:1142"><span class="id" title="binder">m</span></a>, <a class="idref" href="MMaps.Facts.html#P:1136"><span class="id" title="variable">P</span></a> <a class="idref" href="MMaps.Facts.html#m:1142"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">remember</span> (<a class="idref" href="MMaps.Facts.html#M.cardinal"><span class="id" title="axiom">cardinal</span></a> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">n</span>; <span class="id" title="var">revert</span> <span class="id" title="var">m</span> <span class="id" title="var">Heqn</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.cardinal_inv_1"><span class="id" title="lemma">cardinal_inv_1</span></a>; <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MMaps.Facts.html#OrdProperties.max_elt"><span class="id" title="definition">max_elt</span></a> <span class="id" title="var">m</span>); <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MMaps.Facts.html#OrdProperties.Add"><span class="id" title="definition">Add</span></a> <span class="id" title="var">k</span> <span class="id" title="var">e</span> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <span class="id" title="var">k</span> <span class="id" title="var">m</span>) <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.max_elt_MapsTo"><span class="id" title="lemma">max_elt_MapsTo</span></a>, <a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>, <a class="idref" href="MMaps.Facts.html#OrdProperties.add_id"><span class="id" title="lemma">add_id</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.Add"><span class="id" title="definition">Add</span></a>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.add_remove_1"><span class="id" title="lemma">add_remove_1</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">X0</span> <span class="id" title="keyword">with</span> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <span class="id" title="var">k</span> <span class="id" title="var">m</span>) <span class="id" title="var">k</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="MMaps.Facts.html#M.cardinal"><span class="id" title="axiom">cardinal</span></a> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <span class="id" title="var">k</span> <span class="id" title="var">m</span>))).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.cardinal_S"><span class="id" title="lemma">cardinal_S</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.max_elt_Above"><span class="id" title="lemma">max_elt_Above</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.max_elt_Empty"><span class="id" title="lemma">max_elt_Empty</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="OrdProperties.map_induction_min" class="idref" href="#OrdProperties.map_induction_min"><span class="id" title="lemma">map_induction_min</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="P:1143" class="idref" href="#P:1143"><span class="id" title="binder">P</span></a> : <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>,<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="m:1144" class="idref" href="#m:1144"><span class="id" title="binder">m</span></a>, <a class="idref" href="MMaps.Facts.html#OrdProperties.Empty"><span class="id" title="definition">Empty</span></a> <a class="idref" href="MMaps.Facts.html#m:1144"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#P:1143"><span class="id" title="variable">P</span></a> <a class="idref" href="MMaps.Facts.html#m:1144"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="m:1145" class="idref" href="#m:1145"><span class="id" title="binder">m</span></a> <a id="m':1146" class="idref" href="#m':1146"><span class="id" title="binder">m'</span></a>, <a class="idref" href="MMaps.Facts.html#P:1143"><span class="id" title="variable">P</span></a> <a class="idref" href="MMaps.Facts.html#m:1145"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <a id="x:1147" class="idref" href="#x:1147"><span class="id" title="binder">x</span></a> <a id="e:1148" class="idref" href="#e:1148"><span class="id" title="binder">e</span></a>, <a class="idref" href="MMaps.Facts.html#OrdProperties.Below"><span class="id" title="definition">Below</span></a> <a class="idref" href="MMaps.Facts.html#x:1147"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m:1145"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.Add"><span class="id" title="definition">Add</span></a> <a class="idref" href="MMaps.Facts.html#x:1147"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:1148"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m:1145"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':1146"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#P:1143"><span class="id" title="variable">P</span></a> <a class="idref" href="MMaps.Facts.html#m':1146"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="m:1149" class="idref" href="#m:1149"><span class="id" title="binder">m</span></a>, <a class="idref" href="MMaps.Facts.html#P:1143"><span class="id" title="variable">P</span></a> <a class="idref" href="MMaps.Facts.html#m:1149"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">remember</span> (<a class="idref" href="MMaps.Facts.html#M.cardinal"><span class="id" title="axiom">cardinal</span></a> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">n</span>; <span class="id" title="var">revert</span> <span class="id" title="var">m</span> <span class="id" title="var">Heqn</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.cardinal_inv_1"><span class="id" title="lemma">cardinal_inv_1</span></a>; <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="MMaps.Facts.html#OrdProperties.min_elt"><span class="id" title="definition">min_elt</span></a> <span class="id" title="var">m</span>); <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MMaps.Facts.html#OrdProperties.Add"><span class="id" title="definition">Add</span></a> <span class="id" title="var">k</span> <span class="id" title="var">e</span> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <span class="id" title="var">k</span> <span class="id" title="var">m</span>) <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.min_elt_MapsTo"><span class="id" title="lemma">min_elt_MapsTo</span></a>, <a class="idref" href="MMaps.Facts.html#M.find_spec"><span class="id" title="axiom">find_spec</span></a>, <a class="idref" href="MMaps.Facts.html#OrdProperties.add_id"><span class="id" title="lemma">add_id</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.Add"><span class="id" title="definition">Add</span></a>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.add_remove_1"><span class="id" title="lemma">add_remove_1</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">X0</span> <span class="id" title="keyword">with</span> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <span class="id" title="var">k</span> <span class="id" title="var">m</span>) <span class="id" title="var">k</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="MMaps.Facts.html#M.cardinal"><span class="id" title="axiom">cardinal</span></a> (<a class="idref" href="MMaps.Facts.html#M.remove"><span class="id" title="axiom">remove</span></a> <span class="id" title="var">k</span> <span class="id" title="var">m</span>))).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.cardinal_S"><span class="id" title="lemma">cardinal_S</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.min_elt_Below"><span class="id" title="lemma">min_elt_Below</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.min_elt_Empty"><span class="id" title="lemma">min_elt_Empty</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.Elt.Induction_Principles"><span class="id" title="section">Induction_Principles</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="OrdProperties.Elt.Fold_properties" class="idref" href="#OrdProperties.Elt.Fold_properties"><span class="id" title="section">Fold_properties</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="OrdProperties.fold_m" class="idref" href="#OrdProperties.fold_m"><span class="id" title="instance">fold_m</span></a> {<a id="A:1150" class="idref" href="#A:1150"><span class="id" title="binder">A</span></a>}(<a id="eqA:1151" class="idref" href="#eqA:1151"><span class="id" title="binder">eqA</span></a>:<a class="idref" href="MMaps.Facts.html#A:1150"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#A:1150"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><span class="id" title="keyword">Prop</span>)(<a id="st:1152" class="idref" href="#st:1152"><span class="id" title="binder">st</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="MMaps.Facts.html#eqA:1151"><span class="id" title="variable">eqA</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#eqA:1151"><span class="id" title="variable">eqA</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#eqA:1151"><span class="id" title="variable">eqA</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)==&gt;</span></a><a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#eqA:1151"><span class="id" title="variable">eqA</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#eqA:1151"><span class="id" title="variable">eqA</span></a>) (@<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="MMaps.Facts.html#A:1150"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">Hf</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">Hm</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="MMaps.Facts.html#M.fold_spec"><span class="id" title="axiom">fold_spec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.bindings_Equal_eqlistA"><span class="id" title="lemma">bindings_Equal_eqlistA</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="MMaps.Facts.html#M.bindings_spec2"><span class="id" title="axiom">bindings_spec2</span></a> <span class="id" title="var">m</span>)(<a class="idref" href="MMaps.Facts.html#M.bindings_spec2"><span class="id" title="axiom">bindings_spec2</span></a> <span class="id" title="var">m'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hm</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">k</span>,<span class="id" title="var">e</span>), <span class="id" title="var">x'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">k'</span>,<span class="id" title="var">e'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a> <span class="id" title="var">k</span> <span class="id" title="var">k'</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">e'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hk</span>,<span class="id" title="var">He</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span> <span class="id" title="var">Hi</span>. <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHm</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hf</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The following lemma has already been proved on Weak Maps,
      but with one additional hypothesis (a <span class="inlinecode"><a class="idref" href="MMaps.Facts.html#Properties.Diamond"><span class="id" title="definition">Diamond</span></a></span> transposition). 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="OrdProperties.fold_Proper" class="idref" href="#OrdProperties.fold_Proper"><span class="id" title="lemma">fold_Proper</span></a> {<a id="A:1153" class="idref" href="#A:1153"><span class="id" title="binder">A</span></a>}(<a id="eqA:1154" class="idref" href="#eqA:1154"><span class="id" title="binder">eqA</span></a>:<a class="idref" href="MMaps.Facts.html#A:1153"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#A:1153"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><span class="id" title="keyword">Prop</span>)(<a id="st:1155" class="idref" href="#st:1155"><span class="id" title="binder">st</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="MMaps.Facts.html#eqA:1154"><span class="id" title="variable">eqA</span></a>)<br/>
&nbsp;&nbsp;&nbsp;(<a id="f:1156" class="idref" href="#f:1156"><span class="id" title="binder">f</span></a>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#OrdProperties.Elt.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#A:1153"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#A:1153"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#eqA:1154"><span class="id" title="variable">eqA</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#eqA:1154"><span class="id" title="variable">eqA</span></a>) <a class="idref" href="MMaps.Facts.html#f:1156"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#M.Equal"><span class="id" title="definition">Equal</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#eqA:1154"><span class="id" title="variable">eqA</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#eqA:1154"><span class="id" title="variable">eqA</span></a>) (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <a class="idref" href="MMaps.Facts.html#f:1156"><span class="id" title="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hf</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">Heq</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span> <span class="id" title="var">Hi</span>. <span class="id" title="var">f_equiv</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="OrdProperties.fold_Add_Above" class="idref" href="#OrdProperties.fold_Add_Above"><span class="id" title="lemma">fold_Add_Above</span></a> <a id="m1:1157" class="idref" href="#m1:1157"><span class="id" title="binder">m1</span></a> <a id="m2:1158" class="idref" href="#m2:1158"><span class="id" title="binder">m2</span></a> <a id="x:1159" class="idref" href="#x:1159"><span class="id" title="binder">x</span></a> <a id="e:1160" class="idref" href="#e:1160"><span class="id" title="binder">e</span></a> {<a id="A:1161" class="idref" href="#A:1161"><span class="id" title="binder">A</span></a>}(<a id="eqA:1162" class="idref" href="#eqA:1162"><span class="id" title="binder">eqA</span></a>:<a class="idref" href="MMaps.Facts.html#A:1161"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#A:1161"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><span class="id" title="keyword">Prop</span>)(<a id="st:1163" class="idref" href="#st:1163"><span class="id" title="binder">st</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="MMaps.Facts.html#eqA:1162"><span class="id" title="variable">eqA</span></a>)<br/>
&nbsp;&nbsp;&nbsp;(<a id="f:1164" class="idref" href="#f:1164"><span class="id" title="binder">f</span></a>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#OrdProperties.Elt.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#A:1161"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#A:1161"><span class="id" title="variable">A</span></a>)(<a id="i:1165" class="idref" href="#i:1165"><span class="id" title="binder">i</span></a>:<a class="idref" href="MMaps.Facts.html#A:1161"><span class="id" title="variable">A</span></a>)(<a id="Hf:1166" class="idref" href="#Hf:1166"><span class="id" title="binder">Hf</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#eqA:1162"><span class="id" title="variable">eqA</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#eqA:1162"><span class="id" title="variable">eqA</span></a>) <a class="idref" href="MMaps.Facts.html#f:1164"><span class="id" title="variable">f</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#OrdProperties.Above"><span class="id" title="definition">Above</span></a> <a class="idref" href="MMaps.Facts.html#x:1159"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m1:1157"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.Add"><span class="id" title="definition">Add</span></a> <a class="idref" href="MMaps.Facts.html#x:1159"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:1160"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m1:1157"><span class="id" title="variable">m1</span></a> <a class="idref" href="MMaps.Facts.html#m2:1158"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#eqA:1162"><span class="id" title="variable">eqA</span></a> (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <a class="idref" href="MMaps.Facts.html#f:1164"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m2:1158"><span class="id" title="variable">m2</span></a> <a class="idref" href="MMaps.Facts.html#i:1165"><span class="id" title="variable">i</span></a>) (<a class="idref" href="MMaps.Facts.html#f:1164"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#x:1159"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:1160"><span class="id" title="variable">e</span></a> (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <a class="idref" href="MMaps.Facts.html#f:1164"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m1:1157"><span class="id" title="variable">m1</span></a> <a class="idref" href="MMaps.Facts.html#i:1165"><span class="id" title="variable">i</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="MMaps.Facts.html#OrdProperties.fold_spec_right"><span class="id" title="lemma">fold_spec_right</span></a>. <span class="id" title="tactic">set</span> (<span class="id" title="var">f'</span>:=<a class="idref" href="MMaps.Facts.html#OrdProperties.uncurry"><span class="id" title="definition">uncurry</span></a> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> <span class="id" title="var">f'</span> <span class="id" title="var">i</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">m1</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#fold_right_eqlistA"><span class="id" title="lemma">fold_right_eqlistA</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">eqA</span>:=<a class="idref" href="MMaps.Facts.html#OrdProperties.eqke"><span class="id" title="definition">eqke</span></a>) (<span class="id" title="var">eqB</span>:=<span class="id" title="var">eqA</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">k1</span>,<span class="id" title="var">e1</span>) (<span class="id" title="var">k2</span>,<span class="id" title="var">e2</span>) (<span class="id" title="var">Hk</span>,<span class="id" title="var">He</span>) <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">Ha</span>; <span class="id" title="tactic">unfold</span> <span class="id" title="var">f'</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">Hf</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#eqlistA_rev"><span class="id" title="lemma">eqlistA_rev</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.bindings_Add_Above"><span class="id" title="lemma">bindings_Add_Above</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#distr_rev"><span class="id" title="abbreviation">distr_rev</span></a>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="OrdProperties.fold_Add_Below" class="idref" href="#OrdProperties.fold_Add_Below"><span class="id" title="lemma">fold_Add_Below</span></a> <a id="m1:1167" class="idref" href="#m1:1167"><span class="id" title="binder">m1</span></a> <a id="m2:1168" class="idref" href="#m2:1168"><span class="id" title="binder">m2</span></a> <a id="x:1169" class="idref" href="#x:1169"><span class="id" title="binder">x</span></a> <a id="e:1170" class="idref" href="#e:1170"><span class="id" title="binder">e</span></a> {<a id="A:1171" class="idref" href="#A:1171"><span class="id" title="binder">A</span></a>}(<a id="eqA:1172" class="idref" href="#eqA:1172"><span class="id" title="binder">eqA</span></a>:<a class="idref" href="MMaps.Facts.html#A:1171"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#A:1171"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><span class="id" title="keyword">Prop</span>)(<a id="st:1173" class="idref" href="#st:1173"><span class="id" title="binder">st</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="MMaps.Facts.html#eqA:1172"><span class="id" title="variable">eqA</span></a>)<br/>
&nbsp;&nbsp;&nbsp;(<a id="f:1174" class="idref" href="#f:1174"><span class="id" title="binder">f</span></a>:<a class="idref" href="MMaps.Facts.html#M.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#OrdProperties.Elt.elt"><span class="id" title="variable">elt</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#A:1171"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="MMaps.Facts.html#A:1171"><span class="id" title="variable">A</span></a>)(<a id="i:1175" class="idref" href="#i:1175"><span class="id" title="binder">i</span></a>:<a class="idref" href="MMaps.Facts.html#A:1171"><span class="id" title="variable">A</span></a>)(<a id="Hf:1176" class="idref" href="#Hf:1176"><span class="id" title="binder">Hf</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#eqA:1172"><span class="id" title="variable">eqA</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="MMaps.Facts.html#eqA:1172"><span class="id" title="variable">eqA</span></a>) <a class="idref" href="MMaps.Facts.html#f:1174"><span class="id" title="variable">f</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#OrdProperties.Below"><span class="id" title="definition">Below</span></a> <a class="idref" href="MMaps.Facts.html#x:1169"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#m1:1167"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.Add"><span class="id" title="definition">Add</span></a> <a class="idref" href="MMaps.Facts.html#x:1169"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:1170"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#m1:1167"><span class="id" title="variable">m1</span></a> <a class="idref" href="MMaps.Facts.html#m2:1168"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#eqA:1172"><span class="id" title="variable">eqA</span></a> (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <a class="idref" href="MMaps.Facts.html#f:1174"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m2:1168"><span class="id" title="variable">m2</span></a> <a class="idref" href="MMaps.Facts.html#i:1175"><span class="id" title="variable">i</span></a>) (<a class="idref" href="MMaps.Facts.html#M.fold"><span class="id" title="axiom">fold</span></a> <a class="idref" href="MMaps.Facts.html#f:1174"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#m1:1167"><span class="id" title="variable">m1</span></a> (<a class="idref" href="MMaps.Facts.html#f:1174"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.Facts.html#x:1169"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.Facts.html#e:1170"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#i:1175"><span class="id" title="variable">i</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="MMaps.Facts.html#OrdProperties.fold_spec_right"><span class="id" title="lemma">fold_spec_right</span></a>. <span class="id" title="tactic">set</span> (<span class="id" title="var">f'</span>:=<a class="idref" href="MMaps.Facts.html#OrdProperties.uncurry"><span class="id" title="definition">uncurry</span></a> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> <span class="id" title="var">f'</span> <span class="id" title="var">i</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)++</span></a><a class="idref" href="MMaps.Facts.html#M.bindings"><span class="id" title="axiom">bindings</span></a> <span class="id" title="var">m1</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#fold_right_eqlistA"><span class="id" title="lemma">fold_right_eqlistA</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">eqA</span>:=<a class="idref" href="MMaps.Facts.html#OrdProperties.eqke"><span class="id" title="definition">eqke</span></a>) (<span class="id" title="var">eqB</span>:=<span class="id" title="var">eqA</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">k1</span>,<span class="id" title="var">e1</span>) (<span class="id" title="var">k2</span>,<span class="id" title="var">e2</span>) (<span class="id" title="var">Hk</span>,<span class="id" title="var">He</span>) <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">Ha</span>; <span class="id" title="tactic">unfold</span> <span class="id" title="var">f'</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">Hf</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#eqlistA_rev"><span class="id" title="lemma">eqlistA_rev</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.bindings_Add_Below"><span class="id" title="lemma">bindings_Add_Below</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#distr_rev"><span class="id" title="abbreviation">distr_rev</span></a>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#fold_right_app"><span class="id" title="lemma">fold_right_app</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.Elt.Fold_properties"><span class="id" title="section">Fold_properties</span></a>.<br/>

<br/>
</div>

<div class="doc">
Comparisons of maps 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="OrdProperties.Kcompare_trans" class="idref" href="#OrdProperties.Kcompare_trans"><span class="id" title="lemma">Kcompare_trans</span></a> : <a class="idref" href="MMaps.Comparisons.html#Trans"><span class="id" title="definition">Trans</span></a> <a class="idref" href="MMaps.Facts.html#K.compare"><span class="id" title="axiom">K.compare</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [ ] <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="MMaps.Facts.html#OrdProperties.compare_eq_iff"><span class="id" title="lemma">compare_eq_iff</span></a>, ?<a class="idref" href="MMaps.Facts.html#OrdProperties.compare_lt_iff"><span class="id" title="lemma">compare_lt_iff</span></a>,  ?<a class="idref" href="MMaps.Facts.html#OrdProperties.compare_gt_iff"><span class="id" title="lemma">compare_gt_iff</span></a>; <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="OrdProperties.Kcompare_symtrans" class="idref" href="#OrdProperties.Kcompare_symtrans"><span class="id" title="instance">Kcompare_symtrans</span></a> : <a class="idref" href="MMaps.Comparisons.html#SymTrans"><span class="id" title="class">SymTrans</span></a> <a class="idref" href="MMaps.Facts.html#K.compare"><span class="id" title="axiom">K.compare</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">exact</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.compare_antisym"><span class="id" title="lemma">F.compare_antisym</span></a>. <span class="id" title="tactic">exact</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.Kcompare_trans"><span class="id" title="lemma">Kcompare_trans</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="OrdProperties.isEq" class="idref" href="#OrdProperties.isEq"><span class="id" title="definition">isEq</span></a> <a id="c:1177" class="idref" href="#c:1177"><span class="id" title="binder">c</span></a> := <span class="id" title="keyword">match</span> <a class="idref" href="MMaps.Facts.html#c:1177"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> | <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="OrdProperties.isEq_spec" class="idref" href="#OrdProperties.isEq_spec"><span class="id" title="lemma">isEq_spec</span></a> <a id="c:1179" class="idref" href="#c:1179"><span class="id" title="binder">c</span></a> : <a class="idref" href="MMaps.Facts.html#OrdProperties.isEq"><span class="id" title="definition">isEq</span></a> <a class="idref" href="MMaps.Facts.html#c:1179"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#c:1179"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="OrdProperties.compare_Equiv" class="idref" href="#OrdProperties.compare_Equiv"><span class="id" title="lemma">compare_Equiv</span></a> <a id="cmp:1180" class="idref" href="#cmp:1180"><span class="id" title="binder">cmp</span></a> (<a id="m:1181" class="idref" href="#m:1181"><span class="id" title="binder">m</span></a> <a id="m':1182" class="idref" href="#m':1182"><span class="id" title="binder">m'</span></a>:<a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.Elt.elt"><span class="id" title="variable">elt</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#M.compare"><span class="id" title="axiom">compare</span></a> <a class="idref" href="MMaps.Facts.html#cmp:1180"><span class="id" title="variable">cmp</span></a> <a class="idref" href="MMaps.Facts.html#m:1181"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':1182"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.Equiv"><span class="id" title="definition">Equiv</span></a> (<span class="id" title="keyword">fun</span> <a id="e:1183" class="idref" href="#e:1183"><span class="id" title="binder">e</span></a> <a id="e':1184" class="idref" href="#e':1184"><span class="id" title="binder">e'</span></a> ⇒ <a class="idref" href="MMaps.Facts.html#cmp:1180"><span class="id" title="variable">cmp</span></a> <a class="idref" href="MMaps.Facts.html#e:1183"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#e':1184"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a>) <a class="idref" href="MMaps.Facts.html#m:1181"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':1182"><span class="id" title="variable">m'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#M.compare_spec"><span class="id" title="axiom">compare_spec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Comparisons.html#list_compare_eq"><span class="id" title="lemma">list_compare_eq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.bindings_Equiv_eqlistA"><span class="id" title="lemma">bindings_Equiv_eqlistA</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">x</span>,<span class="id" title="var">e</span>), <span class="id" title="var">y</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">y</span>,<span class="id" title="var">e'</span>). <span class="id" title="tactic">compute</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Comparisons.html#pair_compare_eq"><span class="id" title="lemma">pair_compare_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.compare_eq_iff"><span class="id" title="lemma">compare_eq_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">x</span>,<span class="id" title="var">e</span>), <span class="id" title="var">x'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">x'</span>,<span class="id" title="var">e'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Comparisons.html#pair_compare_eq"><span class="id" title="lemma">pair_compare_eq</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.compare_eq_iff"><span class="id" title="lemma">compare_eq_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="OrdProperties.compare_equiv" class="idref" href="#OrdProperties.compare_equiv"><span class="id" title="lemma">compare_equiv</span></a> <a id="cmp:1185" class="idref" href="#cmp:1185"><span class="id" title="binder">cmp</span></a> (<a id="m:1186" class="idref" href="#m:1186"><span class="id" title="binder">m</span></a> <a id="m':1187" class="idref" href="#m':1187"><span class="id" title="binder">m'</span></a>:<a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">t</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.Elt.elt"><span class="id" title="variable">elt</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.Facts.html#OrdProperties.isEq"><span class="id" title="definition">isEq</span></a> (<a class="idref" href="MMaps.Facts.html#M.compare"><span class="id" title="axiom">compare</span></a> <a class="idref" href="MMaps.Facts.html#cmp:1185"><span class="id" title="variable">cmp</span></a> <a class="idref" href="MMaps.Facts.html#m:1186"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':1187"><span class="id" title="variable">m'</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.Facts.html#M.equal"><span class="id" title="axiom">equal</span></a> (<span class="id" title="keyword">fun</span> <a id="e:1188" class="idref" href="#e:1188"><span class="id" title="binder">e</span></a> <a id="e':1189" class="idref" href="#e':1189"><span class="id" title="binder">e'</span></a> ⇒ <a class="idref" href="MMaps.Facts.html#OrdProperties.isEq"><span class="id" title="definition">isEq</span></a> (<a class="idref" href="MMaps.Facts.html#cmp:1185"><span class="id" title="variable">cmp</span></a> <a class="idref" href="MMaps.Facts.html#e:1188"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#e':1189"><span class="id" title="variable">e'</span></a>)) <a class="idref" href="MMaps.Facts.html#m:1186"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':1187"><span class="id" title="variable">m'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Bool.Bool.html#eq_true_iff_eq"><span class="id" title="lemma">eq_true_iff_eq</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#M.equal_spec"><span class="id" title="axiom">equal_spec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.isEq_spec"><span class="id" title="lemma">isEq_spec</span></a>, <a class="idref" href="MMaps.Facts.html#OrdProperties.compare_Equiv"><span class="id" title="lemma">compare_Equiv</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#M.Equivb"><span class="id" title="definition">Equivb</span></a>, <a class="idref" href="MMaps.Facts.html#M.Equiv"><span class="id" title="definition">Equiv</span></a>, <a class="idref" href="MMaps.Interface.html#Cmp"><span class="id" title="definition">Cmp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.isEq_spec"><span class="id" title="lemma">isEq_spec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If the comparison function <span class="inlinecode"><a class="idref" href="MMaps.GenTree.html#Props.Elt.cmp"><span class="id" title="variable">cmp</span></a></span> on values is symmetric
      and transitive, then <span class="inlinecode"><a class="idref" href="MMaps.GenTree.html#Ops.compare"><span class="id" title="definition">compare</span></a></span> <span class="inlinecode"><a class="idref" href="MMaps.GenTree.html#Props.Elt.cmp"><span class="id" title="variable">cmp</span></a></span> provides a OrderedType-like
      structure on maps. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="OrdProperties.Elt.Compare" class="idref" href="#OrdProperties.Elt.Compare"><span class="id" title="section">Compare</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="OrdProperties.Elt.Compare.cmp" class="idref" href="#OrdProperties.Elt.Compare.cmp"><span class="id" title="variable">cmp</span></a> : <a class="idref" href="MMaps.Facts.html#OrdProperties.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#comparison"><span class="id" title="inductive">comparison</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `(!<a class="idref" href="MMaps.Comparisons.html#SymTrans"><span class="id" title="class">SymTrans</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.Elt.Compare.cmp"><span class="id" title="variable">cmp</span></a>).<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="OrdProperties.compare_symtrans" class="idref" href="#OrdProperties.compare_symtrans"><span class="id" title="instance">compare_symtrans</span></a> : <a class="idref" href="MMaps.Comparisons.html#SymTrans"><span class="id" title="class">SymTrans</span></a> (<a class="idref" href="MMaps.Facts.html#M.compare"><span class="id" title="axiom">compare</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.Elt.Compare.cmp"><span class="id" title="variable">cmp</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#M.compare_spec"><span class="id" title="axiom">compare_spec</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Comparisons.html#sym"><span class="id" title="method">sym</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">c</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.Facts.html#M.compare_spec"><span class="id" title="axiom">compare_spec</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Comparisons.html#tra"><span class="id" title="method">tra</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="OrdProperties.eq" class="idref" href="#OrdProperties.eq"><span class="id" title="definition">eq</span></a> <a id="m:1193" class="idref" href="#m:1193"><span class="id" title="binder">m</span></a> <a id="m':1194" class="idref" href="#m':1194"><span class="id" title="binder">m'</span></a> := <a class="idref" href="MMaps.Facts.html#M.compare"><span class="id" title="axiom">compare</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.Elt.Compare.cmp"><span class="id" title="variable">cmp</span></a> <a class="idref" href="MMaps.Facts.html#m:1193"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':1194"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="OrdProperties.lt" class="idref" href="#OrdProperties.lt"><span class="id" title="definition">lt</span></a> <a id="m:1195" class="idref" href="#m:1195"><span class="id" title="binder">m</span></a> <a id="m':1196" class="idref" href="#m':1196"><span class="id" title="binder">m'</span></a> := <a class="idref" href="MMaps.Facts.html#M.compare"><span class="id" title="axiom">compare</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.Elt.Compare.cmp"><span class="id" title="variable">cmp</span></a> <a class="idref" href="MMaps.Facts.html#m:1195"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':1196"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="OrdProperties.compare_refl" class="idref" href="#OrdProperties.compare_refl"><span class="id" title="lemma">compare_refl</span></a> <a id="m:1197" class="idref" href="#m:1197"><span class="id" title="binder">m</span></a> : <a class="idref" href="MMaps.Facts.html#M.compare"><span class="id" title="axiom">compare</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.Elt.Compare.cmp"><span class="id" title="variable">cmp</span></a> <a class="idref" href="MMaps.Facts.html#m:1197"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m:1197"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.compare"><span class="id" title="axiom">compare</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.Elt.Compare.cmp"><span class="id" title="variable">cmp</span></a> <span class="id" title="var">m</span> <span class="id" title="var">m</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">E</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">assert</span> (<span class="id" title="var">E'</span>:=<span class="id" title="var">E</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Comparisons.html#sym"><span class="id" title="method">sym</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#CompOpp_iff"><span class="id" title="lemma">CompOpp_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">E</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">E</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Comparisons.html#sym"><span class="id" title="method">sym</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#CompOpp_iff"><span class="id" title="lemma">CompOpp_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">E</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">E</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="OrdProperties.eq_equiv" class="idref" href="#OrdProperties.eq_equiv"><span class="id" title="instance">eq_equiv</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.eq"><span class="id" title="definition">eq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.compare_refl"><span class="id" title="lemma">compare_refl</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">E</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.eq"><span class="id" title="definition">eq</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Comparisons.html#sym"><span class="id" title="method">sym</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#CompOpp_iff"><span class="id" title="lemma">CompOpp_iff</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Comparisons.html#tra"><span class="id" title="method">tra</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="OrdProperties.lt_strorder" class="idref" href="#OrdProperties.lt_strorder"><span class="id" title="instance">lt_strorder</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.RelationClasses.html#StrictOrder"><span class="id" title="class">StrictOrder</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.lt"><span class="id" title="definition">lt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.lt"><span class="id" title="definition">lt</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.compare_refl"><span class="id" title="lemma">compare_refl</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Comparisons.html#tra"><span class="id" title="method">tra</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="OrdProperties.lt_compat" class="idref" href="#OrdProperties.lt_compat"><span class="id" title="instance">lt_compat</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#OrdProperties.eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) <a class="idref" href="MMaps.Facts.html#OrdProperties.lt"><span class="id" title="definition">lt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">E</span> <span class="id" title="var">y</span> <span class="id" title="var">y'</span> <span class="id" title="var">E'</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.lt"><span class="id" title="definition">lt</span></a>,<a class="idref" href="MMaps.Facts.html#OrdProperties.eq"><span class="id" title="definition">eq</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> &lt;-.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Comparisons.html#SymTrans_CompatL"><span class="id" title="lemma">SymTrans_CompatL</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Comparisons.html#SymTrans_CompatR"><span class="id" title="lemma">SymTrans_CompatR</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Comparisons.html#SymTrans_CompatL"><span class="id" title="lemma">SymTrans_CompatL</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Comparisons.html#SymTrans_CompatR"><span class="id" title="lemma">SymTrans_CompatR</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="OrdProperties.compare_spec'" class="idref" href="#OrdProperties.compare_spec'"><span class="id" title="lemma">compare_spec'</span></a> <a id="m:1198" class="idref" href="#m:1198"><span class="id" title="binder">m</span></a> <a id="m':1199" class="idref" href="#m':1199"><span class="id" title="binder">m'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#CompareSpec"><span class="id" title="inductive">CompareSpec</span></a> (<a class="idref" href="MMaps.Facts.html#OrdProperties.eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="MMaps.Facts.html#m:1198"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':1199"><span class="id" title="variable">m'</span></a>) (<a class="idref" href="MMaps.Facts.html#OrdProperties.lt"><span class="id" title="definition">lt</span></a> <a class="idref" href="MMaps.Facts.html#m:1198"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':1199"><span class="id" title="variable">m'</span></a>) (<a class="idref" href="MMaps.Facts.html#OrdProperties.lt"><span class="id" title="definition">lt</span></a> <a class="idref" href="MMaps.Facts.html#m':1199"><span class="id" title="variable">m'</span></a> <a class="idref" href="MMaps.Facts.html#m:1198"><span class="id" title="variable">m</span></a>) (<a class="idref" href="MMaps.Facts.html#M.compare"><span class="id" title="axiom">compare</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.Elt.Compare.cmp"><span class="id" title="variable">cmp</span></a> <a class="idref" href="MMaps.Facts.html#m:1198"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':1199"><span class="id" title="variable">m'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.eq"><span class="id" title="definition">eq</span></a>, <a class="idref" href="MMaps.Facts.html#OrdProperties.lt"><span class="id" title="definition">lt</span></a>. <span class="id" title="tactic">rewrite</span> (@<a class="idref" href="MMaps.Comparisons.html#sym"><span class="id" title="method">sym</span></a> <span class="id" title="var">_</span> (<a class="idref" href="MMaps.Facts.html#M.compare"><span class="id" title="axiom">compare</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.Elt.Compare.cmp"><span class="id" title="variable">cmp</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span>).<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.compare"><span class="id" title="axiom">compare</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.Elt.Compare.cmp"><span class="id" title="variable">cmp</span></a> <span class="id" title="var">m</span> <span class="id" title="var">m'</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="OrdProperties.eq_spec" class="idref" href="#OrdProperties.eq_spec"><span class="id" title="lemma">eq_spec</span></a> <a id="m:1200" class="idref" href="#m:1200"><span class="id" title="binder">m</span></a> <a id="m':1201" class="idref" href="#m':1201"><span class="id" title="binder">m'</span></a> : <a class="idref" href="MMaps.Facts.html#OrdProperties.eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="MMaps.Facts.html#m:1200"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':1201"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.Equiv"><span class="id" title="definition">Equiv</span></a> (<span class="id" title="keyword">fun</span> <a id="e:1202" class="idref" href="#e:1202"><span class="id" title="binder">e</span></a> <a id="e':1203" class="idref" href="#e':1203"><span class="id" title="binder">e'</span></a> ⇒ <a class="idref" href="MMaps.Facts.html#OrdProperties.Elt.Compare.cmp"><span class="id" title="variable">cmp</span></a> <a class="idref" href="MMaps.Facts.html#e:1202"><span class="id" title="variable">e</span></a> <a class="idref" href="MMaps.Facts.html#e':1203"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a>) <a class="idref" href="MMaps.Facts.html#m:1200"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':1201"><span class="id" title="variable">m'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.compare_Equiv"><span class="id" title="lemma">compare_Equiv</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="OrdProperties.eq_dec" class="idref" href="#OrdProperties.eq_dec"><span class="id" title="definition">eq_dec</span></a> <a id="m:1204" class="idref" href="#m:1204"><span class="id" title="binder">m</span></a> <a id="m':1205" class="idref" href="#m':1205"><span class="id" title="binder">m'</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="MMaps.Facts.html#OrdProperties.eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="MMaps.Facts.html#m:1204"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':1205"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#OrdProperties.eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="MMaps.Facts.html#m:1204"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':1205"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.Facts.html#M.compare"><span class="id" title="axiom">compare</span></a> <a class="idref" href="MMaps.Facts.html#OrdProperties.Elt.Compare.cmp"><span class="id" title="variable">cmp</span></a> <span class="id" title="var">m</span> <span class="id" title="var">m'</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.eq"><span class="id" title="definition">eq</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.eq"><span class="id" title="definition">eq</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.Elt.Compare"><span class="id" title="section">Compare</span></a>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="MMaps.Facts.html#OrdProperties.Elt"><span class="id" title="section">Elt</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MMaps.Facts.html#OrdProperties"><span class="id" title="module">OrdProperties</span></a>.<br/>

<br/>
</div>

<div class="doc">
Modular statement of the last group of results :
    If we have an OrderedType on elements, then we have one on maps.
    While building OrderedType of sets was both direct and useful
    (for sets of sets), here OrderedType on maps is technically
    complex (extra structure for elements) and seldom used
    (maps or sets indexed by maps ??). Hence this separate functor. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <a id="OrderedMaps" class="idref" href="#OrderedMaps"><span class="id" title="module">OrderedMaps</span></a> (<span class="id" title="var">K</span>:<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Structures.Orders.html#OrderedType"><span class="id" title="module">OrderedType</span></a>)(<span class="id" title="var">D</span>:<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Structures.Orders.html#OrderedType"><span class="id" title="module">OrderedType</span></a>)(<span class="id" title="var">M</span>:<a class="idref" href="MMaps.Interface.html#S"><span class="id" title="module">S</span></a> <a class="idref" href="MMaps.Facts.html#K"><span class="id" title="module">K</span></a>) &lt;: <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Structures.Orders.html#OrderedType"><span class="id" title="module">OrderedType</span></a>.<br/>
&nbsp;<span class="id" title="keyword">Module</span> <a id="OrderedMaps.P" class="idref" href="#OrderedMaps.P"><span class="id" title="module">P</span></a> := <a class="idref" href="MMaps.Facts.html#OrdProperties"><span class="id" title="module">OrdProperties</span></a> <a class="idref" href="MMaps.Facts.html#K"><span class="id" title="module">K</span></a> <a class="idref" href="MMaps.Facts.html#M"><span class="id" title="module">M</span></a>.<br/>
&nbsp;<span class="id" title="keyword">Module</span> <a id="OrderedMaps.D'" class="idref" href="#OrderedMaps.D'"><span class="id" title="module">D'</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Structures.OrdersAlt.html#OT_to_Alt"><span class="id" title="module">OrdersAlt.OT_to_Alt</span></a>(<a class="idref" href="MMaps.Facts.html#D"><span class="id" title="module">D</span></a>).<br/>

<br/>
&nbsp;<span class="id" title="keyword">Definition</span> <a id="OrderedMaps.t" class="idref" href="#OrderedMaps.t"><span class="id" title="definition">t</span></a> := <a class="idref" href="MMaps.Facts.html#M.t"><span class="id" title="axiom">M.t</span></a> <a class="idref" href="MMaps.Facts.html#D.t"><span class="id" title="axiom">D.t</span></a>.<br/>
&nbsp;<span class="id" title="keyword">Definition</span> <a id="OrderedMaps.eq" class="idref" href="#OrderedMaps.eq"><span class="id" title="definition">eq</span></a> := <a class="idref" href="MMaps.Facts.html#OrderedMaps.eq"><span class="id" title="definition">P.eq</span></a> <a class="idref" href="MMaps.Facts.html#D.compare"><span class="id" title="axiom">D.compare</span></a>.<br/>
&nbsp;<span class="id" title="keyword">Definition</span> <a id="OrderedMaps.lt" class="idref" href="#OrderedMaps.lt"><span class="id" title="definition">lt</span></a> := <a class="idref" href="MMaps.Facts.html#OrderedMaps.lt"><span class="id" title="definition">P.lt</span></a> <a class="idref" href="MMaps.Facts.html#D.compare"><span class="id" title="axiom">D.compare</span></a>.<br/>
&nbsp;<span class="id" title="keyword">Definition</span> <a id="OrderedMaps.compare" class="idref" href="#OrderedMaps.compare"><span class="id" title="definition">compare</span></a> := <a class="idref" href="MMaps.Facts.html#M.compare"><span class="id" title="axiom">M.compare</span></a> <a class="idref" href="MMaps.Facts.html#D.compare"><span class="id" title="axiom">D.compare</span></a>.<br/>

<br/>
&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="OrderedMaps.Dcompare_symtrans" class="idref" href="#OrderedMaps.Dcompare_symtrans"><span class="id" title="instance">Dcompare_symtrans</span></a> : <a class="idref" href="MMaps.Comparisons.html#SymTrans"><span class="id" title="class">SymTrans</span></a> <a class="idref" href="MMaps.Facts.html#D.compare"><span class="id" title="axiom">D.compare</span></a>.<br/>
&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">exact</span> <a class="idref" href="MMaps.Facts.html#OrderedMaps.compare_sym"><span class="id" title="lemma">D'.compare_sym</span></a>. <span class="id" title="tactic">exact</span> <a class="idref" href="MMaps.Facts.html#OrderedMaps.compare_trans"><span class="id" title="lemma">D'.compare_trans</span></a>.<br/>
&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="OrderedMaps.compare_symtrans" class="idref" href="#OrderedMaps.compare_symtrans"><span class="id" title="instance">compare_symtrans</span></a> : <a class="idref" href="MMaps.Comparisons.html#SymTrans"><span class="id" title="class">SymTrans</span></a> <a class="idref" href="MMaps.Facts.html#OrderedMaps.compare"><span class="id" title="definition">compare</span></a>.<br/>
&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Facts.html#OrderedMaps.compare_symtrans"><span class="id" title="instance">P.compare_symtrans</span></a>, <a class="idref" href="MMaps.Facts.html#OrderedMaps.Dcompare_symtrans"><span class="id" title="instance">Dcompare_symtrans</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="OrderedMaps.eq_equiv" class="idref" href="#OrderedMaps.eq_equiv"><span class="id" title="instance">eq_equiv</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="MMaps.Facts.html#OrderedMaps.eq"><span class="id" title="definition">eq</span></a> := <a class="idref" href="MMaps.Facts.html#OrderedMaps.eq_equiv"><span class="id" title="instance">P.eq_equiv</span></a> <span class="id" title="var">_</span>.<br/>
&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="OrderedMaps.lt_strorder" class="idref" href="#OrderedMaps.lt_strorder"><span class="id" title="instance">lt_strorder</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.RelationClasses.html#StrictOrder"><span class="id" title="class">StrictOrder</span></a> <a class="idref" href="MMaps.Facts.html#OrderedMaps.lt"><span class="id" title="definition">lt</span></a> := <a class="idref" href="MMaps.Facts.html#OrderedMaps.lt_strorder"><span class="id" title="instance">P.lt_strorder</span></a> <span class="id" title="var">_</span>.<br/>
&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="OrderedMaps.lt_compat" class="idref" href="#OrderedMaps.lt_compat"><span class="id" title="instance">lt_compat</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.Facts.html#OrderedMaps.eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="MMaps.Facts.html#OrderedMaps.eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) <a class="idref" href="MMaps.Facts.html#OrderedMaps.lt"><span class="id" title="definition">lt</span></a> := <a class="idref" href="MMaps.Facts.html#OrderedMaps.lt_compat"><span class="id" title="instance">P.lt_compat</span></a> <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Lemma</span> <a id="OrderedMaps.compare_spec" class="idref" href="#OrderedMaps.compare_spec"><span class="id" title="lemma">compare_spec</span></a> (<a id="m:1206" class="idref" href="#m:1206"><span class="id" title="binder">m</span></a> <a id="m':1207" class="idref" href="#m':1207"><span class="id" title="binder">m'</span></a> :<a class="idref" href="MMaps.Facts.html#OrderedMaps.t"><span class="id" title="definition">t</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#CompareSpec"><span class="id" title="inductive">CompareSpec</span></a> (<a class="idref" href="MMaps.Facts.html#OrderedMaps.eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="MMaps.Facts.html#m:1206"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':1207"><span class="id" title="variable">m'</span></a>) (<a class="idref" href="MMaps.Facts.html#OrderedMaps.lt"><span class="id" title="definition">lt</span></a> <a class="idref" href="MMaps.Facts.html#m:1206"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':1207"><span class="id" title="variable">m'</span></a>) (<a class="idref" href="MMaps.Facts.html#OrderedMaps.lt"><span class="id" title="definition">lt</span></a> <a class="idref" href="MMaps.Facts.html#m':1207"><span class="id" title="variable">m'</span></a> <a class="idref" href="MMaps.Facts.html#m:1206"><span class="id" title="variable">m</span></a>) (<a class="idref" href="MMaps.Facts.html#OrderedMaps.compare"><span class="id" title="definition">compare</span></a> <a class="idref" href="MMaps.Facts.html#m:1206"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':1207"><span class="id" title="variable">m'</span></a>).<br/>
&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="MMaps.Facts.html#OrderedMaps.compare_spec'"><span class="id" title="lemma">P.compare_spec'</span></a> <span class="id" title="var">_</span>). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Definition</span> <a id="OrderedMaps.eq_dec" class="idref" href="#OrderedMaps.eq_dec"><span class="id" title="definition">eq_dec</span></a> : <span class="id" title="keyword">∀</span> <a id="m:1208" class="idref" href="#m:1208"><span class="id" title="binder">m</span></a> <a id="m':1209" class="idref" href="#m':1209"><span class="id" title="binder">m'</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="MMaps.Facts.html#OrderedMaps.eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="MMaps.Facts.html#m:1208"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':1209"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}+{</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="MMaps.Facts.html#OrderedMaps.eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="MMaps.Facts.html#m:1208"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':1209"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> := <a class="idref" href="MMaps.Facts.html#OrderedMaps.eq_dec"><span class="id" title="definition">P.eq_dec</span></a> <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
Extra description of <span class="inlinecode"><a class="idref" href="MMaps.Facts.html#OrderedMaps.eq"><span class="id" title="definition">eq</span></a></span> : 
</div>
<div class="code">

<br/>
&nbsp;<span class="id" title="keyword">Lemma</span> <a id="OrderedMaps.eq_spec" class="idref" href="#OrderedMaps.eq_spec"><span class="id" title="lemma">eq_spec</span></a> <a id="m:1210" class="idref" href="#m:1210"><span class="id" title="binder">m</span></a> <a id="m':1211" class="idref" href="#m':1211"><span class="id" title="binder">m'</span></a> : <a class="idref" href="MMaps.Facts.html#OrderedMaps.eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="MMaps.Facts.html#m:1210"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':1211"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.Facts.html#M.Equiv"><span class="id" title="definition">M.Equiv</span></a> <a class="idref" href="MMaps.Facts.html#D.eq"><span class="id" title="axiom">D.eq</span></a> <a class="idref" href="MMaps.Facts.html#m:1210"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.Facts.html#m':1211"><span class="id" title="variable">m'</span></a>.<br/>
&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#OrderedMaps.eq"><span class="id" title="definition">eq</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.Facts.html#OrderedMaps.eq_spec"><span class="id" title="lemma">P.eq_spec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Facts.html#M.Equiv"><span class="id" title="definition">M.Equiv</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MMaps.Facts.html#OrderedMaps.compare_Eq"><span class="id" title="lemma">D'.compare_Eq</span></a>.<br/>
&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MMaps.Facts.html#OrderedMaps"><span class="id" title="module">OrderedMaps</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
